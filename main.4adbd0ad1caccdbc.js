"use strict";var lL=Object.defineProperty,cL=Object.defineProperties,uL=Object.getOwnPropertyDescriptors,pO=Object.getOwnPropertySymbols,dL=Object.prototype.hasOwnProperty,hL=Object.prototype.propertyIsEnumerable,gO=($e,me,P)=>me in $e?lL($e,me,{enumerable:!0,configurable:!0,writable:!0,value:P}):$e[me]=P,mO=($e,me)=>{for(var P in me||(me={}))dL.call(me,P)&&gO($e,P,me[P]);if(pO)for(var P of pO(me))hL.call(me,P)&&gO($e,P,me[P]);return $e},_O=($e,me)=>cL($e,uL(me));(self.webpackChunkChatApp=self.webpackChunkChatApp||[]).push([[179],{2011:($e,me,P)=>{P.d(me,{hO:()=>Ue,xv:()=>he,Dh:()=>ue,GT:()=>_e,cc:()=>we,on:()=>H,pX:()=>le});var c=P(5e3),ee=P(127),N=P(5813);$e=P.hmd($e);const ce=["ngOnDestroy"],le=(pe,Re,Le,Ne={})=>new Proxy(pe,{get:(ze,Ie)=>Le.runOutsideAngular(()=>{var qe;if(pe[Ie])return(null===(qe=null==Ne?void 0:Ne.spy)||void 0===qe?void 0:qe.get)&&Ne.spy.get(Ie,pe[Ie]),pe[Ie];if(ce.indexOf(Ie)>-1)return()=>{};const He=Re.toPromise().then(ve=>{const z=ve&&ve[Ie];return"function"==typeof z?z.bind(ve):z&&z.then?z.then(re=>Le.run(()=>re)):Le.run(()=>z)});return new Proxy(()=>{},{get:(ve,z)=>He[z],apply:(ve,z,re)=>He.then(de=>{var ge;const Ae=de&&de(...re);return(null===(ge=null==Ne?void 0:Ne.spy)||void 0===ge?void 0:ge.apply)&&Ne.spy.apply(Ie,re,Ae),Ae})})})}),_e=(pe,Re)=>{Re.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ne=>{Object.defineProperty(pe.prototype,Ne,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ne))})})};class ie{constructor(Re){return Re}}const ue=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function H(pe,Re,Le){const ze="object"==typeof Le&&Le||{};ze.name=ze.name||"string"==typeof Le&&Le||"[DEFAULT]";const qe=ee.Z.apps.filter(He=>He&&He.name===ze.name)[0]||Re.runOutsideAngular(()=>ee.Z.initializeApp(pe,ze));try{JSON.stringify(pe)!==JSON.stringify(qe.options)&&W("error",`${qe.name} Firebase App already initialized with different options${$e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new ie(qe)}const W=(pe,...Re)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[pe](...Re)},oe={provide:ie,useFactory:H,deps:[ue,c.R0b,[new c.FiY,he]]};let Ue=(()=>{class pe{constructor(Le){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",c.q4F.full,Le.toString())}static initializeApp(Le,Ne){return{ngModule:pe,providers:[{provide:ue,useValue:Le},{provide:he,useValue:Ne}]}}}return pe.\u0275fac=function(Le){return new(Le||pe)(c.LFG(c.Lbi))},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({providers:[oe]}),pe})();function we(pe,Re,Le,Ne,ze){const[,Ie,qe]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===pe)||[];if(Ie)return function xe(pe,Re){try{return pe.toString()===Re.toString()}catch(Le){return pe===Re}}(ze,qe)||(fe("error",`${Re} was already initialized on the ${Le} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ze,was:qe})),Ie;{const He=Ne();return globalThis.\u0275AngularfireInstanceCache.push([pe,He,ze]),He}}const Fe=!!$e.hot,fe=(pe,...Re)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[pe](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:($e,me,P)=>{P.d(me,{q4:()=>Ru,iC:()=>ma,HU:()=>fl,vb:()=>dh,JM:()=>uh});var c=P(5e3),ee=P(5867),N=P(5861),ce=P(9681),le=P(2090),_e=P(4859),ie=P(1877),ue=P(8766);const he="@firebase/installations",H="0.5.9",oe=`w:${H}`,Ue="FIS_v2",Re=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(w){return w instanceof le.ZR&&w.code.includes("request-failed")}function Ne({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ze(w){return{token:w.token,requestStatus:2,expiresIn:de(w.expiresIn),creationTime:Date.now()}}function Ie(w,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,N.Z)(function*(w,T){const B=(yield T.json()).error;return Re.create("request-failed",{requestName:w,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function He({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ve(w,{refreshToken:T}){const x=He(w);return x.append("Authorization",function ge(w){return`${Ue} ${w}`}(T)),x}function z(w){return re.apply(this,arguments)}function re(){return(re=(0,N.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function de(w){return Number(w.replace("s","000"))}function Ae(w,T){return ae.apply(this,arguments)}function ae(){return(ae=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:x}){const B=Ne(w),K=He(w),X=T.getImmediate({optional:!0});if(X){const dt=yield X.getHeartbeatsHeader();dt&&K.append("x-firebase-client",dt)}const Ge={method:"POST",headers:K,body:JSON.stringify({fid:x,authVersion:Ue,appId:w.appId,sdkVersion:oe})},nt=yield z(()=>fetch(B,Ge));if(nt.ok){const dt=yield nt.json();return{fid:dt.fid||x,registrationStatus:2,refreshToken:dt.refreshToken,authToken:ze(dt.authToken)}}throw yield Ie("Create Installation",nt)})).apply(this,arguments)}function at(w){return new Promise(T=>{setTimeout(T,w)})}const un=/^[cdef][\w-]{21}$/;function ft(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const x=function gn(w){return function Tt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return un.test(x)?x:""}catch(w){return""}}function $t(w){return`${w.appName}!${w.appId}`}const jn=new Map;function Yt(w,T){const x=$t(w);Ln(x,T),function xr(w,T){const x=function Ut(){return!hi&&"BroadcastChannel"in self&&(hi=new BroadcastChannel("[Firebase] FID Change"),hi.onmessage=w=>{Ln(w.data.key,w.data.fid)}),hi}();x&&x.postMessage({key:w,fid:T}),function mn(){0===jn.size&&hi&&(hi.close(),hi=null)}()}(x,T)}function Ln(w,T){const x=jn.get(w);if(x)for(const B of x)B(T)}let hi=null;const si="firebase-installations-store";let Oe=null;function et(){return Oe||(Oe=(0,ue.X3)("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(si)}})),Oe}function In(w,T){return _n.apply(this,arguments)}function _n(){return(_n=(0,N.Z)(function*(w,T){const x=$t(w),K=(yield et()).transaction(si,"readwrite"),X=K.objectStore(si),Me=yield X.get(x);return yield X.put(T,x),yield K.done,(!Me||Me.fid!==T.fid)&&Yt(w,T.fid),T})).apply(this,arguments)}function jt(w){return ts.apply(this,arguments)}function ts(){return(ts=(0,N.Z)(function*(w){const T=$t(w),B=(yield et()).transaction(si,"readwrite");yield B.objectStore(si).delete(T),yield B.done})).apply(this,arguments)}function qi(w,T){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,N.Z)(function*(w,T){const x=$t(w),K=(yield et()).transaction(si,"readwrite"),X=K.objectStore(si),Me=yield X.get(x),Ge=T(Me);return void 0===Ge?yield X.delete(x):yield X.put(Ge,x),yield K.done,Ge&&(!Me||Me.fid!==Ge.fid)&&Yt(w,Ge.fid),Ge})).apply(this,arguments)}function dn(w){return wi.apply(this,arguments)}function wi(){return(wi=(0,N.Z)(function*(w){let T;const x=yield qi(w.appConfig,B=>{const K=Zo(B),X=Lt(w,K);return T=X.registrationPromise,X.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function Zo(w){return rn(w||{fid:ft(),registrationStatus:0})}function Lt(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Re.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},B=function Xe(w,T){return st.apply(this,arguments)}(w,x);return{installationEntry:x,registrationPromise:B}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ns(w)}:{installationEntry:T}}function st(){return(st=(0,N.Z)(function*(w,T){try{const x=yield Ae(w,T);return In(w.appConfig,x)}catch(x){throw Le(x)&&409===x.customData.serverCode?yield jt(w.appConfig):yield In(w.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function ns(w){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(w){let T=yield At(w.appConfig);for(;1===T.registrationStatus;)yield at(100),T=yield At(w.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:B}=yield dn(w);return B||x}return T})).apply(this,arguments)}function At(w){return qi(w,T=>{if(!T)throw Re.create("installation-not-found");return rn(T)})}function rn(w){return function Bt(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Di(w,T){return j.apply(this,arguments)}function j(){return(j=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:T},x){const B=q(w,x),K=ve(w,x),X=T.getImmediate({optional:!0});if(X){const dt=yield X.getHeartbeatsHeader();dt&&K.append("x-firebase-client",dt)}const Ge={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:oe,appId:w.appId}})},nt=yield z(()=>fetch(B,Ge));if(nt.ok)return ze(yield nt.json());throw yield Ie("Generate Auth Token",nt)})).apply(this,arguments)}function q(w,{fid:T}){return`${Ne(w)}/${T}/authTokens:generate`}function Y(w){return be.apply(this,arguments)}function be(){return(be=(0,N.Z)(function*(w,T=!1){let x;const B=yield qi(w.appConfig,X=>{if(!Ct(X))throw Re.create("not-registered");const Me=X.authToken;if(!T&&Kt(Me))return X;if(1===Me.requestStatus)return x=G(w,T),X;{if(!navigator.onLine)throw Re.create("app-offline");const Ge=fi(X);return x=Ze(w,Ge),Ge}});return x?yield x:B.authToken})).apply(this,arguments)}function G(w,T){return te.apply(this,arguments)}function te(){return(te=(0,N.Z)(function*(w,T){let x=yield Te(w.appConfig);for(;1===x.authToken.requestStatus;)yield at(100),x=yield Te(w.appConfig);const B=x.authToken;return 0===B.requestStatus?Y(w,T):B})).apply(this,arguments)}function Te(w){return qi(w,T=>{if(!Ct(T))throw Re.create("not-registered");return function Ii(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ze(w,T){return ut.apply(this,arguments)}function ut(){return(ut=(0,N.Z)(function*(w,T){try{const x=yield Di(w,T),B=Object.assign(Object.assign({},T),{authToken:x});return yield In(w.appConfig,B),x}catch(x){if(!Le(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const B=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield In(w.appConfig,B)}else yield jt(w.appConfig);throw x}})).apply(this,arguments)}function Ct(w){return void 0!==w&&2===w.registrationStatus}function Kt(w){return 2===w.requestStatus&&!function yt(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function fi(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function za(){return(za=(0,N.Z)(function*(w){const T=w,{installationEntry:x,registrationPromise:B}=yield dn(T);return B?B.catch(console.error):Y(T).catch(console.error),x.fid})).apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(w,T=!1){const x=w;return yield Tn(x),(yield Y(x,T)).token})).apply(this,arguments)}function Tn(w){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(w){const{registrationPromise:T}=yield dn(w);T&&(yield T)})).apply(this,arguments)}function Fs(w){return Re.create("missing-app-config-values",{valueName:w})}const Ti="installations",Dt=w=>{const T=w.getProvider("app").getImmediate(),x=function Kn(w){if(!w||!w.options)throw Fs("App Configuration");if(!w.name)throw Fs("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!w.options[x])throw Fs(x);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},zt=w=>{const T=w.getProvider("app").getImmediate(),x=(0,ce._getProvider)(T,Ti).getImmediate();return{getId:()=>function iu(w){return za.apply(this,arguments)}(x),getToken:K=>function Ga(w){return go.apply(this,arguments)}(x,K)}};(function $n(){(0,ce._registerComponent)(new _e.wA(Ti,Dt,"PUBLIC")),(0,ce._registerComponent)(new _e.wA("installations-internal",zt,"PRIVATE"))})(),(0,ce.registerVersion)(he,H),(0,ce.registerVersion)(he,H,"esm2017");const Qn="@firebase/remote-config",an=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qf{constructor(T,x,B,K){this.client=T,this.storage=x,this.storageCache=B,this.logger=K}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-x,K=B<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var x=this;return(0,N.Z)(function*(){const[B,K]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(K&&x.isCachedDataFresh(T.cacheMaxAgeMillis,B))return K;T.eTag=K&&K.eTag;const X=yield x.client.fetch(T),Me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&Me.push(x.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(Me),X})()}}function Qd(w=navigator){return w.languages&&w.languages[0]||w.language}class Yi{constructor(T,x,B,K,X,Me){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=B,this.projectId=K,this.apiKey=X,this.appId=Me}fetch(T){var x=this;return(0,N.Z)(function*(){const[B,K]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},nt={sdk_version:x.sdkVersion,app_instance_id:B,app_instance_id_token:K,app_id:x.appId,language_code:Qd()},dt={method:"POST",headers:Ge,body:JSON.stringify(nt)},xt=fetch(Me,dt),_t=new Promise((Dr,ji)=>{T.signal.addEventListener(()=>{const Es=new Error("The operation was aborted.");Es.name="AbortError",ji(Es)})});let ii;try{yield Promise.race([xt,_t]),ii=yield xt}catch(Dr){let ji="fetch-client-network";throw"AbortError"===Dr.name&&(ji="fetch-timeout"),an.create(ji,{originalErrorMessage:Dr.message})}let Gt=ii.status;const Gr=ii.headers.get("ETag")||void 0;let nr,bs;if(200===ii.status){let Dr;try{Dr=yield ii.json()}catch(ji){throw an.create("fetch-client-parse",{originalErrorMessage:ji.message})}nr=Dr.entries,bs=Dr.state}if("INSTANCE_STATE_UNSPECIFIED"===bs?Gt=500:"NO_CHANGE"===bs?Gt=304:("NO_TEMPLATE"===bs||"EMPTY_CONFIG"===bs)&&(nr={}),304!==Gt&&200!==Gt)throw an.create("fetch-status",{httpStatus:Gt});return{status:Gt,eTag:Gr,config:nr}})()}}class Xo{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,N.Z)(function*(){const B=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,B)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:B}){var K=this;return(0,N.Z)(function*(){yield function Xd(w,T){return new Promise((x,B)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(x,K);w.addEventListener(()=>{clearTimeout(X),B(an.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const X=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),X}catch(X){if(!function Xf(w){if(!(w instanceof le.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(X))throw X;const Me={throttleEndTimeMillis:Date.now()+(0,le.$s)(B),backoffCount:B+1};return yield K.storage.setThrottleMetadata(Me),K.attemptFetch(T,Me)}})()}}class eh{constructor(T,x,B,K,X){this.app=T,this._client=x,this._storageCache=B,this._storage=K,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jo(w,T){const x=w.target.error||void 0;return an.create(T,{originalErrorMessage:x&&x.message})}const yo="app_namespace_store";class Gl{constructor(T,x,B,K=function cu(){return new Promise((w,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=B=>{T(Jo(B,"storage-open"))},x.onsuccess=B=>{w(B.target.result)},x.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(x){T(an.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=B,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,N.Z)(function*(){const B=yield x.openDbPromise;return new Promise((K,X)=>{const Ge=B.transaction([yo],"readonly").objectStore(yo),nt=x.createCompositeKey(T);try{const dt=Ge.get(nt);dt.onerror=xt=>{X(Jo(xt,"storage-get"))},dt.onsuccess=xt=>{const _t=xt.target.result;K(_t?_t.value:void 0)}}catch(dt){X(an.create("storage-get",{originalErrorMessage:dt&&dt.message}))}})})()}set(T,x){var B=this;return(0,N.Z)(function*(){const K=yield B.openDbPromise;return new Promise((X,Me)=>{const nt=K.transaction([yo],"readwrite").objectStore(yo),dt=B.createCompositeKey(T);try{const xt=nt.put({compositeKey:dt,value:x});xt.onerror=_t=>{Me(Jo(_t,"storage-set"))},xt.onsuccess=()=>{X()}}catch(xt){Me(an.create("storage-set",{originalErrorMessage:xt&&xt.message}))}})})()}delete(T){var x=this;return(0,N.Z)(function*(){const B=yield x.openDbPromise;return new Promise((K,X)=>{const Ge=B.transaction([yo],"readwrite").objectStore(yo),nt=x.createCompositeKey(T);try{const dt=Ge.delete(nt);dt.onerror=xt=>{X(Jo(xt,"storage-delete"))},dt.onsuccess=()=>{K()}}catch(dt){X(an.create("storage-delete",{originalErrorMessage:dt&&dt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class uu{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const x=T.storage.getLastFetchStatus(),B=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),X=yield x;X&&(T.lastFetchStatus=X);const Me=yield B;Me&&(T.lastSuccessfulFetchTimestampMillis=Me);const Ge=yield K;Ge&&(T.activeConfig=Ge)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function du(){return ql.apply(this,arguments)}function ql(){return(ql=(0,N.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(w){return!1}})).apply(this,arguments)}!function ep(){(0,ce._registerComponent)(new _e.wA("remote-config",function w(T,{instanceIdentifier:x}){const B=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw an.create("registration-window");if(!(0,le.hl)())throw an.create("indexed-db-unavailable");const{projectId:X,apiKey:Me,appId:Ge}=B.options;if(!X)throw an.create("registration-project-id");if(!Me)throw an.create("registration-api-key");if(!Ge)throw an.create("registration-app-id");const nt=new Gl(Ge,B.name,x=x||"firebase"),dt=new uu(nt),xt=new ie.Yd(Qn);xt.logLevel=ie.in.ERROR;const _t=new Yi(K,ce.SDK_VERSION,x,X,Me,Ge),ii=new Xo(_t,nt),Gt=new Qf(ii,nt,dt,xt),Gr=new eh(B,Gt,dt,nt,xt);return function en(w){const T=(0,le.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Gr),Gr},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Qn,"0.3.8"),(0,ce.registerVersion)(Qn,"0.3.8","esm2017")}();const hu="/firebase-messaging-sw.js",Bs="/firebase-cloud-messaging-push-scope",Wa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vs="google.c.a.c_id",th="google.c.a.c_l",fu="google.c.a.ts",Ki="google.c.a.e";var as=(()=>{return(w=as||(as={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",as;var w})();function Qi(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yr(w){const x=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(x),K=new Uint8Array(B.length);for(let X=0;X<B.length;++X)K[X]=B.charCodeAt(X);return K}const pi="fcm_token_details_db",pu="fcm_token_object_Store";function Za(w){return gu.apply(this,arguments)}function gu(){return gu=(0,N.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(pi))return null;let T=null;return(yield(0,ue.X3)(pi,5,{upgrade:(B=(0,N.Z)(function*(K,X,Me,Ge){var nt;if(X<2||!K.objectStoreNames.contains(pu))return;const dt=Ge.objectStore(pu),xt=yield dt.index("fcmSenderId").get(w);if(yield dt.clear(),xt)if(2===X){const _t=xt;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;T={token:_t.fcmToken,createTime:null!==(nt=_t.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:Qi(_t.vapidKey)}}}else if(3===X){const _t=xt;T={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:Qi(_t.auth),p256dh:Qi(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:Qi(_t.vapidKey)}}}else if(4===X){const _t=xt;T={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:Qi(_t.auth),p256dh:Qi(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:Qi(_t.vapidKey)}}}}),function(X,Me,Ge,nt){return B.apply(this,arguments)})})).close(),yield(0,ue.Lj)(pi),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),na(T)?T:null;var B}),gu.apply(this,arguments)}function na(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const vr="firebase-messaging-store";let ls=null;function vn(){return ls||(ls=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(vr)}})),ls}function mu(w){return cs.apply(this,arguments)}function cs(){return(cs=(0,N.Z)(function*(w){const T=gi(w),B=yield(yield vn()).transaction(vr).objectStore(vr).get(T);if(B)return B;{const K=yield Za(w.appConfig.senderId);if(K)return yield Fr(w,K),K}})).apply(this,arguments)}function Fr(w,T){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,N.Z)(function*(w,T){const x=gi(w),K=(yield vn()).transaction(vr,"readwrite");return yield K.objectStore(vr).put(T,x),yield K.done,T})).apply(this,arguments)}function Bi(w){return br.apply(this,arguments)}function br(){return(br=(0,N.Z)(function*(w){const T=gi(w),B=(yield vn()).transaction(vr,"readwrite");yield B.objectStore(vr).delete(T),yield B.done})).apply(this,arguments)}function gi({appConfig:w}){return w.appId}const Rn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vo(w,T){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,N.Z)(function*(w,T){const x=yield bo(w),B=ia(T),K={method:"POST",headers:x,body:JSON.stringify(B)};let X;try{X=yield(yield fetch(js(w.appConfig),K)).json()}catch(Me){throw Rn.create("token-subscribe-failed",{errorInfo:Me})}if(X.error)throw Rn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw Rn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Jn(w,T){return Us.apply(this,arguments)}function Us(){return(Us=(0,N.Z)(function*(w,T){const x=yield bo(w),B=ia(T.subscriptionOptions),K={method:"PATCH",headers:x,body:JSON.stringify(B)};let X;try{X=yield(yield fetch(`${js(w.appConfig)}/${T.token}`,K)).json()}catch(Me){throw Rn.create("token-update-failed",{errorInfo:Me})}if(X.error)throw Rn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw Rn.create("token-update-no-token");return X.token})).apply(this,arguments)}function us(w,T){return ot.apply(this,arguments)}function ot(){return(ot=(0,N.Z)(function*(w,T){const B={method:"DELETE",headers:yield bo(w)};try{const X=yield(yield fetch(`${js(w.appConfig)}/${T}`,B)).json();if(X.error)throw Rn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(K){throw Rn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function js({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function bo(w){return ei.apply(this,arguments)}function ei(){return(ei=(0,N.Z)(function*({appConfig:w,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ia({p256dh:w,auth:T,endpoint:x,vapidKey:B}){const K={web:{endpoint:x,auth:T,p256dh:w}};return B!==Wa&&(K.web.applicationPubKey=B),K}const Yl=6048e5;function Ya(w){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,N.Z)(function*(w){const T=yield ti(w.swRegistration,w.vapidKey),x={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:Qi(T.getKey("auth")),p256dh:Qi(T.getKey("p256dh"))},B=yield mu(w.firebaseDependencies);if(B){if(Ka(B.subscriptionOptions,x))return Date.now()>=B.createTime+Yl?_u(w,{token:B.token,createTime:Date.now(),subscriptionOptions:x}):B.token;try{yield us(w.firebaseDependencies,B.token)}catch(K){console.warn(K)}return Co(w.firebaseDependencies,x)}return Co(w.firebaseDependencies,x)})).apply(this,arguments)}function De(w){return St.apply(this,arguments)}function St(){return(St=(0,N.Z)(function*(w){const T=yield mu(w.firebaseDependencies);T&&(yield us(w.firebaseDependencies,T.token),yield Bi(w.firebaseDependencies));const x=yield w.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function _u(w,T){return tn.apply(this,arguments)}function tn(){return(tn=(0,N.Z)(function*(w,T){try{const x=yield Jn(w.firebaseDependencies,T),B=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Fr(w.firebaseDependencies,B),x}catch(x){throw yield De(w),x}})).apply(this,arguments)}function Co(w,T){return ds.apply(this,arguments)}function ds(){return(ds=(0,N.Z)(function*(w,T){const B={token:yield vo(w,T),createTime:Date.now(),subscriptionOptions:T};return yield Fr(w,B),B.token})).apply(this,arguments)}function ti(w,T){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,N.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yr(T)})})).apply(this,arguments)}function Ka(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function Qa(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function yu(w,T){if(!T.notification)return;w.notification={};const x=T.notification.title;x&&(w.notification.title=x);const B=T.notification.body;B&&(w.notification.body=B);const K=T.notification.image;K&&(w.notification.image=K)}(T,w),function wo(w,T){!T.data||(w.data=T.data)}(T,w),function Hs(w,T){if(!T.fcmOptions)return;w.fcmOptions={};const x=T.fcmOptions.link;x&&(w.fcmOptions.link=x);const B=T.fcmOptions.analytics_label;B&&(w.fcmOptions.analyticsLabel=B)}(T,w),T}function Bn(w){return"object"==typeof w&&!!w&&Vs in w}function Xi(w,T){const x=[];for(let B=0;B<w.length;B++)x.push(w.charAt(B)),B<T.length&&x.push(T.charAt(B));return x.join("")}function Er(w){return Rn.create("missing-app-config-values",{valueName:w})}Xi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ji{constructor(T,x,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Xa(w){if(!w||!w.options)throw Er("App Configuration Object");if(!w.name)throw Er("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=w;for(const B of T)if(!x[B])throw Er(B);return{appName:w.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:x,analyticsProvider:B}}_delete(){return Promise.resolve()}}function vu(w){return Do.apply(this,arguments)}function Do(){return(Do=(0,N.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(hu,{scope:Bs}),w.swRegistration.update().catch(()=>{})}catch(T){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function nh(w,T){return ra.apply(this,arguments)}function ra(){return(ra=(0,N.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield vu(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function Io(w,T){return $s.apply(this,arguments)}function $s(){return($s=(0,N.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=Wa)})).apply(this,arguments)}function sa(){return(sa=(0,N.Z)(function*(w,T){if(!navigator)throw Rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rn.create("permission-blocked");return yield Io(w,null==T?void 0:T.vapidKey),yield nh(w,null==T?void 0:T.serviceWorkerRegistration),Ya(w)})).apply(this,arguments)}function Ja(w,T,x){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,N.Z)(function*(w,T,x){const B=So(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:x[Vs],message_name:x[th],message_time:x[fu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function So(w){switch(w){case as.NOTIFICATION_CLICKED:return"notification_open";case as.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function oa(){return(oa=(0,N.Z)(function*(w,T){const x=T.data;if(!x.isFirebaseMessaging)return;w.onMessageHandler&&x.messageType===as.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Qa(x)):w.onMessageHandler.next(Qa(x)));const B=x.data;Bn(B)&&"1"===B[Ki]&&(yield Ja(w,x.messageType,B))})).apply(this,arguments)}const el="@firebase/messaging",tl=w=>{const T=new Ji(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ih(w,T){return oa.apply(this,arguments)}(T,x)),T},bu=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:B=>function To(w,T){return sa.apply(this,arguments)}(T,B)}};function On(){return zn.apply(this,arguments)}function zn(){return(zn=(0,N.Z)(function*(){try{yield(0,le.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function np(){(0,ce._registerComponent)(new _e.wA("messaging",tl,"PUBLIC")),(0,ce._registerComponent)(new _e.wA("messaging-internal",bu,"PRIVATE")),(0,ce.registerVersion)(el,"0.9.13"),(0,ce.registerVersion)(el,"0.9.13","esm2017")}();const hs="analytics",nl="firebase_id",Cu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Br="https://www.googletagmanager.com/gtag/js",En=new ie.Yd("@firebase/analytics");function lh(w){return Promise.all(w.map(T=>T.catch(x=>x)))}function wu(w,T){const x=document.createElement("script");x.src=`${Br}?l=${w}&id=${T}`,x.async=!0,document.head.appendChild(x)}function Du(w,T,x,B,K,X){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,N.Z)(function*(w,T,x,B,K,X){const Me=B[K];try{if(Me)yield T[Me];else{const nt=(yield lh(x)).find(dt=>dt.measurementId===K);nt&&(yield T[nt.appId])}}catch(Ge){En.error(Ge)}w("config",K,X)})).apply(this,arguments)}function ca(w,T,x,B,K){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,N.Z)(function*(w,T,x,B,K){try{let X=[];if(K&&K.send_to){let Me=K.send_to;Array.isArray(Me)||(Me=[Me]);const Ge=yield lh(x);for(const nt of Me){const dt=Ge.find(_t=>_t.measurementId===nt),xt=dt&&T[dt.appId];if(!xt){X=[];break}X.push(xt)}}0===X.length&&(X=Object.values(T)),yield Promise.all(X),w("event",B,K||{})}catch(X){En.error(X)}})).apply(this,arguments)}function oi(){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(Br))return T;return null}const Ft=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),It=new class Je{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ni(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function kn(w){return ua.apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(w){var T;const{appId:x,apiKey:B}=w,K={method:"GET",headers:ni(B)},X=Cu.replace("{app-id}",x),Me=yield fetch(X,K);if(200!==Me.status&&304!==Me.status){let Ge="";try{const nt=yield Me.json();(null===(T=nt.error)||void 0===T?void 0:T.message)&&(Ge=nt.error.message)}catch(nt){}throw Ft.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:Ge})}return Me.json()})).apply(this,arguments)}function dm(w){return ec.apply(this,arguments)}function ec(){return(ec=(0,N.Z)(function*(w,T=It,x){const{appId:B,apiKey:K,measurementId:X}=w.options;if(!B)throw Ft.create("no-app-id");if(!K){if(X)return{measurementId:X,appId:B};throw Ft.create("no-api-key")}const Me=T.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new tc;return setTimeout((0,N.Z)(function*(){Ge.abort()}),void 0!==x?x:6e4),Tu({appId:B,apiKey:K,measurementId:X},Me,Ge,T)})).apply(this,arguments)}function Tu(w,T,x){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,N.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:x},B,K=It){const{appId:X,measurementId:Me}=w;try{yield zs(B,T)}catch(Ge){if(Me)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:X,measurementId:Me};throw Ge}try{const Ge=yield kn(w);return K.deleteThrottleMetadata(X),Ge}catch(Ge){if(!Vi(Ge)){if(K.deleteThrottleMetadata(X),Me)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:X,measurementId:Me};throw Ge}const nt=503===Number(Ge.customData.httpStatus)?(0,le.$s)(x,K.intervalMillis,30):(0,le.$s)(x,K.intervalMillis),dt={throttleEndTimeMillis:Date.now()+nt,backoffCount:x+1};return K.setThrottleMetadata(X,dt),En.debug(`Calling attemptFetch again in ${nt} millis`),Tu(w,dt,B,K)}})).apply(this,arguments)}function zs(w,T){return new Promise((x,B)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(x,K);w.addEventListener(()=>{clearTimeout(X),B(Ft.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Vi(w){if(!(w instanceof le.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class tc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function nc(){return ps.apply(this,arguments)}function ps(){return(ps=(0,N.Z)(function*(){if(!(0,le.hl)())return En.warn(Ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(w){return En.warn(Ft.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function ln(){return(ln=(0,N.Z)(function*(w,T,x,B,K,X,Me){var Ge;const nt=dm(w);nt.then(Gt=>{x[Gt.measurementId]=Gt.appId,w.options.measurementId&&Gt.measurementId!==w.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Gt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gt=>En.error(Gt)),T.push(nt);const dt=nc().then(Gt=>{if(Gt)return B.getId()}),[xt,_t]=yield Promise.all([nt,dt]);oi()||wu(X,xt.measurementId),K("js",new Date);const ii=null!==(Ge=null==Me?void 0:Me.config)&&void 0!==Ge?Ge:{};return ii.origin="firebase",ii.update=!0,null!=_t&&(ii[nl]=_t),K("config",xt.measurementId,ii),xt.measurementId})).apply(this,arguments)}class ol{constructor(T){this.app=T}_delete(){return delete er[this.app.options.appId],Promise.resolve()}}let er={},Ro=[];const ha={};let gs,ms,al="dataLayer",Vr=!1;function Ui(w,T,x){!function tr(){const w=[];if((0,le.ru)()&&w.push("This is a browser extension environment."),(0,le.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((B,K)=>`(${K+1}) ${B}`).join(" "),x=Ft.create("invalid-analytics-context",{errorInfo:T});En.warn(x.message)}}();const B=w.options.appId;if(!B)throw Ft.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ft.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=er[B])throw Ft.create("already-exists",{id:B});if(!Vr){!function rl(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(al);const{wrappedGtag:X,gtagCore:Me}=function sl(w,T,x,B,K){let X=function(...Me){window[B].push(arguments)};return window[K]&&"function"==typeof window[K]&&(X=window[K]),window[K]=function Ao(w,T,x,B){function X(){return(X=(0,N.Z)(function*(Me,Ge,nt){try{"event"===Me?yield ca(w,T,x,Ge,nt):"config"===Me?yield Du(w,T,x,B,Ge,nt):w("set",Ge)}catch(dt){En.error(dt)}})).apply(this,arguments)}return function K(Me,Ge,nt){return X.apply(this,arguments)}}(X,w,T,x),{gtagCore:X,wrappedGtag:window[K]}}(er,Ro,ha,al,"gtag");ms=X,gs=Me,Vr=!0}return er[B]=function da(w,T,x,B,K,X,Me){return ln.apply(this,arguments)}(w,Ro,ha,T,gs,al,x),new ol(w)}function on(){return(on=(0,N.Z)(function*(w,T,x,B,K){if(K&&K.global)w("event",x,B);else{const X=yield T;w("event",x,Object.assign(Object.assign({},B),{send_to:X}))}})).apply(this,arguments)}function Ur(){return pa.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(w){return!1}})).apply(this,arguments)}const jr="@firebase/analytics";!function pn(){(0,ce._registerComponent)(new _e.wA(hs,(T,{options:x})=>Ui(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new _e.wA("analytics-internal",function w(T){try{const x=T.getProvider(hs).getImmediate();return{logEvent:(B,K,X)=>function qs(w,T,x,B){w=(0,le.m9)(w),function Ws(w,T,x,B,K){return on.apply(this,arguments)}(ms,er[w.app.options.appId],T,x,B).catch(K=>En.error(K))}(x,B,K,X)}}catch(x){throw Ft.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(jr,"0.7.9"),(0,ce.registerVersion)(jr,"0.7.9","esm2017")}();var _s=P(4408),rp=P(7565);const Wn=new class sp extends rp.v{}(class Oo extends _s.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(T,x,B):T.flush(this)}});var Mu=P(4986),ul=P(8505),ys=P(9468),ic=P(5363);const Ru=new c.GfV("7.4.0"),dl="__angularfire_symbol__analyticsIsSupportedValue",Ou="__angularfire_symbol__analyticsIsSupported",xu="__angularfire_symbol__remoteConfigIsSupportedValue",vs="__angularfire_symbol__remoteConfigIsSupported",it="__angularfire_symbol__messagingIsSupportedValue",ga="__angularfire_symbol__messagingIsSupported";function uh(w,T,x){if(T){if(1===T.length)return T[0];const X=T.filter(Me=>Me.app===x);if(1===X.length)return X[0]}return x.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ou]||(globalThis[Ou]=Ur().then(w=>globalThis[dl]=w).catch(()=>globalThis[dl]=!1)),globalThis[ga]||(globalThis[ga]=On().then(w=>globalThis[it]=w).catch(()=>globalThis[it]=!1)),globalThis[vs]||(globalThis[vs]=du().then(w=>globalThis[xu]=w).catch(()=>globalThis[xu]=!1));const dh=(w,T)=>{const x=T?[T]:(0,ee.C6)(),B=[];return x.forEach(K=>{K.container.getProvider(w).instances.forEach(Me=>{B.includes(Me)||B.push(Me)})}),B};function li(){}class hl{constructor(T,x=Wn){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,B){const K=this.zone;return this.delegate.schedule(function(Me){K.runGuarded(()=>{T.apply(this,[Me])})},x,B)}}class sc{constructor(T){this.zone=T,this.task=null}call(T,x){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li)),x.pipe((0,ul.b)({next:B,complete:B,error:B})).subscribe(T).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fl=(()=>{class w{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new hl(Zone.current)),this.insideAngular=x.run(()=>new hl(Zone.current,Mu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(x){return new(x||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function zr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ma(w){return zr(),function Pu(w){return function(x){return(x=x.lift(new sc(w.ngZone))).pipe((0,ys.R)(w.outsideAngular),(0,ic.Q)(w.insideAngular))}}(zr())(w)}},2090:($e,me,P)=>{P.d(me,{BH:()=>Ue,LL:()=>ae,ZR:()=>Ae,gQ:()=>si,zI:()=>re,hu:()=>ee,g5:()=>N,US:()=>_e,tV:()=>he,h$:()=>ie,L:()=>ue,$s:()=>At,r3:()=>Ni,Sg:()=>we,ne:()=>Oe,p$:()=>H,vZ:()=>hi,ZB:()=>W,gK:()=>qi,pd:()=>Fi,m9:()=>Di,z$:()=>xe,GJ:()=>Yt,jU:()=>pe,ru:()=>Re,xb:()=>Ln,w1:()=>ze,hl:()=>ve,uI:()=>Fe,UG:()=>fe,Yr:()=>qe,b$:()=>Le,w9:()=>jn,cI:()=>un,UI:()=>xr,xO:()=>mn,zd:()=>kr,DV:()=>Ci,ug:()=>Lt,dS:()=>Zo,Pz:()=>Qe,Dv:()=>ts,Wj:()=>dn,lb:()=>wi,eu:()=>z});const ee=function(j,q){if(!j)throw N(q)},N=function(j){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+j)},ce=function(j){const q=[];let Y=0;for(let be=0;be<j.length;be++){let G=j.charCodeAt(be);G<128?q[Y++]=G:G<2048?(q[Y++]=G>>6|192,q[Y++]=63&G|128):55296==(64512&G)&&be+1<j.length&&56320==(64512&j.charCodeAt(be+1))?(G=65536+((1023&G)<<10)+(1023&j.charCodeAt(++be)),q[Y++]=G>>18|240,q[Y++]=G>>12&63|128,q[Y++]=G>>6&63|128,q[Y++]=63&G|128):(q[Y++]=G>>12|224,q[Y++]=G>>6&63|128,q[Y++]=63&G|128)}return q},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,q){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let G=0;G<j.length;G+=3){const te=j[G],Te=G+1<j.length,Ze=Te?j[G+1]:0,ut=G+2<j.length,Ct=ut?j[G+2]:0;let fi=(15&Ze)<<2|Ct>>6,Ii=63&Ct;ut||(Ii=64,Te||(fi=64)),be.push(Y[te>>2],Y[(3&te)<<4|Ze>>4],Y[fi],Y[Ii])}return be.join("")},encodeString(j,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(j):this.encodeByteArray(ce(j),q)},decodeString(j,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(j):function(j){const q=[];let Y=0,be=0;for(;Y<j.length;){const G=j[Y++];if(G<128)q[be++]=String.fromCharCode(G);else if(G>191&&G<224){const te=j[Y++];q[be++]=String.fromCharCode((31&G)<<6|63&te)}else if(G>239&&G<365){const ut=((7&G)<<18|(63&j[Y++])<<12|(63&j[Y++])<<6|63&j[Y++])-65536;q[be++]=String.fromCharCode(55296+(ut>>10)),q[be++]=String.fromCharCode(56320+(1023&ut))}else{const te=j[Y++],Te=j[Y++];q[be++]=String.fromCharCode((15&G)<<12|(63&te)<<6|63&Te)}}return q.join("")}(this.decodeStringToByteArray(j,q))},decodeStringToByteArray(j,q){this.init_();const Y=q?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let G=0;G<j.length;){const te=Y[j.charAt(G++)],Ze=G<j.length?Y[j.charAt(G)]:0;++G;const Ct=G<j.length?Y[j.charAt(G)]:64;++G;const yt=G<j.length?Y[j.charAt(G)]:64;if(++G,null==te||null==Ze||null==Ct||null==yt)throw Error();be.push(te<<2|Ze>>4),64!==Ct&&(be.push(Ze<<4&240|Ct>>2),64!==yt&&be.push(Ct<<6&192|yt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ie=function(j){const q=ce(j);return _e.encodeByteArray(q,!0)},ue=function(j){return ie(j).replace(/\./g,"")},he=function(j){try{return _e.decodeString(j,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function H(j){return W(void 0,j)}function W(j,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return q}for(const Y in q)!q.hasOwnProperty(Y)||!oe(Y)||(j[Y]=W(j[Y],q[Y]));return j}function oe(j){return"__proto__"!==j}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,Y)=>{this.resolve=q,this.reject=Y})}wrapCallback(q){return(Y,be)=>{Y?this.reject(Y):this.resolve(be),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(Y):q(Y,be))}}}function we(j,q){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=q||"demo-project",G=j.iat||0,te=j.sub||j.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:G,exp:G+3600,auth_time:G,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Te)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function pe(){return"object"==typeof self&&self.self===self}function Re(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ze(){const j=xe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function qe(){return!1}function ve(){return"object"==typeof indexedDB}function z(){return new Promise((j,q)=>{try{let Y=!0;const be="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(be);G.onsuccess=()=>{G.result.close(),Y||self.indexedDB.deleteDatabase(be),j(!0)},G.onupgradeneeded=()=>{Y=!1},G.onerror=()=>{var te;q((null===(te=G.error)||void 0===te?void 0:te.message)||"")}}catch(Y){q(Y)}})}function re(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ae extends Error{constructor(q,Y,be){super(Y),this.code=q,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae.prototype.create)}}class ae{constructor(q,Y,be){this.service=q,this.serviceName=Y,this.errors=be}create(q,...Y){const be=Y[0]||{},G=`${this.service}/${q}`,te=this.errors[q],Te=te?function at(j,q){return j.replace(Tt,(Y,be)=>{const G=q[be];return null!=G?String(G):`<${be}?>`})}(te,be):"Error";return new Ae(G,`${this.serviceName}: ${Te} (${G}).`,be)}}const Tt=/\{\$([^}]+)}/g;function un(j){return JSON.parse(j)}function Qe(j){return JSON.stringify(j)}const ft=function(j){let q={},Y={},be={},G="";try{const te=j.split(".");q=un(he(te[0])||""),Y=un(he(te[1])||""),G=te[2],be=Y.d||{},delete Y.d}catch(te){}return{header:q,claims:Y,data:be,signature:G}},jn=function(j){const Y=ft(j).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},Yt=function(j){const q=ft(j).claims;return"object"==typeof q&&!0===q.admin};function Ni(j,q){return Object.prototype.hasOwnProperty.call(j,q)}function Ci(j,q){if(Object.prototype.hasOwnProperty.call(j,q))return j[q]}function Ln(j){for(const q in j)if(Object.prototype.hasOwnProperty.call(j,q))return!1;return!0}function xr(j,q,Y){const be={};for(const G in j)Object.prototype.hasOwnProperty.call(j,G)&&(be[G]=q.call(Y,j[G],G,j));return be}function hi(j,q){if(j===q)return!0;const Y=Object.keys(j),be=Object.keys(q);for(const G of Y){if(!be.includes(G))return!1;const te=j[G],Te=q[G];if(Ut(te)&&Ut(Te)){if(!hi(te,Te))return!1}else if(te!==Te)return!1}for(const G of be)if(!Y.includes(G))return!1;return!0}function Ut(j){return null!==j&&"object"==typeof j}function mn(j){const q=[];for(const[Y,be]of Object.entries(j))Array.isArray(be)?be.forEach(G=>{q.push(encodeURIComponent(Y)+"="+encodeURIComponent(G))}):q.push(encodeURIComponent(Y)+"="+encodeURIComponent(be));return q.length?"&"+q.join("&"):""}function kr(j){const q={};return j.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[G,te]=be.split("=");q[decodeURIComponent(G)]=decodeURIComponent(te)}}),q}function Fi(j){const q=j.indexOf("?");if(!q)return"";const Y=j.indexOf("#",q);return j.substring(q,Y>0?Y:void 0)}class si{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,Y){Y||(Y=0);const be=this.W_;if("string"==typeof q)for(let yt=0;yt<16;yt++)be[yt]=q.charCodeAt(Y)<<24|q.charCodeAt(Y+1)<<16|q.charCodeAt(Y+2)<<8|q.charCodeAt(Y+3),Y+=4;else for(let yt=0;yt<16;yt++)be[yt]=q[Y]<<24|q[Y+1]<<16|q[Y+2]<<8|q[Y+3],Y+=4;for(let yt=16;yt<80;yt++){const fi=be[yt-3]^be[yt-8]^be[yt-14]^be[yt-16];be[yt]=4294967295&(fi<<1|fi>>>31)}let Ct,Kt,G=this.chain_[0],te=this.chain_[1],Te=this.chain_[2],Ze=this.chain_[3],ut=this.chain_[4];for(let yt=0;yt<80;yt++){yt<40?yt<20?(Ct=Ze^te&(Te^Ze),Kt=1518500249):(Ct=te^Te^Ze,Kt=1859775393):yt<60?(Ct=te&Te|Ze&(te|Te),Kt=2400959708):(Ct=te^Te^Ze,Kt=3395469782);const fi=(G<<5|G>>>27)+Ct+ut+Kt+be[yt]&4294967295;ut=Ze,Ze=Te,Te=4294967295&(te<<30|te>>>2),te=G,G=fi}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+Te&4294967295,this.chain_[3]=this.chain_[3]+Ze&4294967295,this.chain_[4]=this.chain_[4]+ut&4294967295}update(q,Y){if(null==q)return;void 0===Y&&(Y=q.length);const be=Y-this.blockSize;let G=0;const te=this.buf_;let Te=this.inbuf_;for(;G<Y;){if(0===Te)for(;G<=be;)this.compress_(q,G),G+=this.blockSize;if("string"==typeof q){for(;G<Y;)if(te[Te]=q.charCodeAt(G),++Te,++G,Te===this.blockSize){this.compress_(te),Te=0;break}}else for(;G<Y;)if(te[Te]=q[G],++Te,++G,Te===this.blockSize){this.compress_(te),Te=0;break}}this.inbuf_=Te,this.total_+=Y}digest(){const q=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&Y,Y/=256;this.compress_(this.buf_);let be=0;for(let G=0;G<5;G++)for(let te=24;te>=0;te-=8)q[be]=this.chain_[G]>>te&255,++be;return q}}function Oe(j,q){const Y=new et(j,q);return Y.subscribe.bind(Y)}class et{constructor(q,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{q(this)}).catch(be=>{this.error(be)})}next(q){this.forEachObserver(Y=>{Y.next(q)})}error(q){this.forEachObserver(Y=>{Y.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,Y,be){let G;if(void 0===q&&void 0===Y&&void 0===be)throw new Error("Missing Observer.");G=function _n(j,q){if("object"!=typeof j||null===j)return!1;for(const Y of q)if(Y in j&&"function"==typeof j[Y])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:Y,complete:be},void 0===G.next&&(G.next=jt),void 0===G.error&&(G.error=jt),void 0===G.complete&&(G.complete=jt);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(Te){}}),this.observers.push(G),te}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,q)}sendOne(q,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{Y(this.observers[q])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}const ts=function(j,q,Y,be){let G;if(be<q?G="at least "+q:be>Y&&(G=0===Y?"none":"no more than "+Y),G)throw new Error(j+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+G+".")};function qi(j,q){return`${j} failed: ${q} argument `}function dn(j,q,Y,be){if((!be||Y)&&"function"!=typeof Y)throw new Error(qi(j,q)+"must be a valid function.")}function wi(j,q,Y,be){if((!be||Y)&&("object"!=typeof Y||null===Y))throw new Error(qi(j,q)+"must be a valid context object.")}const Zo=function(j){const q=[];let Y=0;for(let be=0;be<j.length;be++){let G=j.charCodeAt(be);if(G>=55296&&G<=56319){const te=G-55296;be++,ee(be<j.length,"Surrogate pair missing trail surrogate."),G=65536+(te<<10)+(j.charCodeAt(be)-56320)}G<128?q[Y++]=G:G<2048?(q[Y++]=G>>6|192,q[Y++]=63&G|128):G<65536?(q[Y++]=G>>12|224,q[Y++]=G>>6&63|128,q[Y++]=63&G|128):(q[Y++]=G>>18|240,q[Y++]=G>>12&63|128,q[Y++]=G>>6&63|128,q[Y++]=63&G|128)}return q},Lt=function(j){let q=0;for(let Y=0;Y<j.length;Y++){const be=j.charCodeAt(Y);be<128?q++:be<2048?q+=2:be>=55296&&be<=56319?(q+=4,Y++):q+=3}return q};function At(j,q=1e3,Y=2){const be=q*Math.pow(Y,j),G=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+G)}function Di(j){return j&&j._delegate?j._delegate:j}},525:($e,me,P)=>{var c=P(5e3);let ee=null;function N(){return ee}const ie=new c.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(W)}()},providedIn:"platform"}),n})();const H=new c.OlP("Location Initialized");let W=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){oe()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){oe()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return new W((0,c.LFG)(ie))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function we(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(n){const t=(0,c.LFG)(ie).location;return new Le((0,c.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),n})();const Re=new c.OlP("appBaseHref");let Le=(()=>{class n extends fe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return we(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fe(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const d=this.prepareExternalUrl(o+Fe(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){const d=this.prepareExternalUrl(o+Fe(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ue),c.LFG(Re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends fe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=we(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let d=this.prepareExternalUrl(o+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){let d=this.prepareExternalUrl(o+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ue),c.LFG(Re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(e,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=xe(He(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fe(i))}normalize(e){return n.stripTrailingSlash(function qe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._platformStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),o)}replaceState(e,i="",o=null){this._platformStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=we,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(c.LFG(fe),c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(){return new ze((0,c.LFG)(fe),(0,c.LFG)(ue))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))();const Fi=c.kL8;class Ht{}let an=(()=>{class n extends Ht{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Fi(i||this.locale)(e)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),mr=(()=>{class n{constructor(e,i,o,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ls{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hn=(()=>{class n{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,d)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new Ls(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const m=i.get(l);i.move(m,d),mo(m,o)}});for(let o=0,l=i.length;o<l;o++){const m=i.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{mo(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function mo(n,t){n.context.$implicit=t.item}let yn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new en,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){su("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){su("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class en{constructor(){this.$implicit=null,this.ngIf=null}}function su(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Qo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Si=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Zi=(()=>{class n{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new Qo(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Si,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class Xd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Xf{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Xo=new Xf,Jd=new Xd;let zl=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return Xo;if((0,c.F4k)(e))return Jd;throw function Yi(n,t){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Ki=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Ht,useClass:an}]}),n})();const _r="browser";let na=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new tp((0,c.LFG)(ie),window)}),n})();class tp{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function vr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(d)return d}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fn(this.window.history)||fn(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cs extends class mu extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){ee||(ee=n)}(new cs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Xn(){return Fr=Fr||document.querySelector("base"),Fr?Fr.getAttribute("href"):null}();return null==e?null:function br(n){Bi=Bi||document.createElement("a"),Bi.setAttribute("href",n);const t=Bi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Fr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Yo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Bi,Fr=null;const gi=new c.OlP("TRANSITION_ID"),Rn=[{provide:c.ip1,useFactory:function mi(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=N(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[gi,ie,c.zs3],multi:!0}];class vo{static init(){(0,c.VLi)(new vo)}addToWindow(t){c.dqk.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const o=c.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const m=function(b){d=d||b,l--,0==l&&i(d)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Zl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jn=new c.OlP("EventManagerPlugins");let Us=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const d=o[l];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Jn),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class us{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const o=N().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let ot=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends ot{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,o.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(bo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(bo))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function bo(n){N().remove(n)}const ei={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ia=/%COMP%/g;function tn(n,t,e){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?tn(n,o,e):(o=o.replace(ia,n),e.push(o))}return e}function Co(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ti=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Lr(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new yu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case c.ifc.ShadowDom:return new wo(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=tn(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Us),c.LFG(js),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Lr{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ei[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=ei[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=ei[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,o&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Co(i)):this.eventManager.addEventListener(t,e,Co(i))}}class yu extends Lr{constructor(t,e,i,o){super(t),this.component=i;const l=tn(o+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function St(n){return"_ngcontent-%COMP%".replace(ia,n)}(o+"-"+i.id),this.hostAttr=function _u(n){return"_nghost-%COMP%".replace(ia,n)}(o+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class wo extends Lr{constructor(t,e,i,o){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=tn(o.id,o.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Hs=(()=>{class n extends us{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Bn=["alt","control","meta","shift"],Xa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Er={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ji={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vu=(()=>{class n extends us{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let d="";if(Bn.forEach(b=>{const D=i.indexOf(b);D>-1&&(i.splice(D,1),d+=b+".")}),d+=l,0!=i.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(e){let i="",o=function Do(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Er.hasOwnProperty(t)&&(t=Er[t]))}return Xa[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Bn.forEach(l=>{l!=o&&Ji[l](e)&&(i+=l+".")}),i+=o,i}static eventCallback(e,i,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const To=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:_r},{provide:c.g9A,useValue:function nh(){cs.makeCurrent(),vo.init()},multi:!0},{provide:ie,useFactory:function Io(){return(0,c.RDi)(document),document},deps:[]}]),sa=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ra(){return new c.qLn},deps:[]},{provide:Jn,useClass:Hs,multi:!0,deps:[ie,c.R0b,c.Lbi]},{provide:Jn,useClass:vu,multi:!0,deps:[ie]},{provide:ti,useClass:ti,deps:[Us,js,c.AFp]},{provide:c.FYo,useExisting:ti},{provide:ot,useExisting:js},{provide:js,useClass:js,deps:[ie]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Us,useClass:Us,deps:[Jn,c.R0b]},{provide:class vn{},useClass:Zl,deps:[]}];let Ja=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:gi,useExisting:c.AFp},Rn]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:sa,imports:[Ki,c.hGG]}),n})();"undefined"!=typeof window&&window;let ca=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(Ao),i},providedIn:"root"}),n})(),Ao=(()=>{class n extends ca{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Iu(n){return new Ao(n.get(ie))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var oi=P(5698),lt=P(4004),Ft=P(8505),xn=P(8996),fs=P(3269);function Je(...n){const t=(0,fs.yG)(n);return(0,xn.D)(n,t)}var It=P(7579);class ni extends It.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var kn=P(8306);const{isArray:ua}=Array,{getPrototypeOf:dm,prototype:ec,keys:Tu}=Object;function Mo(n){if(1===n.length){const t=n[0];if(ua(t))return{args:t,keys:null};if(function zs(n){return n&&"object"==typeof n&&dm(n)===ec}(t)){const e=Tu(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Vi=P(4671);const{isArray:tc}=Array;function ps(n){return(0,lt.U)(t=>function nc(n,t){return tc(t)?n(...t):n(t)}(n,t))}function da(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}var ln=P(5403),ol=P(9672);function er(...n){const t=(0,fs.yG)(n),e=(0,fs.jO)(n),{args:i,keys:o}=Mo(n);if(0===i.length)return(0,xn.D)([],t);const l=new kn.y(function Ro(n,t,e=Vi.y){return i=>{ha(t,()=>{const{length:o}=n,l=new Array(o);let d=o,m=o;for(let b=0;b<o;b++)ha(t,()=>{const D=(0,xn.D)(n[b],t);let R=!1;D.subscribe(new ln.Q(i,k=>{l[b]=k,R||(R=!0,m--),m||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,o?d=>da(o,d):Vi.y));return e?l.pipe(ps(e)):l}function ha(n,t,e){n?(0,ol.f)(e,n,t):t()}const fa=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gs=P(8189);function Vr(...n){return function ms(){return(0,gs.J)(1)}()((0,xn.D)(n,(0,fs.yG)(n)))}var Gs=P(8421);function tr(n){return new kn.y(t=>{(0,Gs.Xf)(n()).subscribe(t)})}var Ui=P(515),Ws=P(727),on=P(4482);function ll(){return(0,on.e)((n,t)=>{let e=null;n._refCount++;const i=new ln.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class nn extends kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,on.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ws.w0;const e=this.getSubject();t.add(this.source.subscribe(new ln.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ws.w0.EMPTY)}return t}refCount(){return ll()(this)}}function Dn(n,t){return(0,on.e)((e,i)=>{let o=null,l=0,d=!1;const m=()=>d&&!o&&i.complete();e.subscribe(new ln.Q(i,b=>{null==o||o.unsubscribe();let D=0;const R=l++;(0,Gs.Xf)(n(b,R)).subscribe(o=new ln.Q(i,k=>i.next(t?t(b,k,R,D++):k),()=>{o=null,m()}))},()=>{d=!0,m()}))})}function ai(...n){const t=(0,fs.yG)(n);return(0,on.e)((e,i)=>{(t?Vr(n,e,t):Vr(n,e)).subscribe(i)})}function Su(n,t,e,i,o){return(l,d)=>{let m=e,b=t,D=0;l.subscribe(new ln.Q(d,R=>{const k=D++;b=m?n(b,R,k):(m=!0,R),i&&d.next(b)},o&&(()=>{m&&d.next(b),d.complete()})))}}function Cr(n,t){return(0,on.e)(Su(n,t,arguments.length>=2,!0))}function Pn(n,t){return(0,on.e)((e,i)=>{let o=0;e.subscribe(new ln.Q(i,l=>n.call(t,l,o++)&&i.next(l)))})}function wr(n){return(0,on.e)((t,e)=>{let l,i=null,o=!1;i=t.subscribe(new ln.Q(e,void 0,void 0,d=>{l=(0,Gs.Xf)(n(d,wr(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}var Gn=P(5577),Vt=P(576);function Ur(n,t){return(0,Vt.m)(t)?(0,Gn.z)(n,t,1):(0,Gn.z)(n,1)}function pa(n){return n<=0?()=>Ui.E:(0,on.e)((t,e)=>{let i=[];t.subscribe(new ln.Q(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function cl(n=Au){return(0,on.e)((t,e)=>{let i=!1;t.subscribe(new ln.Q(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function Au(){return new fa}function ip(n){return(0,on.e)((t,e)=>{let i=!1;t.subscribe(new ln.Q(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function qs(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pn((o,l)=>n(o,l,i)):Vi.y,(0,oi.q)(1),e?ip(t):cl(()=>new fa))}function jr(n){return(0,on.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Hr{constructor(t,e){this.id=t,this.url=e}}class pn extends Hr{constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _s extends Hr{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oo extends Hr{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rp extends Hr{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sp extends Hr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends Hr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends Hr{constructor(t,e,i,o,l){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mu extends Hr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ul extends Hr{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ys{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ic{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ru{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dl{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ou{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const it="primary";class ga{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ai(n){return new ga(n)}const ku="ngNavigationCancelingError";function rc(n){const t=Error("NavigationCancelingError: "+n);return t[ku]=!0,t}function uh(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const d=i[l],m=n[l];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function li(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!hl(n[o],t[o]))return!1;return!0}function hl(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,l)=>i[l]===o)}return n===t}function sc(n){return Array.prototype.concat.apply([],n)}function fl(n){return n.length>0?n[n.length-1]:null}function Vn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Sn(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,xn.D)(Promise.resolve(n)):Je(n)}const oc={exact:function _a(n,t,e){if(!nt(n.segments,t.segments)||!B(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!_a(n.children[i],t.children[i],e))return!1;return!0},subset:T},ma={exact:function ac(n,t){return li(n,t)},subset:function w(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>hl(n[e],t[e]))},ignored:()=>!0};function Pu(n,t,e){return oc[e.paths](n.root,t.root,e.matrixParams)&&ma[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function T(n,t,e){return x(n,t,t.segments,e)}function x(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!nt(o,e)||t.hasChildren()||!B(o,e,i))}if(n.segments.length===e.length){if(!nt(n.segments,e)||!B(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!T(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(nt(n.segments,o)&&B(n.segments,o,i)&&n.children[it])&&x(n.children[it],t,l,i)}}function B(n,t,e){return t.every((i,o)=>ma[e](n[o].parameters,i.parameters))}class K{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return ii.serialize(this)}}class X{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Vn(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gt(this)}}class Me{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ai(this.parameters)),this._parameterMap}toString(){return ap(this)}}function nt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class xt{}class _t{parse(t){const e=new pm(t);return new K(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Gr(t.root,!0)}`,i=function xo(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${bs(e)}=${bs(o)}`).join("&"):`${bs(e)}=${bs(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Dr(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ii=new _t;function Gt(n){return n.segments.map(t=>ap(t)).join("/")}function Gr(n,t){if(!n.hasChildren())return Gt(n);if(t){const e=n.children[it]?Gr(n.children[it],!1):"",i=[];return Vn(n.children,(o,l)=>{l!==it&&i.push(`${l}:${Gr(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function dt(n,t){let e=[];return Vn(n.children,(i,o)=>{o===it&&(e=e.concat(t(i,o)))}),Vn(n.children,(i,o)=>{o!==it&&(e=e.concat(t(i,o)))}),e}(n,(i,o)=>o===it?[Gr(n.children[it],!1)]:[`${o}:${Gr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${Gt(n)}/${e[0]}`:`${Gt(n)}/(${e.join("//")})`}}function nr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(n){return nr(n).replace(/%3B/gi,";")}function ji(n){return nr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Es(n){return decodeURIComponent(n)}function ya(n){return Es(n.replace(/\+/g,"%20"))}function ap(n){return`${ji(n.path)}${function hm(n){return Object.keys(n).map(t=>`;${ji(t)}=${ji(n[t])}`).join("")}(n.parameters)}`}const va=/^[^\/()?;=#]+/;function gl(n){const t=n.match(va);return t?t[0]:""}const bv=/^[^=?&#]+/,lp=/^[^&#]+/;class pm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[it]=new X(t,e)),i}parseSegment(){const t=gl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Me(Es(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gl(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=gl(this.remaining);o&&(i=o,this.capture(i))}t[Es(e)]=Es(i)}parseQueryParam(t){const e=function Nu(n){const t=n.match(bv);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function fm(n){const t=n.match(lp);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const o=ya(e),l=ya(i);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gl(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=it);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[it]:new X([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class cp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=lc(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=lc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ml(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ml(t,this._root).map(e=>e.value)}}function lc(n,t){if(n===t.value)return t;for(const e of t.children){const i=lc(n,e);if(i)return i}return null}function ml(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ml(n,e);if(i.length)return i.unshift(t),i}return[]}class Wr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ir(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class up extends cp{constructor(t,e){super(t),this.snapshot=e,qr(this,t)}toString(){return this.snapshot.toString()}}function dp(n,t){const e=function hp(n,t){const d=new ba([],{},{},"",{},it,t,null,n.root,-1,{});return new Fu("",new Wr(d,[]))}(n,t),i=new ni([new Me("",{})]),o=new ni({}),l=new ni({}),d=new ni({}),m=new ni(""),b=new Zs(i,o,d,m,l,it,t,e.root);return b.snapshot=e.root,new up(new Wr(b,[]),e)}class Zs{constructor(t,e,i,o,l,d,m,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(t=>Ai(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(t=>Ai(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _l(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function cc(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ba{constructor(t,e,i,o,l,d,m,b,D,R,k){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this.routeConfig=b,this._urlSegment=D,this._lastPathIndex=R,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fu extends cp{constructor(t,e){super(e),this.url=t,qr(this,e)}toString(){return fp(this._root)}}function qr(n,t){t.value._routerState=n,t.children.forEach(e=>qr(n,e))}function fp(n){const t=n.children.length>0?` { ${n.children.map(fp).join(", ")} } `:"";return`${n.value}${t}`}function Lu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,li(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),li(t.params,e.params)||n.params.next(e.params),function dh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!li(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),li(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bu(n,t){const e=li(n.params,t.params)&&function Ge(n,t){return nt(n,t)&&n.every((e,i)=>li(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Bu(n.parent,t.parent))}function uc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function Cs(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return uc(n,i,o);return uc(n,i)})}(n,t,e);return new Wr(i,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(m=>uc(n,m)),d}}const i=function ko(n){return new Zs(new ni(n.url),new ni(n.params),new ni(n.queryParams),new ni(n.fragment),new ni(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>uc(n,l));return new Wr(i,o)}}function Vu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dc(n){return"object"==typeof n&&null!=n&&n.outlets}function hc(n,t,e,i,o){let l={};return i&&Vn(i,(d,m)=>{l[m]=Array.isArray(d)?d.map(b=>`${b}`):`${d}`}),new K(e.root===n?t:mp(e.root,n,t),l,o)}function mp(n,t,e){const i={};return Vn(n.children,(o,l)=>{i[l]=o===t?e:mp(o,t,e)}),new X(n.segments,i)}class _p{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Vu(i[0]))throw new Error("Root segment cannot have matrix parameters");const o=i.find(dc);if(o&&o!==fl(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function _m(n,t,e){if(n||(n=new X([],{})),0===n.segments.length&&n.hasChildren())return ju(n,t,e);const i=function fc(n,t,e){let i=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return l;const d=n.segments[o],m=e[i];if(dc(m))break;const b=`${m}`,D=i<e.length-1?e[i+1]:null;if(o>0&&void 0===b)break;if(b&&D&&"object"==typeof D&&void 0===D.outlets){if(!pc(b,D,d))return l;i+=2}else{if(!pc(b,{},d))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new X(n.segments.slice(0,i.pathIndex),{});return l.children[it]=new X(n.segments.slice(i.pathIndex),n.children),ju(l,0,o)}return i.match&&0===o.length?new X(n.segments,{}):i.match&&!n.hasChildren()?Hu(n,t,e):i.match?ju(n,0,o):Hu(n,t,e)}function ju(n,t,e){if(0===e.length)return new X(n.segments,{});{const i=function mm(n){return dc(n[0])?n[0].outlets:{[it]:n}}(e),o={};return Vn(i,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[d]=_m(n.children[d],t,l))}),Vn(n.children,(l,d)=>{void 0===i[d]&&(o[d]=l)}),new X(n.segments,o)}}function Hu(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(dc(l)){const b=ws(l.outlets);return new X(i,b)}if(0===o&&Vu(e[0])){i.push(new Me(n.segments[t].path,yl(e[0]))),o++;continue}const d=dc(l)?l.outlets[it]:`${l}`,m=o<e.length-1?e[o+1]:null;d&&m&&Vu(m)?(i.push(new Me(d,yl(m))),o+=2):(i.push(new Me(d,{})),o++)}return new X(i,{})}function ws(n){const t={};return Vn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Hu(new X([],{}),0,e))}),t}function yl(n){const t={};return Vn(n,(e,i)=>t[i]=`${e}`),t}function pc(n,t,e){return n==e.path&&li(t,e.parameters)}class vp{constructor(t,e,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Lu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=ir(e);t.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],i),delete o[d]}),Vn(o,(l,d)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const d=i.getContext(o.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=ir(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(i&&i.outlet){const d=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=ir(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const o=ir(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new xu(l.value.snapshot))}),t.children.length&&this.forwardEvent(new dl(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(Lu(o),o===l)if(o.component){const d=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const d=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Lu(m.route.value),this.activateChildRoutes(t,null,d.children)}else{const m=function Ev(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=b,d.outlet&&d.outlet.activateWith(o,b),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class bp{constructor(t,e){this.routes=t,this.module=e}}function Ea(n){return"function"==typeof n}function Ys(n){return n instanceof K}const gc=Symbol("INITIAL_VALUE");function Ca(){return Dn(n=>er(n.map(t=>t.pipe((0,oi.q)(1),ai(gc)))).pipe(Cr((t,e)=>{let i=!1;return e.reduce((o,l,d)=>o!==gc?o:(l===gc&&(i=!0),i||!1!==l&&d!==e.length-1&&!Ys(l)?o:l),t)},gc),Pn(t=>t!==gc),(0,lt.U)(t=>Ys(t)?t:!0===t),(0,oi.q)(1)))}class ym{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vl,this.attachRef=null}}class vl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ym,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let mc=(()=>{class n{constructor(e,i,o,l,d){this.parentContexts=e,this.location=i,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||it,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new bl(e,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(vl),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class bl{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Zs?this.route:t===vl?this.childContexts:this.parent.get(t,e)}}let gh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:[mc],encapsulation:2}),n})();function _c(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Ep(i,Nn(t,i))}}function Ep(n,t){n.children&&_c(n.children,t)}function Nn(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function mh(n){const t=n.children&&n.children.map(mh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==it&&(e.component=gh),e}function Ir(n){return n.outlet||it}function _h(n,t){const e=n.filter(i=>Ir(i)===t);return e.push(...n.filter(i=>Ir(i)!==t)),e}const Ks={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gu(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ks):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||uh)(e,n,t);if(!l)return Object.assign({},Ks);const d={};Vn(l.posParams,(b,D)=>{d[D]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function Wu(n,t,e,i,o="corrected"){if(e.length>0&&function vh(n,t,e){return e.some(i=>bh(n,t,i)&&Ir(i)!==it)}(n,e,i)){const d=new X(t,function vm(n,t,e,i){const o={};o[it]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Ir(l)!==it){const d=new X([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,o[Ir(l)]=d}return o}(n,t,i,new X(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function Dv(n,t,e){return e.some(i=>bh(n,t,i))}(n,e,i)){const d=new X(n.segments,function yh(n,t,e,i,o,l){const d={};for(const m of i)if(bh(n,e,m)&&!o[Ir(m)]){const b=new X([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,d[Ir(m)]=b}return Object.assign(Object.assign({},o),d)}(n,t,e,i,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const l=new X(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function bh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Po(n,t,e,i){return!!(Ir(n)===i||i!==it&&bh(t,e,n))&&("**"===n.path||Gu(t,n,e).matched)}function _i(n,t,e){return 0===t.length&&!n.children[e]}class wa{constructor(t){this.segmentGroup=t||null}}class yc{constructor(t){this.urlTree=t}}function vc(n){return new kn.y(t=>t.error(new wa(n)))}function ci(n){return new kn.y(t=>t.error(new yc(n)))}function bc(n){return new kn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Cp{constructor(t,e,i,o,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=Wu(this.urlTree.root,[],[],this.config).segmentGroup,e=new X(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,it).pipe((0,lt.U)(l=>this.createUrlTree(Ch(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wr(l=>{if(l instanceof yc)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof wa?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,it).pipe((0,lt.U)(o=>this.createUrlTree(Ch(o),t.queryParams,t.fragment))).pipe(wr(o=>{throw o instanceof wa?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const o=t.segments.length>0?new X([],{[it]:t}):t;return new K(o,e,i)}expandSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,lt.U)(l=>new X([],l))):this.expandSegment(t,i,e,i.segments,o,!0)}expandChildren(t,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return(0,xn.D)(o).pipe(Ur(l=>{const d=i.children[l],m=_h(e,l);return this.expandSegmentGroup(t,m,d,l).pipe((0,lt.U)(b=>({segment:b,outlet:l})))}),Cr((l,d)=>(l[d.outlet]=d.segment,l),{}),function ch(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pn((o,l)=>n(o,l,i)):Vi.y,pa(1),e?ip(t):cl(()=>new fa))}())}expandSegment(t,e,i,o,l,d){return(0,xn.D)(i).pipe(Ur(m=>this.expandSegmentAgainstRoute(t,e,i,m,o,l,d).pipe(wr(D=>{if(D instanceof wa)return Je(null);throw D}))),qs(m=>!!m),wr((m,b)=>{if(m instanceof fa||"EmptyError"===m.name){if(_i(e,o,l))return Je(new X([],{}));throw new wa(e)}throw m}))}expandSegmentAgainstRoute(t,e,i,o,l,d,m){return Po(o,e,l,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d):vc(e):vc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ci(l):this.lineralizeSegments(i,l).pipe((0,Gn.z)(d=>{const m=new X(d,{});return this.expandSegment(t,m,e,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d){const{matched:m,consumedSegments:b,lastChild:D,positionalParamSegments:R}=Gu(e,o,l);if(!m)return vc(e);const k=this.applyRedirectCommands(b,o.redirectTo,R);return o.redirectTo.startsWith("/")?ci(k):this.lineralizeSegments(o,k).pipe((0,Gn.z)(V=>this.expandSegment(t,e,i,V.concat(l.slice(D)),d,!1)))}matchSegmentAgainstRoute(t,e,i,o,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Je(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,lt.U)(V=>(i._loadedConfig=V,new X(o,{})))):Je(new X(o,{}));const{matched:d,consumedSegments:m,lastChild:b}=Gu(e,i,o);if(!d)return vc(e);const D=o.slice(b);return this.getChildConfig(t,i,o).pipe((0,Gn.z)(k=>{const V=k.module,Q=k.routes,{segmentGroup:se,slicedSegments:Ee}=Wu(e,m,D,Q),Ve=new X(se.segments,se.children);if(0===Ee.length&&Ve.hasChildren())return this.expandChildren(V,Q,Ve).pipe((0,lt.U)(gt=>new X(m,gt)));if(0===Q.length&&0===Ee.length)return Je(new X(m,{}));const pt=Ir(i)===l;return this.expandSegment(V,Ve,Q,Ee,pt?it:l,!0).pipe((0,lt.U)(Pt=>new X(m.concat(Pt.segments),Pt.children)))}))}getChildConfig(t,e,i){return e.children?Je(new bp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Je(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Gn.z)(o=>o?this.configLoader.load(t.injector,e).pipe((0,lt.U)(l=>(e._loadedConfig=l,l))):function Eh(n){return new kn.y(t=>t.error(rc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Je(new bp([],t))}runCanLoadGuards(t,e,i){const o=e.canLoad;return o&&0!==o.length?Je(o.map(d=>{const m=t.get(d);let b;if(function ph(n){return n&&Ea(n.canLoad)}(m))b=m.canLoad(e,i);else{if(!Ea(m))throw new Error("Invalid CanLoad guard");b=m(e,i)}return Sn(b)})).pipe(Ca(),(0,Ft.b)(d=>{if(!Ys(d))return;const m=rc(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,lt.U)(d=>!0===d)):Je(!0)}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Je(i);if(o.numberOfChildren>1||!o.children[it])return bc(t.redirectTo);o=o.children[it]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,o){const l=this.createSegmentGroup(t,e.root,i,o);return new K(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Vn(t,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);i[l]=e[m]}else i[l]=o}),i}createSegmentGroup(t,e,i,o){const l=this.createSegments(t,e.segments,i,o);let d={};return Vn(e.children,(m,b)=>{d[b]=this.createSegmentGroup(t,m,i,o)}),new X(l,d)}createSegments(t,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}function Ch(n){const t={};for(const i of Object.keys(n.children)){const l=Ch(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function qu(n){if(1===n.numberOfChildren&&n.children[it]){const t=n.children[it];return new X(n.segments.concat(t.segments),t.children)}return n}(new X(n.segments,t))}class Zu{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Da{constructor(t,e){this.component=t,this.route=e}}function Em(n,t,e){const i=n._root;return Ec(i,t?t._root:null,e,[i.value])}function Qs(n,t,e){const i=function wm(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Ec(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=ir(t);return n.children.forEach(d=>{(function wh(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const b=function Dp(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!nt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!nt(n.url,t.url)||!li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bu(n,t)||!li(n.queryParams,t.queryParams);default:return!Bu(n,t)}}(d,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Zu(i)):(l.data=d.data,l._resolvedData=d._resolvedData),Ec(n,t,l.component?m?m.children:null:e,i,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Da(m.outlet.component,d))}else d&&Cc(t,m,o),o.canActivateChecks.push(new Zu(i)),Ec(n,null,l.component?m?m.children:null:e,i,o)})(d,l[d.value.outlet],e,i.concat([d.value]),o),delete l[d.value.outlet]}),Vn(l,(d,m)=>Cc(d,e.getContext(m),o)),o}function Cc(n,t,e){const i=ir(n),o=n.value;Vn(i,(l,d)=>{Cc(l,o.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new Da(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class Am{}function Sp(n){return new kn.y(t=>t.error(n))}class Yu{constructor(t,e,i,o,l,d){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const t=Wu(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,it);if(null===e)return null;const i=new ba([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Wr(i,e),l=new Fu(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=_l(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const d=e.children[l],m=_h(t,l),b=this.processSegmentGroup(m,d,l);if(null===b)return null;i.push(...b)}const o=Xs(i);return function Dh(n){n.sort((t,e)=>t.value.outlet===it?-1:e.value.outlet===it?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,i,o){for(const l of t){const d=this.processSegmentAgainstRoute(l,e,i,o);if(null!==d)return d}return _i(e,i,o)?[]:null}processSegmentAgainstRoute(t,e,i,o){if(t.redirectTo||!Po(t,e,i,o))return null;let l,d=[],m=[];if("**"===t.path){const Q=i.length>0?fl(i).parameters:{};l=new ba(i,Q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ku(t),Ir(t),t.component,t,rr(e),Ic(e)+i.length,Rm(t))}else{const Q=Gu(e,t,i);if(!Q.matched)return null;d=Q.consumedSegments,m=i.slice(Q.lastChild),l=new ba(d,Q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ku(t),Ir(t),t.component,t,rr(e),Ic(e)+d.length,Rm(t))}const b=function Mp(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:D,slicedSegments:R}=Wu(e,d,m,b.filter(Q=>void 0===Q.redirectTo),this.relativeLinkResolution);if(0===R.length&&D.hasChildren()){const Q=this.processChildren(b,D);return null===Q?null:[new Wr(l,Q)]}if(0===b.length&&0===R.length)return[new Wr(l,[])];const k=Ir(t)===o,V=this.processSegment(b,D,R,k?it:o);return null===V?null:[new Wr(l,V)]}}function Mm(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Xs(n){const t=[],e=new Set;for(const i of n){if(!Mm(i)){t.push(i);continue}const o=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=Xs(i.children);t.push(new Wr(i.value,o))}return t.filter(i=>!e.has(i))}function rr(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ic(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Ku(n){return n.data||{}}function Rm(n){return n.resolve||{}}function Hi(n){return Dn(t=>{const e=n(t);return e?(0,xn.D)(e).pipe((0,lt.U)(()=>t)):Je(t)})}class Sh extends class xp{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sc=new c.OlP("ROUTES");class Qu{constructor(t,e,i,o){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,lt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=l.create(t);return new bp(sc(d.injector.get(Sc,void 0,c.XFs.Self|c.XFs.Optional)).map(mh),d)}),wr(l=>{throw e._loader$=void 0,l}));return e._loader$=new nn(o,()=>new It.x).pipe(ll()),e._loader$}loadModuleFactory(t){return Sn(t()).pipe((0,Gn.z)(e=>e instanceof c.YKP?Je(e):(0,xn.D)(this.compiler.compileModuleAsync(e))))}}class No{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ac(n){throw n}function kp(n,t,e){return t.parse("/")}function Ds(n,t){return Je(null)}const Ia={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class n{constructor(e,i,o,l,d,m,b){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=o,this.location=l,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new It.x,this.errorHandler=Ac,this.malformedUriErrorHandler=kp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ds,afterPreactivation:Ds},this.urlHandlingStrategy=new No,this.routeReuseStrategy=new Sh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const k=d.get(c.R0b);this.isNgZoneEnabled=k instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function pl(){return new K(new X([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qu(d,m,V=>this.triggerEvent(new ys(V)),V=>this.triggerEvent(new ic(V))),this.routerState=dp(this.currentUrlTree,this.rootComponentType),this.transitions=new ni({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Pn(o=>0!==o.id),(0,lt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Dn(o=>{let l=!1,d=!1;return Je(o).pipe((0,Ft.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(m=>{const b=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return El(m.source)&&(this.browserUrlTree=m.extractedUrl),Je(m).pipe(Dn(k=>{const V=this.transitions.getValue();return i.next(new pn(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),V!==this.transitions.getValue()?Ui.E:Promise.resolve(k)}),function wp(n,t,e,i){return Dn(o=>function bm(n,t,e,i,o){return new Cp(n,t,e,i,o).apply()}(n,t,e,o.extractedUrl,i).pipe((0,lt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ft.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function Tr(n,t,e,i,o){return(0,Gn.z)(l=>function Ap(n,t,e,i,o="emptyOnly",l="legacy"){try{const d=new Yu(n,t,e,i,o,l).recognize();return null===d?Sp(new Am):Je(d)}catch(d){return Sp(d)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,o).pipe((0,lt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ft.b)(k=>{if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(Q,k)}this.browserUrlTree=k.urlAfterRedirects}const V=new sp(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);i.next(V)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:Q,source:se,restoredState:Ee,extras:Ve}=m,pt=new pn(V,this.serializeUrl(Q),se,Ee);i.next(pt);const vt=dp(Q,this.rootComponentType).snapshot;return Je(Object.assign(Object.assign({},m),{targetSnapshot:vt,urlAfterRedirects:Q,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Ui.E}),Hi(m=>{const{targetSnapshot:b,id:D,extractedUrl:R,rawUrl:k,extras:{skipLocationChange:V,replaceUrl:Q}}=m;return this.hooks.beforePreactivation(b,{navigationId:D,appliedUrlTree:R,rawUrlTree:k,skipLocationChange:!!V,replaceUrl:!!Q})}),(0,Ft.b)(m=>{const b=new Wn(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,lt.U)(m=>Object.assign(Object.assign({},m),{guards:Em(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function wc(n,t){return(0,Gn.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?Je(Object.assign(Object.assign({},e),{guardsResult:!0})):function Dm(n,t,e,i){return(0,xn.D)(n).pipe((0,Gn.z)(o=>function Sm(n,t,e,i,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Je(l.map(m=>{const b=Qs(m,t,o);let D;if(function zu(n){return n&&Ea(n.canDeactivate)}(b))D=Sn(b.canDeactivate(n,t,e,i));else{if(!Ea(b))throw new Error("Invalid CanDeactivate guard");D=Sn(b(n,t,e,i))}return D.pipe(qs())})).pipe(Ca()):Je(!0)}(o.component,o.route,e,t,i)),qs(o=>!0!==o,!0))}(d,i,o,n).pipe((0,Gn.z)(m=>m&&function $u(n){return"boolean"==typeof n}(m)?function Im(n,t,e,i){return(0,xn.D)(t).pipe(Ur(o=>Vr(function Tm(n,t){return null!==n&&t&&t(new Ru(n)),Je(!0)}(o.route.parent,i),function Dc(n,t){return null!==n&&t&&t(new Ou(n)),Je(!0)}(o.route,i),function Tp(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(d=>function Cm(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>tr(()=>Je(d.guards.map(b=>{const D=Qs(b,d.node,e);let R;if(function wv(n){return n&&Ea(n.canActivateChild)}(D))R=Sn(D.canActivateChild(i,n));else{if(!Ea(D))throw new Error("Invalid CanActivateChild guard");R=Sn(D(i,n))}return R.pipe(qs())})).pipe(Ca())));return Je(l).pipe(Ca())}(n,o.path,e),function Ip(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Je(!0);const o=i.map(l=>tr(()=>{const d=Qs(l,t,e);let m;if(function Cv(n){return n&&Ea(n.canActivate)}(d))m=Sn(d.canActivate(t,n));else{if(!Ea(d))throw new Error("Invalid CanActivate guard");m=Sn(d(t,n))}return m.pipe(qs())}));return Je(o).pipe(Ca())}(n,o.route,e))),qs(o=>!0!==o,!0))}(i,l,n,t):Je(m)),(0,lt.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Ft.b)(m=>{if(Ys(m.guardsResult)){const D=rc(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const b=new $r(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Pn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Hi(m=>{if(m.guards.canActivateChecks.length)return Je(m).pipe((0,Ft.b)(b=>{const D=new Mu(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}),Dn(b=>{let D=!1;return Je(b).pipe(function Tc(n,t){return(0,Gn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Je(e);let l=0;return(0,xn.D)(o).pipe(Ur(d=>function Ih(n,t,e,i){return function Rp(n,t,e,i){const o=Object.keys(n);if(0===o.length)return Je({});const l={};return(0,xn.D)(o).pipe((0,Gn.z)(d=>function Op(n,t,e,i){const o=Qs(n,t,i);return Sn(o.resolve?o.resolve(t,e):o(t,e))}(n[d],t,e,i).pipe((0,Ft.b)(m=>{l[d]=m}))),pa(1),(0,Gn.z)(()=>Object.keys(l).length===o.length?Je(l):Ui.E))}(n._resolve,n,t,i).pipe((0,lt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),_l(n,e).resolve),null)))}(d.route,i,n,t)),(0,Ft.b)(()=>l++),pa(1),(0,Gn.z)(d=>l===o.length?Je(e):Ui.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ft.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Ft.b)(b=>{const D=new ul(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}))}),Hi(m=>{const{targetSnapshot:b,id:D,extractedUrl:R,rawUrl:k,extras:{skipLocationChange:V,replaceUrl:Q}}=m;return this.hooks.afterPreactivation(b,{navigationId:D,appliedUrlTree:R,rawUrlTree:k,skipLocationChange:!!V,replaceUrl:!!Q})}),(0,lt.U)(m=>{const b=function pp(n,t,e){const i=uc(n,t._root,e?e._root:void 0);return new up(i,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Ft.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,lt.U)(i=>(new vp(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Ft.b)({next(){l=!0},complete(){l=!0}}),jr(()=>{var m;l||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),wr(m=>{if(d=!0,function op(n){return n&&n[ku]}(m)){const b=Ys(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const D=new Oo(o.id,this.serializeUrl(o.extractedUrl),m.message);i.next(D),b?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),k={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||El(o.source)};this.scheduleNavigation(R,"imperative",null,k,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new rp(o.id,this.serializeUrl(o.extractedUrl),m);i.next(b);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return Ui.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var o;const l={replaceUrl:!0},d=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(d){const b=Object.assign({},d);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(l.state=b)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,i,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){_c(e),this.config=e.map(mh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:b}=i,D=o||this.routerState.root,R=b?this.currentUrlTree.fragment:d;let k=null;switch(m){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),function gp(n,t,e,i,o){if(0===e.length)return hc(t.root,t.root,t,i,o);const l=function hh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _p(!0,0,n);let t=0,e=!1;const i=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Vn(l.outlets,(b,D)=>{m[D]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?t++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new _p(e,t,i)}(e);if(l.toRoot())return hc(t.root,new X([],{}),t,i,o);const d=function Uu(n,t,e){if(n.isAbsolute)return new fh(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new fh(l,l===t.root,0)}const i=Vu(n.commands[0])?0:1;return function gm(n,t,e){let i=n,o=t,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new fh(i,!1,o-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),m=d.processChildren?ju(d.segmentGroup,d.index,l.commands):_m(d.segmentGroup,d.index,l.commands);return hc(d.segmentGroup,m,t,i,o)}(D,this.currentUrlTree,e,k,null!=R?R:null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Ys(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Om(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?Object.assign({},Ia):!1===i?Object.assign({},Pp):i,Ys(e))return Pu(this.currentUrlTree,e,o);const l=this.parseUrl(e);return Pu(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new _s(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,o,l,d){var m,b,D;if(this.disposed)return Promise.resolve(!1);const R=this.transitions.value,k=El(i)&&R&&!El(R.source),V=R.rawUrl.toString()===e.toString(),Q=R.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(k&&V&&Q)return Promise.resolve(!0);let Ee,Ve,pt;d?(Ee=d.resolve,Ve=d.reject,pt=d.promise):pt=new Promise((gt,di)=>{Ee=gt,Ve=di});const vt=++this.navigationId;let Pt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Pt=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Pt=0,this.setTransition({id:vt,targetPageId:Pt,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:Ee,reject:Ve,promise:pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pt.catch(gt=>Promise.reject(gt))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,i=!1){var o,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const o=new Oo(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function El(n){return"imperative"!==n}class f{}class v{preload(t,e){return Je(null)}}let I=(()=>{class n{constructor(e,i,o,l){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=new Qu(o,i,b=>e.triggerEvent(new ys(b)),b=>e.triggerEvent(new ic(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(e=>e instanceof _s),Ur(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(e,l)):l.children&&o.push(this.processRoutes(e,l.children));return(0,xn.D)(o).pipe((0,gs.J)(),(0,lt.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Je(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Gn.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(yi),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(f))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),M=(()=>{class n{constructor(e,i,o={}){this.router=e,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _s&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vs&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new vs(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ne=new c.OlP("ROUTER_CONFIGURATION"),ke=new c.OlP("ROUTER_FORROOT_GUARD"),Se=[ze,{provide:xt,useClass:_t},{provide:yi,useFactory:function Xu(n,t,e,i,o,l,d={},m,b){const D=new yi(null,n,t,e,i,o,sc(l));return m&&(D.urlHandlingStrategy=m),b&&(D.routeReuseStrategy=b),function Mc(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(R=>{var k,V;null===(k=console.group)||void 0===k||k.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(V=console.groupEnd)||void 0===V||V.call(console)}),D},deps:[xt,vl,ze,c.zs3,c.Sil,Sc,ne,[class sr{},new c.FiY],[class Th{},new c.FiY]]},vl,{provide:Zs,useFactory:function Rc(n){return n.routerState.root},deps:[yi]},I,v,class p{preload(t,e){return e().pipe(wr(()=>Je(null)))}},{provide:ne,useValue:{enableTracing:!1}}];function We(){return new c.PXZ("Router",yi)}let Ye=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Se,Sa(e),{provide:ke,useFactory:eo,deps:[[yi,new c.FiY,new c.tp0]]},{provide:ne,useValue:i||{}},{provide:fe,useFactory:qn,deps:[ue,[new c.tBr(Re),new c.FiY],ne]},{provide:M,useFactory:Mt,deps:[yi,na,ne]},{provide:f,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:v},{provide:c.PXZ,multi:!0,useFactory:We},[Cl,{provide:c.ip1,multi:!0,useFactory:Ju,deps:[Cl]},{provide:wl,useFactory:Oh,deps:[Cl]},{provide:c.tb,multi:!0,useExisting:wl}]]}}static forChild(e){return{ngModule:n,providers:[Sa(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ke,8),c.LFG(yi,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Mt(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new M(n,t,e)}function qn(n,t,e={}){return e.useHash?new Ne(n,t):new Le(n,t)}function eo(n){return"guarded"}function Sa(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Sc,multi:!0,useValue:n}]}let Cl=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new It.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const o=new Promise(m=>i=m),l=this.injector.get(yi),d=this.injector.get(ne);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Je(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),o})}bootstrapListener(e){const i=this.injector.get(ne),o=this.injector.get(I),l=this.injector.get(M),d=this.injector.get(yi),m=this.injector.get(c.z2F);e===m.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ju(n){return n.appInitializer.bind(n)}function Oh(n){return n.bootstrapListener.bind(n)}const wl=new c.OlP("Router Initializer");var Aa=P(4986),Oc=P(6451),xm=P(3099);function km(n,t=Vi.y){return n=null!=n?n:Pm,(0,on.e)((e,i)=>{let o,l=!0;e.subscribe(new ln.Q(i,d=>{const m=t(d);(l||!n(o,m))&&(l=!1,o=m,i.next(d))}))})}function Pm(n,t){return n===t}var Nm=P(5032),Zr=P(5813),Is=P(2011),k0=(P(8125),P(3942)),Mi=P(4859),xc=P(5861),Il=P(9681),L=P(2090),Np=P(1877);const Sv="@firebase/database";let Fp="";function Mv(n){Fp=n}class P0{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class N0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Et=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new P0(t)}}catch(t){}return new N0},Tl=Et("localStorage"),Lp=Et("sessionStorage"),kc=new Np.Yd("@firebase/database"),xh=function(){let n=1;return function(){return n++}}(),Ts=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const i=e.digest();return L.US.encodeByteArray(i)},ed=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ed.apply(null,i):t+="object"==typeof i?(0,L.Pz)(i):i,t+=" "}return t};let Pc=null,Bp=!0;const Fo=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(kc.logLevel=Np.in.VERBOSE,Pc=kc.log.bind(kc),t&&Lp.set("logging_enabled",!0)):"function"==typeof n?Pc=n:(Pc=null,Lp.remove("logging_enabled"))},ri=function(...n){if(!0===Bp&&(Bp=!1,null===Pc&&!0===Lp.get("logging_enabled")&&Fo(!0)),Pc){const t=ed.apply(null,n);Pc(t)}},td=function(n){return function(...t){ri(n,...t)}},kh=function(...n){const t="FIREBASE INTERNAL ERROR: "+ed(...n);kc.error(t)},Ma=function(...n){const t=`FIREBASE FATAL ERROR: ${ed(...n)}`;throw kc.error(t),new Error(t)},Ri=function(...n){const t="FIREBASE WARNING: "+ed(...n);kc.warn(t)},Nc=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},to="[MIN_NAME]",Ss="[MAX_NAME]",Ra=function(n,t){if(n===t)return 0;if(n===to||t===Ss)return-1;if(t===to||n===Ss)return 1;{const e=nd(n),i=nd(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},qT=function(n,t){return n===t?0:n<t?-1:1},Ph=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(t))},Fm=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,L.Pz)(t[i]),e+=":",e+=Fm(n[t[i]]);return e+="}",e},Rv=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function vi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Lm=function(n){(0,L.hu)(!Nc(n),"Invalid JSON number");const i=1023;let o,l,d,m,b;0===n?(l=0,d=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=m+i,d=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(l=0,d=Math.round(n/Math.pow(2,-1074))));const D=[];for(b=52;b;b-=1)D.push(d%2?1:0),d=Math.floor(d/2);for(b=11;b;b-=1)D.push(l%2?1:0),l=Math.floor(l/2);D.push(o?1:0),D.reverse();const R=D.join("");let k="";for(b=0;b<64;b+=8){let V=parseInt(R.substr(b,8),2).toString(16);1===V.length&&(V="0"+V),k+=V}return k.toLowerCase()},Ov=new RegExp("^-?(0*)\\d{1,10}$"),Bm=-2147483648,Vm=2147483647,nd=function(n){if(Ov.test(n)){const t=Number(n);if(t>=Bm&&t<=Vm)return t}return null},Nh=function(n){try{n()}catch(t){setTimeout(()=>{throw Ri("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Up=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class QT{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class XT{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ri("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(t)}}let jp=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Hp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hm="websocket",$p="long_polling";class $m{constructor(t,e,i,o,l=!1,d="",m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Tl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function zm(n,t,e){let i;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===Hm)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==$p)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Sl(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return vi(e,(l,d)=>{o.push(l+"="+d)}),i+o.join("&")}class U0{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const Lh={},Gm={};function zp(n){const t=n.toString();return Lh[t]||(Lh[t]=new U0),Lh[t]}class H0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Nh(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xa{constructor(t,e,i,o,l,d,m){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=td(t),this.stats_=zp(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),zm(e,$p,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new H0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ym((...l)=>{const[d,m,b,D,R]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=m,this.password=b;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[d,m]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Hp.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xa.forceAllow_=!0}static forceDisallow(){xa.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!xa.forceAllow_&&(xa.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,L.h$)(e),o=Rv(i,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ym{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=xh(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ym.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){ri("frame writing exception"),m.stack&&ri(m.stack),ri(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ri("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+o+"="+d.seg+"&ts"+o+"="+d.ts+"&d"+o+"="+d.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ri("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Gp=null;"undefined"!=typeof MozWebSocket?Gp=MozWebSocket:"undefined"!=typeof WebSocket&&(Gp=WebSocket);let bi=(()=>{class n{constructor(e,i,o,l,d,m,b){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=td(this.connId),this.stats_=zp(i),this.connURL=n.connectionURL_(i,m,b,l,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,l,d){const m={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&Hp.test(location.hostname)&&(m.r="f"),i&&(m.s=i),o&&(m.ls=o),l&&(m.ac=l),d&&(m.p=d),zm(e,Hm,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tl.set("previous_websocket_failure",!0);try{let o;if((0,L.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${Fp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const m=process.env,b=0===this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;b&&(d.proxy={origin:b})}this.mySock=new Gp(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Gp&&!n.forceDisallow_}static previouslyFailed(){return Tl.isInMemoryStorage||!0===Tl.get("previous_websocket_failure")}markConnectionHealthy(){Tl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,L.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,L.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Rv(i,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),jv=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xa,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=bi&&bi.isAvailable();let o=i&&!bi.previouslyFailed();if(e.webSocketOnly&&(i||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[bi];else{const l=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&l.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Yv{constructor(t,e,i,o,l,d,m,b,D,R){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=b,this.onKill_=D,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=td("c:"+this.id+":"),this.transportManager_=new jv(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Up(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ph("t",t),i=Ph("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ph("t",t),i=Ph("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ph("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?kh("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kh("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Up(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Up(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Kv{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Jm{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Vh extends Jm{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vh}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Wt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function qt(){return new Wt("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Lc(n){return n.pieces_.length-n.pieceNum_}function cn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Wt(n.pieces_,t)}function e_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Uh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Wp(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Wt(t,0)}function An(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Wt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Wt(e,0)}function Ot(n){return n.pieceNum_>=n.pieces_.length}function Ei(n,t){const e=Rt(n),i=Rt(t);if(null===e)return t;if(e===i)return Ei(cn(n),cn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function t_(n,t){const e=Uh(n,0),i=Uh(t,0);for(let o=0;o<e.length&&o<i.length;o++){const l=Ra(e[o],i[o]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function n_(n,t){if(Lc(n)!==Lc(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Sr(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Lc(n)>Lc(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class i_{constructor(t,e){this.errorPrefix_=e,this.parts_=Uh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);Jv(this)}}function Jv(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ka(n))}function ka(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class eb extends Jm{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new eb}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const jh=1e3;let ad,Bc=(()=>{class n extends Kv{constructor(e,i,o,l,d,m,b,D){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=b,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=td("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eb.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Vh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const l=++this.requestNumber_,d={r:l,a:e,b:i};this.log_((0,L.Pz)(d)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const i=new L.BH,o={p:e._path.toString(),q:e._queryObject},l={action:"g",request:o,onComplete:m=>{const b=m.d;"ok"===m.s?(this.onDataUpdate_(o.p,b,!1,null),i.resolve(b)):i.reject(b)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const m=this.outstandingGets_[d];void 0===m||l!==m||(delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+d+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(d),i.promise}listen(e,i,o,l){this.initConnection_();const d=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+d),this.listens.has(m)||this.listens.set(m,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(m).has(d),"listen() called twice for same path/queryId.");const b={onComplete:l,hashFn:i,query:e,tag:o};this.listens.get(m).set(d,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const d={p:o};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,b=>{const D=b.d,R=b.s;n.warnOnListenWarnings_(D,i),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",b),"ok"!==R&&this.removeListen_(o,l),e.onComplete&&e.onComplete(R,D))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const o=(0,L.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,L.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const d=l.s,m=l.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,i)}sendUnlisten_(e,i,o,l){this.log_("Unlisten on "+e+" for "+i);const d={p:e};l&&(d.q=o,d.t=l),this.sendRequest("n",d)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,l){const d={p:i,d:o};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(e,i,o,l){this.putInternal("p",e,i,o,l)}merge(e,i,o,l){this.putInternal("m",e,i,o,l)}putInternal(e,i,o,l,d){this.initConnection_();const m={p:i,d:o};void 0!==d&&(m.h=d),this.outstandingPuts_.push({action:e,request:m,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Pz)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):kh("Unrecognized action received from server: "+(0,L.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,xc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let b=!1,D=null;const R=function(){D?D.close():(b=!0,l())};e.realtime_={close:R,sendRequest:function(Q){(0,L.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(Q)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Q,se]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);b?ri("getToken() completed but was canceled"):(ri("getToken() completed. Creating connection."),e.authToken_=Q&&Q.accessToken,e.appCheckToken_=se&&se.token,D=new Yv(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,l,Ee=>{Ri(Ee+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(Q){e.log_("Failed to get token: "+Q),b||(e.repoInfo_.nodeAdmin&&Ri(Q),R())}}})()}interrupt(e){ri("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ri("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(d=>Fm(d)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const o=new Wt(e).toString();let l;if(this.listens.has(o)){const d=this.listens.get(o);l=d.get(i),d.delete(i),0===d.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,i){ri("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ri("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Fp.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vh.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kt(t,e)}}class s_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new kt(to,t),o=new kt(to,e);return 0!==this.compare(i,o)}minPost(){return kt.MIN}}class o_ extends s_{static get __EMPTY_NODE(){return ad}static set __EMPTY_NODE(t){ad=t}compare(t,e){return Ra(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kt.MIN}maxPost(){return new kt(Ss,ad)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,ad)}toString(){return".key"}}const As=new o_;class Al{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=e?i(t.key,e):1,o&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let l_,io=(()=>{class n{constructor(e,i,o,l,d){this.key=e,this.value=i,this.color=null!=o?o:n.RED,this.left=null!=l?l:or.EMPTY_NODE,this.right=null!=d?d:or.EMPTY_NODE}copy(e,i,o,l,d){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let l=this;const d=o(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,i,o),null):0===d?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return or.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,l;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return or.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class or{constructor(t,e=or.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new or(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,io.BLACK,null,null))}remove(t){return new or(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,io.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Al(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Al(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Al(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Al(this.root_,null,this.comparator_,!0,t)}}function sb(n,t){return Ra(n.name,t.name)}function qp(n,t){return Ra(n,t)}or.EMPTY_NODE=new class a_{copy(t,e,i,o,l){return this}insert(t,e,i){return new io(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ob=function(n){return"number"==typeof n?"number:"+Lm(n):"string:"+n},ab=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===l_||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===l_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let u_,d_,lb,ro=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ab(this.priorityNode_)}static set __childrenNodeConstructor(e){u_=e}static get __childrenNodeConstructor(){return u_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:".priority"===Rt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=Rt(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,L.hu)(".priority"!==o||1===Lc(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(cn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ob(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Lm(this.value_):this.value_,this.lazyHash_=Ts(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(o);return(0,L.hu)(l>=0,"Unknown leaf type: "+i),(0,L.hu)(d>=0,"Unknown leaf type: "+o),l===d?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Cn=new class Y0 extends s_{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return 0===l?Ra(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(Ss,new ro("[PRIORITY-POST]",lb))}makePost(t,e){const i=d_(t);return new kt(e,new ro("[PRIORITY-POST]",i))}toString(){return".priority"}},K0=Math.log(2);class Q0{constructor(t){this.count=parseInt(Math.log(t+1)/K0,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ar=function(n,t,e,i){n.sort(t);const o=function(b,D){const R=D-b;let k,V;if(0===R)return null;if(1===R)return k=n[b],V=e?e(k):k,new io(V,k.node,io.BLACK,null,null);{const Q=parseInt(R/2,10)+b,se=o(b,Q),Ee=o(Q+1,D);return k=n[Q],V=e?e(k):k,new io(V,k.node,io.BLACK,se,Ee)}},m=function(b){let D=null,R=null,k=n.length;const V=function(se,Ee){const Ve=k-se,pt=k;k-=se;const vt=o(Ve+1,pt),Pt=n[Ve],gt=e?e(Pt):Pt;Q(new io(gt,Pt.node,Ee,null,vt))},Q=function(se){D?(D.left=se,D=se):(R=se,D=se)};for(let se=0;se<b.count;++se){const Ee=b.nextBitIsOne(),Ve=Math.pow(2,b.count-(se+1));Ee?V(Ve,io.BLACK):(V(Ve,io.BLACK),V(Ve,io.RED))}return R}(new Q0(n.length));return new or(i||t,m)};let $h;const Vc={};class Lo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(Vc&&Cn,"ChildrenNode.ts has not been loaded"),$h=$h||new Lo({".priority":Vc},{".priority":Cn}),$h}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof or?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==As,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(kt.Wrap);let m,d=l.getNext();for(;d;)o=o||t.isDefinedOn(d.node),i.push(d),d=l.getNext();m=o?ar(i,t.getCompare()):Vc;const b=t.toString(),D=Object.assign({},this.indexSet_);D[b]=t;const R=Object.assign({},this.indexes_);return R[b]=m,new Lo(R,D)}addToIndexes(t,e){const i=(0,L.UI)(this.indexes_,(o,l)=>{const d=(0,L.DV)(this.indexSet_,l);if((0,L.hu)(d,"Missing index implementation for "+l),o===Vc){if(d.isDefinedOn(t.node)){const m=[],b=e.getIterator(kt.Wrap);let D=b.getNext();for(;D;)D.name!==t.name&&m.push(D),D=b.getNext();return m.push(t),ar(m,d.getCompare())}return Vc}{const m=e.get(t.name);let b=o;return m&&(b=b.remove(new kt(t.name,m))),b.insert(t,t.node)}});return new Lo(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,L.UI)(this.indexes_,o=>{if(o===Vc)return o;{const l=e.get(t.name);return l?o.remove(new kt(t.name,l)):o}});return new Lo(i,this.indexSet_)}}let cd,wt=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&ab(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cd||(cd=new n(new or(qp),null,Lo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?cd:i}}getChild(e){const i=Rt(e);return null===i?this:this.getImmediateChild(i).getChild(cn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new kt(e,i);let l,d;i.isEmpty()?(l=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?cd:this.priorityNode_;return new n(l,m,d)}}updateChild(e,i){const o=Rt(e);if(null===o)return i;{(0,L.hu)(".priority"!==Rt(e)||1===Lc(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(cn(e),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,l=0,d=!0;if(this.forEachChild(Cn,(m,b)=>{i[m]=b.val(e),o++,d&&n.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):d=!1}),!e&&d&&l<2*o){const m=[];for(const b in i)m[b]=i[b];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ob(this.getPriority().val())+":"),this.forEachChild(Cn,(i,o)=>{const l=o.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":Ts(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const l=this.resolveIndex_(o);if(l){const d=l.getPredecessorKey(new kt(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new kt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new kt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,kt.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)<0;)l.getNext(),d=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)>0;)l.getNext(),d=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zh?-1:0}withIndex(e){if(e===As||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===As||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(Cn),l=i.getIterator(Cn);let d=o.getNext(),m=l.getNext();for(;d&&m;){if(d.name!==m.name||!d.node.equals(m.node))return!1;d=o.getNext(),m=l.getNext()}return null===d&&null===m}return!1}return!1}}resolveIndex_(e){return e===As?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const zh=new class X0 extends wt{constructor(){super(new or(qp),wt.EMPTY_NODE,Lo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return wt.EMPTY_NODE}isEmpty(){return!1}};function Fn(n,t=null){if(null===n)return wt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ro(n,Fn(t));if(n instanceof Array){let e=wt.EMPTY_NODE;return vi(n,(i,o)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const l=Fn(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(Fn(t))}{const e=[];let i=!1;if(vi(n,(d,m)=>{if("."!==d.substring(0,1)){const b=Fn(m);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new kt(d,b)))}}),0===e.length)return wt.EMPTY_NODE;const l=ar(e,sb,d=>d.name,qp);if(i){const d=ar(e,Cn.getCompare());return new wt(l,Fn(t),new Lo({".priority":d},{".priority":Cn}))}return new wt(l,Fn(t),Lo.Default)}}Object.defineProperties(kt,{MIN:{value:new kt(to,wt.EMPTY_NODE)},MAX:{value:new kt(Ss,zh)}}),o_.__EMPTY_NODE=wt.EMPTY_NODE,ro.__childrenNodeConstructor=wt,function c_(n){l_=n}(zh),function ld(n){lb=n}(zh),function Z0(n){d_=n}(Fn);class Zp extends s_{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!Ot(t)&&".priority"!==Rt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return 0===l?Ra(t.name,e.name):l}makePost(t,e){const i=Fn(t),o=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new kt(e,o)}maxPost(){const t=wt.EMPTY_NODE.updateChild(this.indexPath_,zh);return new kt(Ss,t)}toString(){return Uh(this.indexPath_,0).join("/")}}const Yp=new class nS extends s_{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ra(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(t,e){const i=Fn(t);return new kt(e,i)}toString(){return".value"}},ud="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",f_=function(){let n=0;const t=[];return function(e){const i=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=ud.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let d=l.join("");if(i){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)d+=ud.charAt(t[o]);return(0,L.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),cb=function(n){if(n===""+Vm)return"-";const t=nd(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let d=0;d<e.length;d++)e[d]=n.charAt(d);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Ss;const l=ud.charAt(ud.indexOf(e[i])+1);return e[i]=l,e.slice(0,i+1).join("")},p_=function(n){if(n===""+Bm)return to;const t=nd(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Vm:(delete e[e.length-1],e.join("")):(e[e.length-1]=ud.charAt(ud.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function g_(n){return{type:"value",snapshotNode:n}}function Gh(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function lr(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Kp(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Qp{constructor(t){this.index_=t}updateChild(t,e,i,o,l,d){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(o).equals(i.getChild(o))&&m.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(lr(e,m)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Gh(e,i)):d.trackChildChange(Kp(e,i,m))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Cn,(o,l)=>{e.hasChild(o)||i.trackChildChange(lr(o,l))}),e.isLeafNode()||e.forEachChild(Cn,(o,l)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(l)||i.trackChildChange(Kp(o,l,d))}else i.trackChildChange(Gh(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?wt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dd{constructor(t){this.indexedFilter_=new Qp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dd.getStartPost_(t),this.endPost_=dd.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,o,l,d){return this.matches(new kt(e,i))||(i=wt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=wt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(wt.EMPTY_NODE);const l=this;return e.forEachChild(Cn,(d,m)=>{l.matches(new kt(d,m))||(o=o.updateImmediateChild(d,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class ub{constructor(t){this.rangedFilter_=new dd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,o,l,d){return this.rangedFilter_.matches(new kt(e,i))||(i=wt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,d):this.fullLimitUpdateChild_(t,e,i,l,d)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=wt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;l.hasNext()&&d<this.limit_;){const m=l.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!b)break;o=o.updateImmediateChild(m.name,m.node),d++}}else{let l,d,m,b;if(o=e.withIndex(this.index_),o=o.updatePriority(wt.EMPTY_NODE),this.reverse_){b=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();m=(V,Q)=>k(Q,V)}else b=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let D=0,R=!1;for(;b.hasNext();){const k=b.getNext();!R&&m(l,k)<=0&&(R=!0),R&&D<this.limit_&&m(k,d)<=0?D++:o=o.updateImmediateChild(k.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let d;if(this.reverse_){const k=this.index_.getCompare();d=(V,Q)=>k(Q,V)}else d=this.index_.getCompare();const m=t;(0,L.hu)(m.numChildren()===this.limit_,"");const b=new kt(e,i),D=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),R=this.rangedFilter_.matches(b);if(m.hasChild(e)){const k=m.getImmediateChild(e);let V=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=V&&(V.name===e||m.hasChild(V.name));)V=o.getChildAfterChild(this.index_,V,this.reverse_);const Q=null==V?1:d(V,b);if(R&&!i.isEmpty()&&Q>=0)return null!=l&&l.trackChildChange(Kp(e,i,k)),m.updateImmediateChild(e,i);{null!=l&&l.trackChildChange(lr(e,k));const Ee=m.updateImmediateChild(e,wt.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=l&&l.trackChildChange(Gh(V.name,V.node)),Ee.updateImmediateChild(V.name,V.node)):Ee}}return i.isEmpty()?t:R&&d(D,b)>=0?(null!=l&&(l.trackChildChange(lr(D.name,D.node)),l.trackChildChange(Gh(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(D.name,wt.EMPTY_NODE)):t}}class Xp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cn}copy(){const t=new Xp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function __(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function v_(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Jp(n,t){const e=n.copy();return e.index_=t,e}function hb(n){const t={};if(n.isDefault())return t;let e;return n.index_===Cn?e="$priority":n.index_===Yp?e="$value":n.index_===As?e="$key":((0,L.hu)(n.index_ instanceof Zp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Pz)(e),n.startSet_&&(t.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function fb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Cn&&(t.i=n.index_.toString()),t}class eg extends Kv{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=td("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const d=eg.getListenId_(t,i),m={};this.listens_[d]=m;const b=hb(t._queryParams);this.restRequest_(l+".json",b,(D,R)=>{let k=R;if(404===D&&(k=null,D=null),null===D&&this.onDataUpdate_(l,k,!1,i),(0,L.DV)(this.listens_,d)===m){let V;V=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(V,null)}})}unlisten(t,e){const i=eg.getListenId_(t,e);delete this.listens_[i]}get(t){const e=hb(t._queryParams),i=t._path.toString(),o=new L.BH;return this.restRequest_(i+".json",e,(l,d)=>{let m=d;404===l&&(m=null,l=null),null===l?(this.onDataUpdate_(i,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let b=null;if(m.status>=200&&m.status<300){try{b=(0,L.cI)(m.responseText)}catch(D){Ri("Failed to parse JSON response for "+d+": "+m.responseText)}i(null,b)}else 401!==m.status&&404!==m.status&&Ri("Got unsuccessful REST response for "+d+" Status: "+m.status),i(m.status);i=null}},m.open("GET",d,!0),m.send()})}}class tg{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Na(){return{value:null,children:new Map}}function hd(n,t,e){if(Ot(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Rt(t);n.children.has(i)||n.children.set(i,Na()),hd(n.children.get(i),t=cn(t),e)}}function Uc(n,t){if(Ot(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Cn,(i,o)=>{hd(n,new Wt(i),o)}),Uc(n,t)}}if(n.children.size>0){const e=Rt(t);return t=cn(t),n.children.has(e)&&Uc(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function b_(n,t,e){null!==n.value?e(t,n.value):function iw(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{b_(o,new Wt(t.toString()+"/"+i),e)})}class E_{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&vi(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class jc{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new E_(t);const i=1e4+2e4*Math.random();Up(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;vi(t,(o,l)=>{l>0&&(0,L.r3)(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),Up(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var cr=(()=>{return(n=cr||(cr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",cr;var n})();function Ml(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Fa{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=cr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ot(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Wt(t));return new Fa(qt(),e,this.revert)}}return(0,L.hu)(Rt(this.path)===t,"operationForChild called for unrelated child."),new Fa(cn(this.path),this.affectedTree,this.revert)}}class Bo{constructor(t,e){this.source=t,this.path=e,this.type=cr.LISTEN_COMPLETE}operationForChild(t){return Ot(this.path)?new Bo(this.source,qt()):new Bo(this.source,cn(this.path))}}class Ms{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=cr.OVERWRITE}operationForChild(t){return Ot(this.path)?new Ms(this.source,qt(),this.snap.getImmediateChild(t)):new Ms(this.source,cn(this.path),this.snap)}}class oo{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=cr.MERGE}operationForChild(t){if(Ot(this.path)){const e=this.children.subtree(new Wt(t));return e.isEmpty()?null:e.value?new Ms(this.source,qt(),e.value):new oo(this.source,qt(),e)}return(0,L.hu)(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new oo(this.source,cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yr{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ot(t))return this.isFullyInitialized()&&!this.filtered_;const e=Rt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class fd{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Vo(n,t,e,i,o,l){const d=i.filter(m=>m.type===e);d.sort((m,b)=>function gb(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new kt(t.childName,t.snapshotNode),o=new kt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,m,b)),d.forEach(m=>{const b=function pb(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,l);o.forEach(D=>{D.respondsTo(m.type)&&t.push(D.createEvent(b,n.query_))})})}function Zh(n,t){return{eventCache:n,serverCache:t}}function gd(n,t,e,i){return Zh(new Yr(t,e,i),n.serverCache)}function C_(n,t,e,i){return Zh(n.eventCache,new Yr(t,e,i))}function Yh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Rl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ng;class wn{constructor(t,e=(()=>(ng||(ng=new or(qT)),ng))()){this.value=t,this.children=e}static fromObject(t){let e=new wn(null);return vi(t,(i,o)=>{e=e.set(new Wt(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:qt(),value:this.value};if(Ot(t))return null;{const i=Rt(t),o=this.children.get(i);if(null!==o){const l=o.findRootMostMatchingPathAndValue(cn(t),e);return null!=l?{path:An(new Wt(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ot(t))return this;{const e=Rt(t),i=this.children.get(e);return null!==i?i.subtree(cn(t)):new wn(null)}}set(t,e){if(Ot(t))return new wn(e,this.children);{const i=Rt(t),l=(this.children.get(i)||new wn(null)).set(cn(t),e),d=this.children.insert(i,l);return new wn(this.value,d)}}remove(t){if(Ot(t))return this.children.isEmpty()?new wn(null):new wn(null,this.children);{const e=Rt(t),i=this.children.get(e);if(i){const o=i.remove(cn(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new wn(null):new wn(this.value,l)}return this}}get(t){if(Ot(t))return this.value;{const e=Rt(t),i=this.children.get(e);return i?i.get(cn(t)):null}}setTree(t,e){if(Ot(t))return e;{const i=Rt(t),l=(this.children.get(i)||new wn(null)).setTree(cn(t),e);let d;return d=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new wn(this.value,d)}}fold(t){return this.fold_(qt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(An(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,qt(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(Ot(t))return null;{const l=Rt(t),d=this.children.get(l);return d?d.findOnPath_(cn(t),An(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,qt(),e)}foreachOnPath_(t,e,i){if(Ot(t))return this;{this.value&&i(e,this.value);const o=Rt(t),l=this.children.get(o);return l?l.foreachOnPath_(cn(t),An(e,o),i):new wn(null)}}foreach(t){this.foreach_(qt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(An(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Rs{constructor(t){this.writeTree_=t}static empty(){return new Rs(new wn(null))}}function Kh(n,t,e){if(Ot(t))return new Rs(new wn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let l=i.value;const d=Ei(o,t);return l=l.updateChild(d,e),new Rs(n.writeTree_.set(o,l))}{const o=new wn(e),l=n.writeTree_.setTree(t,o);return new Rs(l)}}}function w_(n,t,e){let i=n;return vi(e,(o,l)=>{i=Kh(i,An(t,o),l)}),i}function D_(n,t){if(Ot(t))return Rs.empty();{const e=n.writeTree_.setTree(t,new wn(null));return new Rs(e)}}function I_(n,t){return null!=Hc(n,t)}function Hc(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ei(e.path,t)):null}function T_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Cn,(i,o)=>{t.push(new kt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new kt(i,o.value))}),t}function Ol(n,t){if(Ot(t))return n;{const e=Hc(n,t);return new Rs(null!=e?new wn(e):n.writeTree_.subtree(t))}}function ig(n){return n.writeTree_.isEmpty()}function md(n,t){return _b(qt(),n.writeTree_,t)}function _b(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,L.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=_b(An(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(An(n,".priority"),i)),e}}function S_(n,t){return Cb(t,n)}function sS(n,t){if(n.snap)return Sr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Sr(An(n.path,e),t))return!0;return!1}function aS(n){return n.visible}function yb(n,t,e){let i=Rs.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const d=l.path;let m;if(l.snap)Sr(e,d)?(m=Ei(e,d),i=Kh(i,m,l.snap)):Sr(d,e)&&(m=Ei(d,e),i=Kh(i,qt(),l.snap.getChild(m)));else{if(!l.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(Sr(e,d))m=Ei(e,d),i=w_(i,m,l.children);else if(Sr(d,e))if(m=Ei(d,e),Ot(m))i=w_(i,qt(),l.children);else{const b=(0,L.DV)(l.children,Rt(m));if(b){const D=b.getChild(cn(m));i=Kh(i,qt(),D)}}}}}return i}function R_(n,t,e,i,o){if(i||o){const l=Ol(n.visibleWrites,t);return!o&&ig(l)?e:o||null!=e||I_(l,qt())?md(yb(n.allWrites,function(D){return(D.visible||o)&&(!i||!~i.indexOf(D.writeId))&&(Sr(D.path,t)||Sr(t,D.path))},t),e||wt.EMPTY_NODE):null}{const l=Hc(n.visibleWrites,t);if(null!=l)return l;{const d=Ol(n.visibleWrites,t);return ig(d)?e:null!=e||I_(d,qt())?md(d,e||wt.EMPTY_NODE):null}}}function Qh(n,t,e,i){return R_(n.writeTree,n.treePath,t,e,i)}function yd(n,t){return function lS(n,t,e){let i=wt.EMPTY_NODE;const o=Hc(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Cn,(l,d)=>{i=i.updateImmediateChild(l,d)}),i;if(e){const l=Ol(n.visibleWrites,t);return e.forEachChild(Cn,(d,m)=>{const b=md(Ol(l,new Wt(d)),m);i=i.updateImmediateChild(d,b)}),T_(l).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return T_(Ol(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function bb(n,t,e,i){return function ow(n,t,e,i,o){(0,L.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=An(t,e);if(I_(n.visibleWrites,l))return null;{const d=Ol(n.visibleWrites,l);return ig(d)?o.getChild(e):md(d,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Xh(n,t){return function aw(n,t){return Hc(n.visibleWrites,t)}(n.writeTree,An(n.treePath,t))}function O_(n,t,e){return function _d(n,t,e,i){const o=An(t,e),l=Hc(n.visibleWrites,o);return null!=l?l:i.isCompleteForChild(e)?md(Ol(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Eb(n,t){return Cb(An(n.treePath,t),n.writeTree)}function Cb(n,t){return{treePath:n,writeTree:t}}class uw{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,Kp(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,lr(i,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,Gh(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,Kp(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Db=new class wb{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class rg{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Yr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return O_(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rl(this.viewCache_),l=function cw(n,t,e,i,o,l){return function vb(n,t,e,i,o,l,d){let m;const b=Ol(n.visibleWrites,t),D=Hc(b,qt());if(null!=D)m=D;else{if(null==e)return[];m=md(b,e)}if(m=m.withIndex(d),m.isEmpty()||m.isLeafNode())return[];{const R=[],k=d.getCompare(),V=l?m.getReverseIteratorFrom(i,d):m.getIteratorFrom(i,d);let Q=V.getNext();for(;Q&&R.length<o;)0!==k(Q,i)&&R.push(Q),Q=V.getNext();return R}}(n.writeTree,n.treePath,t,e,i,o,l)}(this.writes_,o,e,1,i,t);return 0===l.length?null:l[0]}}function Tb(n,t,e,i,o,l){const d=t.eventCache;if(null!=Xh(i,e))return t;{let m,b;if(Ot(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Rl(t),k=yd(i,D instanceof wt?D:wt.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),k,l)}else{const D=Qh(i,Rl(t));m=n.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const D=Rt(e);if(".priority"===D){(0,L.hu)(1===Lc(e),"Can't have a priority with additional path components");const R=d.getNode();b=t.serverCache.getNode();const k=bb(i,e,R,b);m=null!=k?n.filter.updatePriority(R,k):d.getNode()}else{const R=cn(e);let k;if(d.isCompleteForChild(D)){b=t.serverCache.getNode();const V=bb(i,e,d.getNode(),b);k=null!=V?d.getNode().getImmediateChild(D).updateChild(R,V):d.getNode().getImmediateChild(D)}else k=O_(i,D,t.serverCache);m=null!=k?n.filter.updateChild(d.getNode(),D,k,R,o,l):d.getNode()}}return gd(t,m,d.isFullyInitialized()||Ot(e),n.filter.filtersNodes())}}function P_(n,t,e,i,o,l,d,m){const b=t.serverCache;let D;const R=d?n.filter:n.filter.getIndexedFilter();if(Ot(e))D=R.updateFullNode(b.getNode(),i,null);else if(R.filtersNodes()&&!b.isFiltered()){const Q=b.getNode().updateChild(e,i);D=R.updateFullNode(b.getNode(),Q,null)}else{const Q=Rt(e);if(!b.isCompleteForPath(e)&&Lc(e)>1)return t;const se=cn(e),Ve=b.getNode().getImmediateChild(Q).updateChild(se,i);D=".priority"===Q?R.updatePriority(b.getNode(),Ve):R.updateChild(b.getNode(),Q,Ve,se,Db,null)}const k=C_(t,D,b.isFullyInitialized()||Ot(e),R.filtersNodes());return Tb(n,k,e,o,new rg(o,k,l),m)}function $c(n,t,e,i,o,l,d){const m=t.eventCache;let b,D;const R=new rg(o,t,l);if(Ot(e))D=n.filter.updateFullNode(t.eventCache.getNode(),i,d),b=gd(t,D,!0,n.filter.filtersNodes());else{const k=Rt(e);if(".priority"===k)D=n.filter.updatePriority(t.eventCache.getNode(),i),b=gd(t,D,m.isFullyInitialized(),m.isFiltered());else{const V=cn(e),Q=m.getNode().getImmediateChild(k);let se;if(Ot(V))se=i;else{const Ee=R.getCompleteChild(k);se=null!=Ee?".priority"===e_(V)&&Ee.getChild(Wp(V)).isEmpty()?Ee:Ee.updateChild(V,i):wt.EMPTY_NODE}b=Q.equals(se)?t:gd(t,n.filter.updateChild(m.getNode(),k,se,V,R,d),m.isFullyInitialized(),n.filter.filtersNodes())}}return b}function N_(n,t){return n.eventCache.isCompleteForChild(t)}function sg(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function L_(n,t,e,i,o,l,d,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,b=t;D=Ot(e)?i:new wn(null).setTree(e,i);const R=t.serverCache.getNode();return D.children.inorderTraversal((k,V)=>{if(R.hasChild(k)){const se=sg(0,t.serverCache.getNode().getImmediateChild(k),V);b=P_(n,b,new Wt(k),se,o,l,d,m)}}),D.children.inorderTraversal((k,V)=>{const Q=!t.serverCache.isCompleteForChild(k)&&void 0===V.value;if(!R.hasChild(k)&&!Q){const Ee=sg(0,t.serverCache.getNode().getImmediateChild(k),V);b=P_(n,b,new Wt(k),Ee,o,l,d,m)}}),b}class uS{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Qp(i.getIndex()),l=function rS(n){return n.loadsAllData()?new Qp(n.getIndex()):n.hasLimit()?new ub(n):new dd(n)}(i);this.processor_=function Ib(n){return{filter:n}}(l);const d=e.serverCache,m=e.eventCache,b=o.updateFullNode(wt.EMPTY_NODE,d.getNode(),null),D=l.updateFullNode(wt.EMPTY_NODE,m.getNode(),null),R=new Yr(b,d.isFullyInitialized(),o.filtersNodes()),k=new Yr(D,m.isFullyInitialized(),l.filtersNodes());this.viewCache_=Zh(k,R),this.eventGenerator_=new fd(this.query_)}get query(){return this.query_}}function j_(n,t){const e=Rl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ot(t)&&!e.getImmediateChild(Rt(t)).isEmpty())?e.getChild(t):null}function Ab(n){return 0===n.eventRegistrations_.length}function og(n,t,e){const i=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const d=l.createCancelEvent(e,o);d&&i.push(d)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const d=n.eventRegistrations_[l];if(d.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(d)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function H_(n,t,e,i){t.type===cr.MERGE&&null!==t.source.queryId&&((0,L.hu)(Rl(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(Yh(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function cS(n,t,e,i,o){const l=new uw;let d,m;if(e.type===cr.OVERWRITE){const D=e;D.source.fromUser?d=$c(n,t,D.path,D.snap,i,o,l):((0,L.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered()&&!Ot(D.path),d=P_(n,t,D.path,D.snap,i,o,m,l))}else if(e.type===cr.MERGE){const D=e;D.source.fromUser?d=function F_(n,t,e,i,o,l,d){let m=t;return i.foreach((b,D)=>{const R=An(e,b);N_(t,Rt(R))&&(m=$c(n,m,R,D,o,l,d))}),i.foreach((b,D)=>{const R=An(e,b);N_(t,Rt(R))||(m=$c(n,m,R,D,o,l,d))}),m}(n,t,D.path,D.children,i,o,l):((0,L.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered(),d=L_(n,t,D.path,D.children,i,o,m,l))}else if(e.type===cr.ACK_USER_WRITE){const D=e;d=D.revert?function Sb(n,t,e,i,o,l){let d;if(null!=Xh(i,e))return t;{const m=new rg(i,t,o),b=t.eventCache.getNode();let D;if(Ot(e)||".priority"===Rt(e)){let R;if(t.serverCache.isFullyInitialized())R=Qh(i,Rl(t));else{const k=t.serverCache.getNode();(0,L.hu)(k instanceof wt,"serverChildren would be complete if leaf node"),R=yd(i,k)}R=R,D=n.filter.updateFullNode(b,R,l)}else{const R=Rt(e);let k=O_(i,R,t.serverCache);null==k&&t.serverCache.isCompleteForChild(R)&&(k=b.getImmediateChild(R)),D=null!=k?n.filter.updateChild(b,R,k,cn(e),m,l):t.eventCache.getNode().hasChild(R)?n.filter.updateChild(b,R,wt.EMPTY_NODE,cn(e),m,l):b,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Qh(i,Rl(t)),d.isLeafNode()&&(D=n.filter.updateFullNode(D,d,l)))}return d=t.serverCache.isFullyInitialized()||null!=Xh(i,qt()),gd(t,D,d,n.filter.filtersNodes())}}(n,t,D.path,i,o,l):function B_(n,t,e,i,o,l,d){if(null!=Xh(o,e))return t;const m=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(Ot(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return P_(n,t,e,b.getNode().getChild(e),o,l,m,d);if(Ot(e)){let D=new wn(null);return b.getNode().forEachChild(As,(R,k)=>{D=D.set(new Wt(R),k)}),L_(n,t,e,D,o,l,m,d)}return t}{let D=new wn(null);return i.foreach((R,k)=>{const V=An(e,R);b.isCompleteForPath(V)&&(D=D.set(R,b.getNode().getChild(V)))}),L_(n,t,e,D,o,l,m,d)}}(n,t,D.path,D.affectedTree,i,o,l)}else{if(e.type!==cr.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);d=function V_(n,t,e,i,o){const l=t.serverCache;return Tb(n,C_(t,l.getNode(),l.isFullyInitialized()||Ot(e),l.isFiltered()),e,i,Db,o)}(n,t,e.path,i,l)}const b=l.getChanges();return function k_(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Yh(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(g_(Yh(t)))}}(t,d,b),{viewCache:d,changes:b}}(n.processor_,o,t,e,i);return function x_(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,L.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,ag(n,l.changes,l.viewCache.eventCache.getNode(),null)}function ag(n,t,e,i){return function pd(n,t,e,i){const o=[],l=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&l.push(function iS(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),Vo(n,o,"child_removed",t,i,e),Vo(n,o,"child_added",t,i,e),Vo(n,o,"child_moved",l,i,e),Vo(n,o,"child_changed",t,i,e),Vo(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let vd,ef;class Ob{constructor(){this.views=new Map}}function lg(n,t,e,i){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,L.hu)(null!=l,"SyncTree gave us an op for an invalid query."),H_(l,t,e,i)}{let l=[];for(const d of n.views.values())l=l.concat(H_(d,t,e,i));return l}}function Pb(n,t,e,i,o){const d=n.views.get(t._queryIdentifier);if(!d){let m=Qh(e,o?i:null),b=!1;m?b=!0:i instanceof wt?(m=yd(e,i),b=!1):(m=wt.EMPTY_NODE,b=!1);const D=Zh(new Yr(m,b,!1),new Yr(i,o,!1));return new uS(t,D)}return d}function z_(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Uo(n,t){let e=null;for(const i of n.views.values())e=e||j_(i,t);return e}function G_(n,t){return t._queryParams.loadsAllData()?Jh(n):n.views.get(t._queryIdentifier)}function W_(n,t){return null!=G_(n,t)}function La(n){return null!=Jh(n)}function Jh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Vb=1;class hw{constructor(t){this.listenProvider_=t,this.syncPointTree_=new wn(null),this.pendingWriteTree_=function lw(){return{visibleWrites:Rs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q_(n,t,e,i,o){return function rw(n,t,e,i,o){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=Kh(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?Ed(n,new Ms({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ba(n,t,e=!1){const i=function M_(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function sw(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,d=n.allWrites.length-1;for(;o&&d>=0;){const m=n.allWrites[d];m.visible&&(d>=e&&sS(m,i.path)?o=!1:Sr(i.path,m.path)&&(l=!0)),d--}return!!o&&(l?(function oS(n){n.visibleWrites=yb(n.allWrites,aS,qt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=D_(n.visibleWrites,i.path):vi(i.children,b=>{n.visibleWrites=D_(n.visibleWrites,An(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let l=new wn(null);return null!=i.snap?l=l.set(qt(),!0):vi(i.children,d=>{l=l.set(new Wt(d),!0)}),Ed(n,new Fa(i.path,l,e))}return[]}function tf(n,t,e){return Ed(n,new Ms({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Z_(n,t,e,i){const o=t._path,l=n.syncPointTree_.get(o);let d=[];if(l&&("default"===t._queryIdentifier||W_(l,t))){const m=function Fb(n,t,e,i){const o=t._queryIdentifier,l=[];let d=[];const m=La(n);if("default"===o)for(const[b,D]of n.views.entries())d=d.concat(og(D,e,i)),Ab(D)&&(n.views.delete(b),D.query._queryParams.loadsAllData()||l.push(D.query));else{const b=n.views.get(o);b&&(d=d.concat(og(b,e,i)),Ab(b)&&(n.views.delete(o),b.query._queryParams.loadsAllData()||l.push(b.query)))}return m&&!La(n)&&l.push(new(function kb(){return(0,L.hu)(vd,"Reference.ts has not been loaded"),vd}())(t._repo,t._path)),{removed:l,events:d}}(l,t,e,i);(function $_(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const b=m.removed;d=m.events;const D=-1!==b.findIndex(k=>k._queryParams.loadsAllData()),R=n.syncPointTree_.findOnPath(o,(k,V)=>La(V));if(D&&!R){const k=n.syncPointTree_.subtree(o);if(!k.isEmpty()){const V=function mw(n){return n.fold((t,e,i)=>{if(e&&La(e))return[Jh(e)];{let o=[];return e&&(o=z_(e)),vi(i,(l,d)=>{o=o.concat(d)}),o}})}(k);for(let Q=0;Q<V.length;++Q){const se=V[Q],Ee=se.query,Ve=$b(n,se);n.listenProvider_.startListening(lf(Ee),rf(n,Ee),Ve.hashFn,Ve.onComplete)}}}if(!R&&b.length>0&&!i)if(D){const k=null;n.listenProvider_.stopListening(lf(t),k)}else b.forEach(k=>{const V=n.queryToTagMap.get(Q_(k));n.listenProvider_.stopListening(lf(k),V)});!function jo(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=Q_(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,b)}return d}function Y_(n,t,e){const i=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(i,(k,V)=>{const Q=Ei(k,i);o=o||Uo(V,Q),l=l||La(V)});let m,d=n.syncPointTree_.get(i);d?(l=l||La(d),o=o||Uo(d,qt())):(d=new Ob,n.syncPointTree_=n.syncPointTree_.set(i,d)),null!=o?m=!0:(m=!1,o=wt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((V,Q)=>{const se=Uo(Q,qt());se&&(o=o.updateImmediateChild(V,se))}));const b=W_(d,t);if(!b&&!t._queryParams.loadsAllData()){const k=Q_(t);(0,L.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const V=function ao(){return Vb++}();n.queryToTagMap.set(k,V),n.tagToQueryMap.set(V,k)}let R=function Nb(n,t,e,i,o,l){const d=Pb(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function Mb(n,t){n.eventRegistrations_.push(t)}(d,e),function Rb(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Cn,(l,d)=>{i.push(Gh(l,d))}),e.isFullyInitialized()&&i.push(g_(e.getNode())),ag(n,i,e.getNode(),t)}(d,e)}(d,t,e,S_(n.pendingWriteTree_,i),o,m);if(!b&&!l){const k=G_(d,t);R=R.concat(function lo(n,t,e){const i=t._path,o=rf(n,t),l=$b(n,e),d=n.listenProvider_.startListening(lf(t),o,l.hashFn,l.onComplete),m=n.syncPointTree_.subtree(i);if(o)(0,L.hu)(!La(m.value),"If we're adding a query, it shouldn't be shadowed");else{const b=m.fold((D,R,k)=>{if(!Ot(D)&&R&&La(R))return[Jh(R).query];{let V=[];return R&&(V=V.concat(z_(R).map(Q=>Q.query))),vi(k,(Q,se)=>{V=V.concat(se)}),V}});for(let D=0;D<b.length;++D){const R=b[D];n.listenProvider_.stopListening(lf(R),rf(n,R))}}return d}(n,t,k))}return R}function nf(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(d,m)=>{const D=Uo(m,Ei(d,t));if(D)return D});return R_(o,t,l,e,!0)}function Ed(n,t){return Hb(t,n.syncPointTree_,null,S_(n.pendingWriteTree_,qt()))}function Hb(n,t,e,i){if(Ot(n.path))return K_(n,t,e,i);{const o=t.get(qt());null==e&&null!=o&&(e=Uo(o,qt()));let l=[];const d=Rt(n.path),m=n.operationForChild(d),b=t.children.get(d);if(b&&m){const D=e?e.getImmediateChild(d):null,R=Eb(i,d);l=l.concat(Hb(m,b,D,R))}return o&&(l=l.concat(lg(o,n,i,e))),l}}function K_(n,t,e,i){const o=t.get(qt());null==e&&null!=o&&(e=Uo(o,qt()));let l=[];return t.children.inorderTraversal((d,m)=>{const b=e?e.getImmediateChild(d):null,D=Eb(i,d),R=n.operationForChild(d);R&&(l=l.concat(K_(R,m,b,D)))}),o&&(l=l.concat(lg(o,n,i,e))),l}function $b(n,t){const e=t.query,i=rf(n,e);return{hashFn:()=>(function dw(n){return n.viewCache_.serverCache.getNode()}(t)||wt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function pw(n,t,e){const i=sf(n,e);if(i){const o=af(i),l=o.path,d=o.queryId,m=Ei(l,t);return Os(n,l,new Bo(Ml(d),m))}return[]}(n,e._path,i):function Ub(n,t){return Ed(n,new Bo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function YT(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return Z_(n,e,null,l)}}}}function rf(n,t){const e=Q_(t);return n.queryToTagMap.get(e)}function Q_(n){return n._path.toString()+"$"+n._queryIdentifier}function sf(n,t){return n.tagToQueryMap.get(t)}function af(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Wt(n.substr(0,t))}}function Os(n,t,e){const i=n.syncPointTree_.get(t);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),lg(i,e,S_(n.pendingWriteTree_,t),null)}function lf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Bb(){return(0,L.hu)(ef,"Reference.ts has not been loaded"),ef}())(n._repo,n._path):n}class cg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new cg(e)}node(){return this.node_}}class ug{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=An(this.path_,t);return new ug(this.syncTree_,e)}node(){return nf(this.syncTree_,this.path_)}}const zb=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?yw(n[".sv"],t,e):"object"==typeof n[".sv"]?vw(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},yw=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},vw=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,L.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const d=o.getValue();return"number"!=typeof d?i:d+i},dg=function(n,t,e,i){return X_(t,new ug(e,n),i)},zc=function(n,t,e){return X_(n,new cg(t),e)};function X_(n,t,e){const i=n.getPriority().val(),o=zb(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const d=n,m=zb(d.getValue(),t,e);return m!==d.getValue()||o!==d.getPriority().val()?new ro(m,Fn(o)):n}{const d=n;return l=d,o!==d.getPriority().val()&&(l=l.updatePriority(new ro(o))),d.forEachChild(Cn,(m,b)=>{const D=X_(b,t.getImmediateChild(m),e);D!==b&&(l=l.updateImmediateChild(m,D))}),l}}class hg{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function fg(n,t){let e=t instanceof Wt?t:new Wt(t),i=n,o=Rt(e);for(;null!==o;){const l=(0,L.DV)(i.node.children,o)||{children:{},childCount:0};i=new hg(o,i,l),e=cn(e),o=Rt(e)}return i}function xl(n){return n.node.value}function pg(n,t){n.node.value=t,gg(n)}function cf(n){return n.node.childCount>0}function uf(n,t){vi(n.node.children,(e,i)=>{t(new hg(e,n,i))})}function J_(n,t,e,i){e&&!i&&t(n),uf(n,o=>{J_(o,t,!0,i)}),e&&i&&t(n)}function kl(n){return new Wt(null===n.parent?n.name:kl(n.parent)+"/"+n.name)}function gg(n){null!==n.parent&&function Gb(n,t,e){const i=function bw(n){return void 0===xl(n)&&!cf(n)}(e),o=(0,L.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,gg(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,gg(n))}(n.parent,n.name,n)}const Wb=/[\[\].#$\/\u0000-\u001F\u007F]/,qb=/[\[\].#$\u0000-\u001F\u007F]/,mg=10485760,df=function(n){return"string"==typeof n&&0!==n.length&&!Wb.test(n)},ty=function(n){return"string"==typeof n&&0!==n.length&&!qb.test(n)},hf=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Nc(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Ho=function(n,t,e,i){i&&void 0===t||ff((0,L.gK)(n,"value"),t,e)},ff=function(n,t,e){const i=e instanceof Wt?new i_(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ka(i));if("function"==typeof t)throw new Error(n+"contains a function "+ka(i)+" with contents = "+t.toString());if(Nc(t))throw new Error(n+"contains "+t.toString()+" "+ka(i));if("string"==typeof t&&t.length>mg/3&&(0,L.ug)(t)>mg)throw new Error(n+"contains a string greater than "+mg+" utf8 bytes "+ka(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(vi(t,(d,m)=>{if(".value"===d)o=!0;else if(".priority"!==d&&".sv"!==d&&(l=!0,!df(d)))throw new Error(n+" contains an invalid key ("+d+") "+ka(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xv(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),Jv(n)})(i,d),ff(n,m,i),function q0(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&l)throw new Error(n+' contains ".value" child '+ka(i)+" in addition to actual children.")}},Yb=function(n,t,e,i){if(i&&void 0===t)return;const o=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];vi(t,(d,m)=>{const b=new Wt(d);if(ff(o,m,An(e,b)),".priority"===e_(b)&&!hf(m))throw new Error(o+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=Uh(i);for(let d=0;d<l.length;d++)if((".priority"!==l[d]||d!==l.length-1)&&!df(l[d]))throw new Error(n+"contains an invalid key ("+l[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(t_);let o=null;for(e=0;e<t.length;e++){if(i=t[e],null!==o&&Sr(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,l)},ny=function(n,t,e){if(!e||void 0!==t){if(Nc(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hf(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pf=function(n,t,e,i){if(!(i&&void 0===e||df(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gf=function(n,t,e,i){if(!(i&&void 0===e||ty(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xs=function(n,t){if(".info"===Rt(t))throw new Error(n+" failed = Can't modify data under /.info/")},Kb=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!df(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ty(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ww{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _g(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();null!==e&&!n_(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function iy(n,t,e){_g(n,e),Qb(n,i=>n_(i,t))}function ks(n,t,e){_g(n,e),Qb(n,i=>Sr(i,t)||Sr(t,i))}function Qb(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(Dw(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Dw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Pc&&ri("event: "+e.toString()),Nh(i)}}}const Xb="repo_interrupt";class eE{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ww,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Na(),this.transactionQueueTree_=new hg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ry(n){const e=n.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Cd(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:ry(n)})}function sy(n,t,e,i,o){n.dataUpdateCount++;const l=new Wt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(o)if(i){const b=(0,L.UI)(e,D=>Fn(D));d=function gw(n,t,e,i){const o=sf(n,i);if(o){const l=af(o),d=l.path,m=l.queryId,b=Ei(d,t),D=wn.fromObject(e);return Os(n,d,new oo(Ml(m),b,D))}return[]}(n.serverSyncTree_,l,b,o)}else{const b=Fn(e);d=function jb(n,t,e,i){const o=sf(n,i);if(null!=o){const l=af(o),d=l.path,m=l.queryId,b=Ei(d,t);return Os(n,d,new Ms(Ml(m),b,e))}return[]}(n.serverSyncTree_,l,b,o)}else if(i){const b=(0,L.UI)(e,D=>Fn(D));d=function ui(n,t,e){const i=wn.fromObject(e);return Ed(n,new oo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,b)}else{const b=Fn(e);d=tf(n.serverSyncTree_,l,b)}let m=l;d.length>0&&(m=Ua(n,l)),ks(n.eventQueue_,m,d)}function oy(n,t){yg(n,"connected",t),!1===t&&function Tw(n){Id(n,"onDisconnectEvents");const t=Cd(n),e=Na();b_(n.onDisconnect_,qt(),(o,l)=>{const d=dg(o,l,n.serverSyncTree_,t);hd(e,o,d)});let i=[];b_(e,qt(),(o,l)=>{i=i.concat(tf(n.serverSyncTree_,o,l));const d=wg(n,o);Ua(n,d)}),n.onDisconnect_=Na(),ks(n.eventQueue_,qt(),i)}(n)}function yg(n,t,e){const i=new Wt("/.info/"+t),o=Fn(e);n.infoData_.updateSnapshot(i,o);const l=tf(n.infoSyncTree_,i,o);ks(n.eventQueue_,i,l)}function wd(n){return n.nextWriteId_++}function Va(n,t,e,i,o){Id(n,"set",{path:t.toString(),value:e,priority:i});const l=Cd(n),d=Fn(e,i),m=nf(n.serverSyncTree_,t),b=zc(d,m,l),D=wd(n),R=q_(n.serverSyncTree_,t,b,D,!0);_g(n.eventQueue_,R),n.server_.put(t.toString(),d.val(!0),(V,Q)=>{const se="ok"===V;se||Ri("set at "+t+" failed: "+V);const Ee=Ba(n.serverSyncTree_,D,!se);ks(n.eventQueue_,t,Ee),Pl(0,o,V,Q)});const k=wg(n,t);Ua(n,k),ks(n.eventQueue_,k,[])}function Dd(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,o)=>{"ok"===i&&Uc(n.onDisconnect_,t),Pl(0,e,i,o)})}function Sw(n,t,e,i){const o=Fn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,d)=>{"ok"===l&&hd(n.onDisconnect_,t,o),Pl(0,i,l,d)})}function vg(n,t,e){let i;i=".info"===Rt(t._path)?Z_(n.infoSyncTree_,t,e):Z_(n.serverSyncTree_,t,e),iy(n.eventQueue_,t._path,i)}function Aw(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Xb)}function Id(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ri(e,...t)}function Pl(n,t,e,i){t&&Nh(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const d=new Error(l);d.code=o,t(d)}})}function Td(n,t,e){return nf(n.serverSyncTree_,t,e)||wt.EMPTY_NODE}function bg(n,t=n.transactionQueueTree_){if(t||Cg(n,t),xl(t)){const e=cy(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function Eg(n,t,e){const i=e.map(D=>D.currentWriteId),o=Td(n,t,i);let l=o;const d=o.hash();for(let D=0;D<e.length;D++){const R=e[D];(0,L.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const k=Ei(t,R.path);l=l.updateChild(k,R.currentOutputSnapshotRaw)}const m=l.val(!0),b=t;n.server_.put(b.toString(),m,D=>{Id(n,"transaction put response",{path:b.toString(),status:D});let R=[];if("ok"===D){const k=[];for(let V=0;V<e.length;V++)e[V].status=2,R=R.concat(Ba(n.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&k.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();Cg(n,fg(n.transactionQueueTree_,t)),bg(n,n.transactionQueueTree_),ks(n.eventQueue_,t,R);for(let V=0;V<k.length;V++)Nh(k[V])}else{if("datastale"===D)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{Ri("transaction at "+b.toString()+" failed: "+D);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=D}Ua(n,t)}},d)}(n,kl(t),e)}else cf(t)&&uf(t,e=>{bg(n,e)})}function Ua(n,t){const e=Rw(n,t),i=kl(e);return function Un(n,t,e){if(0===t.length)return;const i=[];let o=[];const d=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const b=t[m],D=Ei(e,b.path);let k,R=!1;if((0,L.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)R=!0,k=b.abortReason,o=o.concat(Ba(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)R=!0,k="maxretry",o=o.concat(Ba(n.serverSyncTree_,b.currentWriteId,!0));else{const V=Td(n,b.path,d);b.currentInputSnapshot=V;const Q=t[m].update(V.val());if(void 0!==Q){ff("transaction failed: Data returned ",Q,b.path);let se=Fn(Q);"object"==typeof Q&&null!=Q&&(0,L.r3)(Q,".priority")||(se=se.updatePriority(V.getPriority()));const Ve=b.currentWriteId,pt=Cd(n),vt=zc(se,V,pt);b.currentOutputSnapshotRaw=se,b.currentOutputSnapshotResolved=vt,b.currentWriteId=wd(n),d.splice(d.indexOf(Ve),1),o=o.concat(q_(n.serverSyncTree_,b.path,vt,b.currentWriteId,b.applyLocally)),o=o.concat(Ba(n.serverSyncTree_,Ve,!0))}else R=!0,k="nodata",o=o.concat(Ba(n.serverSyncTree_,b.currentWriteId,!0))}ks(n.eventQueue_,e,o),o=[],R&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&i.push("nodata"===k?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(k),!1,null)))}Cg(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)Nh(i[m]);bg(n,n.transactionQueueTree_)}(n,cy(n,e),i),i}function Rw(n,t){let e,i=n.transactionQueueTree_;for(e=Rt(t);null!==e&&void 0===xl(i);)i=fg(i,e),e=Rt(t=cn(t));return i}function cy(n,t){const e=[];return rE(n,t,e),e.sort((i,o)=>i.order-o.order),e}function rE(n,t,e){const i=xl(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);uf(t,o=>{rE(n,o,e)})}function Cg(n,t){const e=xl(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,pg(t,e.length>0?e:void 0)}uf(t,i=>{Cg(n,i)})}function wg(n,t){const e=kl(Rw(n,t)),i=fg(n.transactionQueueTree_,t);return function ey(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{Dg(n,o)}),Dg(n,i),J_(i,o=>{Dg(n,o)}),e}function Dg(n,t){const e=xl(t);if(e){const i=[];let o=[],l=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,L.hu)(l===d-1,"All SENT items should be at beginning of queue."),l=d,e[d].status=3,e[d].abortReason="set"):((0,L.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),o=o.concat(Ba(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===l?pg(t,void 0):e.length=l+1,ks(n.eventQueue_,kl(t),o);for(let d=0;d<i.length;d++)Nh(i[d])}}const uy=function(n,t){const e=Ow(n),i=e.namespace;return"firebase.com"===e.domain&&Ma(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $m(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Wt(e.pathString)}},Ow=function(n){let t="",e="",i="",o="",l="",d=!0,m="https",b=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(m=n.substring(0,D-1),n=n.substring(D+2));let R=n.indexOf("/");-1===R&&(R=n.length);let k=n.indexOf("?");-1===k&&(k=n.length),t=n.substring(0,Math.min(R,k)),R<k&&(o=function sE(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(l){}t+="/"+o}return t}(n.substring(R,k)));const V=function oE(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ri(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,k)));D=t.indexOf(":"),D>=0?(d="https"===m||"wss"===m,b=parseInt(t.substring(D+1),10)):D=t.length;const Q=t.slice(0,D);if("localhost"===Q.toLowerCase())e="localhost";else if(Q.split(".").length<=2)e=Q;else{const se=t.indexOf(".");i=t.substring(0,se).toLowerCase(),e=t.substring(se+1),l=i}"ns"in V&&(l=V.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:d,scheme:m,pathString:o,namespace:l}};class aE{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class Sd{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lE{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class cE{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return Dd(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){xs("OnDisconnect.remove",this._path);const t=new L.BH;return Sw(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){xs("OnDisconnect.set",this._path),Ho("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return Sw(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){xs("OnDisconnect.setWithPriority",this._path),Ho("OnDisconnect.setWithPriority",t,this._path,!1),ny("OnDisconnect.setWithPriority",e,!1);const i=new L.BH;return function ly(n,t,e,i,o){const l=Fn(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(d,m)=>{"ok"===d&&hd(n.onDisconnect_,t,l),Pl(0,o,d,m)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){xs("OnDisconnect.update",this._path),Yb("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function dS(n,t,e,i){if((0,L.xb)(e))return ri("onDisconnect().update() called with empty data.  Don't do anything."),void Pl(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&vi(e,(d,m)=>{const b=Fn(m);hd(n.onDisconnect_,An(t,d),b)}),Pl(0,i,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Mr{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return Ot(this._path)?null:e_(this._path)}get ref(){return new Kr(this._repo,this._path)}get _queryIdentifier(){const t=fb(this._queryParams),e=Fm(t);return"{}"===e?"default":e}get _queryObject(){return fb(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof Mr))return!1;const e=this._repo===t._repo,i=n_(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function W0(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Gc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ja(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===As){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==to)throw new Error(i);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==Ss)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===Cn){if(null!=t&&!hf(t)||null!=e&&!hf(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof Zp||n.getIndex()===Yp,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mf(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Kr extends Mr{constructor(t,e){super(t,e,new Xp,!1)}get parent(){const t=Wp(this._path);return null===t?null:new Kr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Wc{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Wt(t),i=qc(this.ref,t);return new Wc(this._node.getChild(e),i,Cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new Wc(o,qc(this.ref,i),Cn)))}hasChild(t){const e=new Wt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ad(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?qc(n._root,t):n._root}function Md(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=uy(t,n._repo.repoInfo_.nodeAdmin);Kb("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Ma("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Ad(n,e.path.toString())}function qc(n,t){return null===Rt((n=(0,L.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gf("child","path",e,!1)):gf("child","path",t,!1),new Kr(n._repo,An(n._path,t));var e}function Ig(n,t){n=(0,L.m9)(n),xs("set",n._path),Ho("set",t,n._path,!1);const e=new L.BH;return Va(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function hE(n,t){Yb("update",t,n._path,!1);const e=new L.BH;return function Iw(n,t,e,i){Id(n,"update",{path:t.toString(),value:e});let o=!0;const l=Cd(n),d={};if(vi(e,(m,b)=>{o=!1,d[m]=dg(An(t,m),Fn(b),n.serverSyncTree_,l)}),o)ri("update() called with empty data.  Don't do anything."),Pl(0,i,"ok",void 0);else{const m=wd(n),b=function fw(n,t,e,i){!function A_(n,t,e,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=w_(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const o=wn.fromObject(e);return Ed(n,new oo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,d,m);_g(n.eventQueue_,b),n.server_.merge(t.toString(),e,(D,R)=>{const k="ok"===D;k||Ri("update at "+t+" failed: "+D);const V=Ba(n.serverSyncTree_,m,!k),Q=V.length>0?Ua(n,t):t;ks(n.eventQueue_,Q,V),Pl(0,i,D,R)}),vi(e,D=>{const R=wg(n,An(t,D));Ua(n,R)}),ks(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Pw(n){return function ay(n,t){const e=function bd(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(D,R)=>{const k=Ei(D,e);i=i||Uo(R,k)});let o=n.syncPointTree_.get(e);o?i=i||Uo(o,qt()):(o=new Ob,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=i,d=l?new Yr(i,!0,!1):null;return function U_(n){return Yh(n.viewCache_)}(Pb(o,t,S_(n.pendingWriteTree_,t._path),l?d.getNode():wt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const o=Fn(i).withIndex(t._queryParams.getIndex()),l=tf(n.serverSyncTree_,t._path,o);return iy(n.eventQueue_,t._path,l),Promise.resolve(o)},i=>(Id(n,"get for query "+(0,L.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,L.m9)(n))._repo,n).then(t=>new Wc(t,new Kr(n._repo,n._path),n._queryParams.getIndex()))}class Tg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new aE("value",this,new Wc(t.snapshotNode,new Kr(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Sd(this,t,e):null}matches(t){return t instanceof Tg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dy{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Sd(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const i=qc(new Kr(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new aE(t.type,this,new Wc(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof dy&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Sg(n,t,e,i,o){let l;if("object"==typeof i&&(l=void 0,o=i),"function"==typeof i&&(l=i),o&&o.onlyOnce){const b=e,D=(R,k)=>{vg(n._repo,n,m),b(R,k)};D.userCallback=e.userCallback,D.context=e.context,e=D}const d=new lE(e,l||void 0),m="value"===t?new Tg(d):new dy(t,d);return function iE(n,t,e){let i;i=".info"===Rt(t._path)?Y_(n.infoSyncTree_,t,e):Y_(n.serverSyncTree_,t,e),iy(n.eventQueue_,t._path,i)}(n._repo,n,m),()=>vg(n._repo,n,m)}function fE(n,t,e,i){return Sg(n,"value",t,e,i)}function Nw(n,t,e,i){return Sg(n,"child_added",t,e,i)}function hy(n,t,e,i){return Sg(n,"child_changed",t,e,i)}function _f(n,t,e,i){return Sg(n,"child_moved",t,e,i)}function pE(n,t,e,i){return Sg(n,"child_removed",t,e,i)}function gE(n,t,e){let i=null;const o=e?new lE(e):null;"value"===t?i=new Tg(o):t&&(i=new dy(t,o)),vg(n._repo,n,i)}class Ps{}class Rd extends Ps{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ho("endAt",this._value,t._path,!0);const e=v_(t._queryParams,this._value,this._key);if(mf(e),ja(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mr(t._repo,t._path,e,t._orderByCalled)}}class Lw extends Ps{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ho("endBefore",this._value,t._path,!1);const e=function nw(n,t,e){let i,o;return n.index_===As?("string"==typeof t&&(t=p_(t)),o=v_(n,t,e)):(i=null==e?to:p_(e),o=v_(n,t,i)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(mf(e),ja(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mr(t._repo,t._path,e,t._orderByCalled)}}class mE extends Ps{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ho("startAt",this._value,t._path,!0);const e=__(t._queryParams,this._value,this._key);if(mf(e),ja(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mr(t._repo,t._path,e,t._orderByCalled)}}class _E extends Ps{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ho("startAfter",this._value,t._path,!1);const e=function y_(n,t,e){let i;if(n.index_===As)"string"==typeof t&&(t=cb(t)),i=__(n,t,e);else{let o;o=null==e?Ss:cb(e),i=__(n,t,o)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(mf(e),ja(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mr(t._repo,t._path,e,t._orderByCalled)}}class jw extends Ps{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mr(t._repo,t._path,function db(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Hw extends Ps{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mr(t._repo,t._path,function m_(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class $w extends Ps{constructor(t){super(),this._path=t}_apply(t){Gc(t,"orderByChild");const e=new Wt(this._path);if(Ot(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Zp(e),o=Jp(t._queryParams,i);return ja(o),new Mr(t._repo,t._path,o,!0)}}class zw extends Ps{_apply(t){Gc(t,"orderByKey");const e=Jp(t._queryParams,As);return ja(e),new Mr(t._repo,t._path,e,!0)}}class Gw extends Ps{_apply(t){Gc(t,"orderByPriority");const e=Jp(t._queryParams,Cn);return ja(e),new Mr(t._repo,t._path,e,!0)}}class Ww extends Ps{_apply(t){Gc(t,"orderByValue");const e=Jp(t._queryParams,Yp);return ja(e),new Mr(t._repo,t._path,e,!0)}}class CE extends Ps{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ho("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Rd(this._value,this._key)._apply(new mE(this._value,this._key)._apply(t))}}function co(n,...t){let e=(0,L.m9)(n);for(const i of t)e=i._apply(e);return e}(function xb(n){(0,L.hu)(!vd,"__referenceConstructor has already been defined"),vd=n})(Kr),function Lb(n){(0,L.hu)(!ef,"__referenceConstructor has already been defined"),ef=n}(Kr);const yf={};function IE(n,t,e,i,o){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||Ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ri("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,D,d=uy(l,o),m=d.repoInfo;"undefined"!=typeof process&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(b=!0,l=`http://${D}?ns=${m.namespace}`,d=uy(l,o),m=d.repoInfo):b=!d.repoInfo.secure;const R=o&&b?new jp(jp.OWNER):new XT(n.name,n.options,t);Kb("Invalid Firebase Database URL",d),Ot(d.path)||Ma("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function Kw(n,t,e,i){let o=yf[t.name];o||(o={},yf[t.name]=o);let l=o[n.toURLString()];return l&&Ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new eE(n,false,e,i),o[n.toURLString()]=l,l}(m,n,R,new QT(n.name,e));return new Xw(k,n)}class Xw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function tE(n,t,e){if(n.stats_=zp(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new eg(n.repoInfo_,(i,o,l,d)=>{sy(n,i,o,l,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>oy(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Bc(n.repoInfo_,t,(i,o,l,d)=>{sy(n,i,o,l,d)},i=>{oy(n,i)},i=>{!function nE(n,t){vi(t,(e,i)=>{yg(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function j0(n,t){const e=n.toString();return Gm[e]||(Gm[e]=t()),Gm[e]}(n.repoInfo_,()=>new jc(n.stats_,n.server_)),n.infoData_=new tg,n.infoSyncTree_=new hw({startListening:(i,o,l,d)=>{let m=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(m=tf(n.infoSyncTree_,i._path,b),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),yg(n,"connected",!1),n.serverSyncTree_=new hw({startListening:(i,o,l,d)=>(n.server_.listen(i,l,o,(m,b)=>{const D=d(m,b);ks(n.eventQueue_,i._path,D)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kr(this._repo,qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Yw(n,t){const e=yf[t];(!e||e[n.key]!==n)&&Ma(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Aw(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ma("Cannot call "+t+" on a deleted database.")}}function TE(){jv.IS_TRANSPORT_INITIALIZED&&Ri("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jw(){TE(),xa.forceDisallow()}function eD(){TE(),bi.forceDisallow(),xa.forceAllow()}function AE(n,t){Fo(n,t)}const sD={".sv":"timestamp"};class gy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Bc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Bc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function rD(n){Mv(Il.SDK_VERSION),(0,Il._registerComponent)(new Mi.wA("database",(t,{instanceIdentifier:e})=>IE(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Il.registerVersion)(Sv,"0.13.0",n),(0,Il.registerVersion)(Sv,"0.13.0","esm2017")}();const lD=new Np.Yd("@firebase/database-compat"),_y=function(n){lD.warn("FIREBASE WARNING: "+n)};class uD{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(t,e);return i&&o.then(()=>i(null),l=>i(l)),o}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,_y("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),o=>e(o)),i}}class xE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),gf("DataSnapshot.child","path",t,!1),new Zc(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Zc(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new xi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Oi{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,o){var l;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const d=Oi.getCancelAndContextArgs_("Query.on",i,o),m=(D,R)=>{e.call(d.context,new Zc(this.database,D),R)};m.userCallback=e,m.context=d.context;const b=null===(l=d.cancel)||void 0===l?void 0:l.bind(d.context);switch(t){case"value":return fE(this._delegate,m,b),e;case"child_added":return Nw(this._delegate,m,b),e;case"child_removed":return pE(this._delegate,m,b),e;case"child_changed":return hy(this._delegate,m,b),e;case"child_moved":return _f(this._delegate,m,b),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,gE(this._delegate,t,o)}else gE(this._delegate,t)}get(){return Pw(this._delegate).then(t=>new Zc(this.database,t))}once(t,e,i,o){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const l=Oi.getCancelAndContextArgs_("Query.once",i,o),d=new L.BH,m=(D,R)=>{const k=new Zc(this.database,D);e&&e.call(l.context,k,R),d.resolve(k)};m.userCallback=e,m.context=l.context;const b=D=>{l.cancel&&l.cancel.call(l.context,D),d.reject(D)};switch(t){case"value":fE(this._delegate,m,b,{onlyOnce:!0});break;case"child_added":Nw(this._delegate,m,b,{onlyOnce:!0});break;case"child_removed":pE(this._delegate,m,b,{onlyOnce:!0});break;case"child_changed":hy(this._delegate,m,b,{onlyOnce:!0});break;case"child_moved":_f(this._delegate,m,b,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Oi(this.database,co(this._delegate,function Od(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jw(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Oi(this.database,co(this._delegate,function yE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hw(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Oi(this.database,co(this._delegate,function vE(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gf("orderByChild","path",n,!1),new $w(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Oi(this.database,co(this._delegate,function bE(){return new zw}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Oi(this.database,co(this._delegate,function fy(){return new Gw}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Oi(this.database,co(this._delegate,function EE(){return new Ww}()))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Oi(this.database,co(this._delegate,function Vw(n=null,t){return pf("startAt","key",t,!0),new mE(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Oi(this.database,co(this._delegate,function Uw(n,t){return pf("startAfter","key",t,!0),new _E(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Oi(this.database,co(this._delegate,function Fw(n,t){return pf("endAt","key",t,!0),new Rd(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Oi(this.database,co(this._delegate,function Bw(n,t){return pf("endBefore","key",t,!0),new Lw(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Oi(this.database,co(this._delegate,function qw(n,t){return pf("equalTo","key",t,!0),new CE(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Oi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,L.Wj)(t,"cancel",o.cancel,!0),o.context=i,(0,L.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new xi(this.database,new Kr(this._delegate._repo,this._delegate._path))}}class xi extends Oi{constructor(t,e){super(t,new Mr(e._repo,e._path,new Xp,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new xi(this.database,qc(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new xi(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new xi(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const i=Ig(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,_y("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xs("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const i=hE(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function kw(n,t,e){if(xs("setWithPriority",n._path),Ho("setWithPriority",t,n._path,!1),ny("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return Va(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&o.then(()=>i(null),l=>i(l)),o}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function uE(n){return xs("remove",n._path),Ig(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function ME(n,t,e){var i;if(n=(0,L.m9)(n),xs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,l=new L.BH,m=fE(n,()=>{});return function Mw(n,t,e,i,o,l){Id(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:xh(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=Td(n,t,void 0);d.currentInputSnapshot=m;const b=d.update(m.val());if(void 0===b)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{ff("transaction failed: Data returned ",b,d.path),d.status=0;const D=fg(n.transactionQueueTree_,t),R=xl(D)||[];let k;R.push(d),pg(D,R),"object"==typeof b&&null!==b&&(0,L.r3)(b,".priority")?(k=(0,L.DV)(b,".priority"),(0,L.hu)(hf(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(nf(n.serverSyncTree_,t)||wt.EMPTY_NODE).getPriority().val();const V=Cd(n),Q=Fn(b,k),se=zc(Q,m,V);d.currentOutputSnapshotRaw=Q,d.currentOutputSnapshotResolved=se,d.currentWriteId=wd(n);const Ee=q_(n.serverSyncTree_,t,se,d.currentWriteId,d.applyLocally);ks(n.eventQueue_,t,Ee),bg(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,D,R)=>{let k=null;b?l.reject(b):(k=new Wc(R,new Kr(n._repo,n._path),Cn),l.resolve(new gy(D,k)))},m,o),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new xE(l.committed,new Zc(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const i=function dE(n,t){n=(0,L.m9)(n),xs("setPriority",n._path),ny("setPriority",t,!1);const e=new L.BH;return Va(n._repo,An(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const i=function xw(n,t){n=(0,L.m9)(n),xs("push",n._path),Ho("push",t,n._path,!0);const e=ry(n._repo),i=f_(e),o=qc(n,i),l=qc(n,i);let d;return d=null!=t?Ig(l,t).then(()=>l):Promise.resolve(l),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}(this._delegate,t),o=i.then(d=>new xi(this.database,d));e&&o.then(()=>e(null),d=>e(d));const l=new xi(this.database,i);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return xs("Reference.onDisconnect",this._delegate._path),new uD(new cE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class vf{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Jw,forceLongPolling:eD}}useEmulator(t,e,i={}){!function SE(n,t,e,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ma("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Ma('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new jp(jp.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);l=new jp(d)}!function DE(n,t,e,i){n.repoInfo_=new $m(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(o,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof xi){const e=Md(this._delegate,t.toString());return new xi(this,e)}{const e=Ad(this._delegate,t);return new xi(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=Md(this._delegate,t);return new xi(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function nD(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),Aw(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function iD(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function ct(n){n.persistentConnection_&&n.persistentConnection_.resume(Xb)}(n._repo)}(this._delegate)}}vf.ServerValue={TIMESTAMP:function oD(){return sD}(),increment:n=>function py(n){return{".sv":{increment:n}}}(n)};var bf=Object.freeze({__proto__:null,initStandalone:function xd({app:n,url:t,version:e,customAuthImpl:i,namespace:o,nodeAdmin:l=!1}){Mv(e);const d=new Mi.zt("auth-internal",new Mi.H0("database-standalone"));return d.setComponent(new Mi.wA("auth-internal",()=>i,"PRIVATE")),{instance:new vf(IE(n,d,void 0,t,l),n),namespace:o}}});const dD=vf.ServerValue;!function pS(n){n.INTERNAL.registerComponent(new Mi.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new vf(o,i)},"PUBLIC").setServiceProps({Reference:xi,Query:Oi,Database:vf,DataSnapshot:Zc,enableLogging:AE,INTERNAL:bf,ServerValue:dD}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(k0.Z);var Ef=P(5363),hD=P(6063);class fD extends It.x{constructor(t=1/0,e=1/0,i=hD.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;e||(i.push(t),!o&&i.push(l.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!t.closed;d+=i?1:2)t.next(l[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const d=e.now();let m=0;for(let b=1;b<i.length&&i[b]<=d;b+=2)m=b;m&&i.splice(0,m+1)}}}function kE(n,t,e){var i,o;let l,d=!1;return n&&"object"==typeof n?(l=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(o=n.windowTime)&&void 0!==o?o:1/0,d=!!n.refCount,e=n.scheduler):l=null!=n?n:1/0,(0,xm.B)({connector:()=>new fD(l,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}function PE(n,t){return(0,Vt.m)(t)?Dn(()=>n,t):Dn(()=>n)}var Ag=P(9468);P(5867);const vD=new Map,FE={activated:!1,tokenObservers:[]},bD={initialized:!1,enabled:!1};function ki(n){return vD.get(n)||FE}function Ns(n,t){vD.set(n,t)}function vy(){return bD}class DD{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xc.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function ID(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ur=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LE(n){if(!ki(n).activated)throw ur.create("use-before-activation",{appName:n.name})}function Ng(n,t){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,xc.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const k=yield o.getHeartbeatsHeader();k&&(i["X-Firebase-Client"]=k)}const l={method:"POST",body:JSON.stringify(t),headers:i};let d,m;try{d=yield fetch(n,l)}catch(k){throw ur.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==d.status)throw ur.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(k){throw ur.create("fetch-parse-error",{originalErrorMessage:k.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(b[1]),R=Date.now();return{token:m.token,expireTimeMillis:R+D,issuedAtTimeMillis:R}})).apply(this,arguments)}function SD(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Tf="firebase-app-check-store";let Lg=null;function Pd(){return Lg||(Lg=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(ur.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Tf,{keyPath:"compositeKey"})}}catch(e){t(ur.create("storage-open",{originalErrorMessage:e.message}))}}),Lg)}function Yc(){return(Yc=(0,xc.Z)(function*(n,t){const i=(yield Pd()).transaction(Tf,"readwrite"),l=i.objectStore(Tf).put({compositeKey:n,value:t});return new Promise((d,m)=>{l.onsuccess=b=>{d()},i.onerror=b=>{var D;m(ur.create("storage-set",{originalErrorMessage:null===(D=b.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Nl=new Np.Yd("@firebase/app-check");function zE(n,t){return(0,L.hl)()?function Cy(n,t){return function Bg(n,t){return Yc.apply(this,arguments)}(function $E(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Nl.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function jg(){return vy().enabled}function Iy(){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,xc.Z)(function*(){const n=vy();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vS={error:"UNKNOWN_ERROR"};function Sy(n){return L.US.encodeString(JSON.stringify(n),!1)}function Nd(n){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,xc.Z)(function*(n,t=!1){const e=n.app;LE(e);const i=ki(e);let l,o=i.token;if(!o){const b=yield i.cachedTokenPromise;b&&$g(b)&&(o=b)}if(!t&&o&&$g(o))return{token:o.token};let m,d=!1;if(jg()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ng(SD(e,yield Iy()),n.heartbeatServiceProvider).then(D=>(i.exchangeTokenPromise=void 0,D)),d=!0);const b=yield i.exchangeTokenPromise;return yield zE(e,b),Ns(e,Object.assign(Object.assign({},i),{token:b})),{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(b=>(i.exchangeTokenPromise=void 0,b)),d=!0),o=yield i.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Nl.warn(b.message):Nl.error(b),l=b}return o?(m={token:o.token},Ns(e,Object.assign(Object.assign({},i),{token:o})),yield zE(e,o)):m=ZE(l),d&&qE(e,m),m})).apply(this,arguments)}function Af(n,t){const e=ki(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ns(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function WE(n){const{app:t}=n,e=ki(t);let i=e.tokenRefresher;i||(i=function xD(n){const{app:t}=n;return new DD((0,xc.Z)(function*(){let i;if(i=ki(t).token?yield Nd(n,!0):yield Nd(n),i.error)throw i.error}),()=>!0,()=>{const e=ki(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ns(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function qE(n,t){const e=ki(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}function $g(n){return n.expireTimeMillis-Date.now()>0}function ZE(n){return{token:Sy(vS),error:n}}class Ay{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ki(this.app);for(const e of t)Af(this.app,e.next);return Promise.resolve()}}const VD="app-check-internal";!function sC(){(0,Il._registerComponent)(new Mi.wA("app-check",n=>function YE(n,t){return new Ay(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(VD).initialize()})),(0,Il._registerComponent)(new Mi.wA(VD,n=>function KE(n){return{getToken:t=>Nd(n,t),addTokenListener:t=>function Sf(n,t,e,i){const{app:o}=n,l=ki(o),d={next:e,error:i,type:t};if(Ns(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&$g(l.token)){const m=l.token;Promise.resolve().then(()=>{e({token:m.token}),WE(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>WE(n))}(n,"INTERNAL",t),removeTokenListener:t=>Af(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Il.registerVersion)("@firebase/app-check","0.5.8")}();class Ld{constructor(){return(0,Zr.vb)("app-check")}}"undefined"!=typeof window&&window;var lC=P(127);const Py=new c.OlP("angularfire2.auth.use-emulator"),Ny=new c.OlP("angularfire2.auth.settings"),Fy=new c.OlP("angularfire2.auth.tenant-id"),uC=new c.OlP("angularfire2.auth.langugage-code"),dC=new c.OlP("angularfire2.auth.use-device-language"),YD=new c.OlP("angularfire.auth.persistence"),Ly=(n,t,e,i,o,l,d,m)=>(0,Is.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=o,l&&b.useDeviceLanguage(),d)for(const[D,R]of Object.entries(d))b.settings[D]=R;return m&&b.setPersistence(m),b},[e,i,o,l,d,m]);let qg=(()=>{class n{constructor(e,i,o,l,d,m,b,D,R,k,V,Q){const se=new It.x,Ee=Je(void 0).pipe((0,Ef.Q)(d.outsideAngular),Dn(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8125)))),(0,lt.U)(()=>(0,Is.on)(e,l,i)),(0,lt.U)(Ve=>Ly(Ve,l,m,D,R,k,b,V)),kE({bufferSize:1,refCount:!1}));if(function qa(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{Ee.pipe(qs()).subscribe();const pt=Ee.pipe(Dn(gt=>gt.getRedirectResult().then(di=>di,()=>null)),Zr.iC,kE({bufferSize:1,refCount:!1})),vt=Ee.pipe(Dn(gt=>new kn.y(di=>({unsubscribe:l.runOutsideAngular(()=>gt.onAuthStateChanged(Gi=>di.next(Gi),Gi=>di.error(Gi),()=>di.complete()))})))),Pt=Ee.pipe(Dn(gt=>new kn.y(di=>({unsubscribe:l.runOutsideAngular(()=>gt.onIdTokenChanged(Gi=>di.next(Gi),Gi=>di.error(Gi),()=>di.complete()))}))));this.authState=pt.pipe(PE(vt),(0,Ag.R)(d.outsideAngular),(0,Ef.Q)(d.insideAngular)),this.user=pt.pipe(PE(Pt),(0,Ag.R)(d.outsideAngular),(0,Ef.Q)(d.insideAngular)),this.idToken=this.user.pipe(Dn(gt=>gt?(0,xn.D)(gt.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(Dn(gt=>gt?(0,xn.D)(gt.getIdTokenResult()):Je(null))),this.credential=(0,Oc.T)(pt,se,this.authState.pipe(Pn(gt=>!gt))).pipe((0,lt.U)(gt=>(null==gt?void 0:gt.user)?gt:null),(0,Ag.R)(d.outsideAngular),(0,Ef.Q)(d.insideAngular))}return(0,Is.pX)(this,Ee,l,{spy:{apply:(Ve,pt,vt)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&vt.then(Pt=>se.next(Pt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Is.Dh),c.LFG(Is.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zr.HU),c.LFG(Py,8),c.LFG(Ny,8),c.LFG(Fy,8),c.LFG(uC,8),c.LFG(dC,8),c.LFG(YD,8),c.LFG(Ld,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DS=(()=>{class n{constructor(){lC.Z.registerVersion("angularfire",Zr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qg]}),n})();function KD(n){return null==n}function QD(n){return"function"==typeof n.set}function XD(n,t){return QD(t)?t:n.ref(t)}function JD(n,t){if(function IS(n){return"string"==typeof n}(n))return t.stringCase();if(QD(n))return t.firebaseCase();if(function TS(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ll(n,t,e="on",i=Aa.z){return new kn.y(o=>{let l=null;return l=n[e](t,(d,m)=>{i.schedule(()=>{o.next({snapshot:d,prevKey:m})}),"once"===e&&i.schedule(()=>o.complete())},d=>{i.schedule(()=>o.error(d))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,lt.U)(o=>{const{snapshot:l,prevKey:d}=o;let m=null;return l.exists()&&(m=l.key),{type:t,payload:l,prevKey:d,key:m}}),(0,xm.B)())}function Zg(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function hC(n,t){const{payload:e,prevKey:i,key:o}=t,l=Zg(n,o),d=function Bd(n,t){if(KD(t))return 0;{const e=Zg(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(b=>{const D={payload:b,type:"value",prevKey:m,key:b.key};return m=b.key,n=[...n,D],!1})}return n;case"child_added":if(l>-1){const m=n[l-1];(m&&m.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===o?t:m);case"child_moved":if(l>-1){const m=n.splice(l,1)[0];return(n=n.slice()).splice(d,0,m),n}return n;default:return n}}function fC(n){return(KD(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pC(n,t,e){return function SS(n,t,e){return Ll(n,"value","once",e).pipe(Dn(i=>{const o=[Je(i)];return t.forEach(l=>o.push(Ll(n,l,"on",e))),(0,Oc.T)(...o).pipe(Cr(hC,[]))}),km())}(n,t=fC(t),e)}function Yg(n,t,e){const i=(t=fC(t)).map(o=>Ll(n,o,"on",e));return(0,Oc.T)(...i)}function eI(n,t){return function(i,o){return JD(i,{stringCase:()=>n.child(i)[t](o),firebaseCase:()=>i[t](o),snapshotCase:()=>i.ref[t](o)})}}function yC(n){return function(e){return e?JD(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function By(n,t){return function(){return Ll(n,"value","on",t)}}const MS=new c.OlP("angularfire2.realtimeDatabaseURL"),RS=new c.OlP("angularfire2.database.use-emulator");let Vy=(()=>{class n{constructor(e,i,o,l,d,m,b,D,R,k,V,Q,se,Ee,Ve){this.schedulers=m;const pt=b,vt=(0,Is.on)(e,d,i);D&&Ly(vt,d,R,V,Q,se,k,Ee),this.database=(0,Is.cc)(`${vt.name}.database.${o}`,"AngularFireDatabase",vt.name,()=>{const Pt=d.runOutsideAngular(()=>vt.database(o||void 0));return pt&&Pt.useEmulator(...pt),Pt},[pt])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>XD(this.database,e));let l=o;return i&&(l=i(o)),function Kg(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:eI(i,"update"),set:eI(i,"set"),push:o=>i.push(o),remove:yC(i),snapshotChanges:o=>pC(n,o,e).pipe(Zr.iC),stateChanges:o=>Yg(n,o,e).pipe(Zr.iC),auditTrail:o=>function gC(n,t,e){return function _C(n,t,e){return function mC(n,t){return Ll(n,"value","on",t).pipe((0,lt.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function zT(...n){const t=(0,fs.jO)(n);return(0,on.e)((e,i)=>{const o=n.length,l=new Array(o);let d=n.map(()=>!1),m=!1;for(let b=0;b<o;b++)(0,Gs.Xf)(n[b]).subscribe(new ln.Q(i,D=>{l[b]=D,!m&&!d[b]&&(d[b]=!0,(m=d.every(Vi.y))&&(d=null))},Nm.Z));e.subscribe(new ln.Q(i,b=>{if(m){const D=[b,...l];i.next(t?t(...D):D)}}))})}(t),(0,lt.U)(([o,l])=>{const d=o.lastKeyToLoad,m=l.map(b=>b.key);return{actions:l,lastKeyToLoad:d,loadedKeys:m}}),function Tv(n){return(0,on.e)((t,e)=>{let i=!1,o=0;t.subscribe(new ln.Q(e,l=>(i||(i=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,lt.U)(o=>o.actions))}(n,Yg(n,t).pipe(Cr((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(Zr.iC),valueChanges:(o,l)=>pC(n,o,e).pipe((0,lt.U)(m=>m.map(b=>l&&l.idField?Object.assign(Object.assign({},b.payload.val()),{[l.idField]:b.key}):b.payload.val())),Zr.iC)}}(l,this)}object(e){return function AS(n,t){return{query:n,snapshotChanges:()=>By(n,t.schedulers.outsideAngular)().pipe(Zr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>By(n,t.schedulers.outsideAngular)().pipe(Zr.iC,(0,lt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>XD(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Is.Dh),c.LFG(Is.xv,8),c.LFG(MS,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Zr.HU),c.LFG(RS,8),c.LFG(qg,8),c.LFG(Py,8),c.LFG(Ny,8),c.LFG(Fy,8),c.LFG(uC,8),c.LFG(dC,8),c.LFG(YD,8),c.LFG(Ld,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Uy=(()=>{class n{constructor(){lC.Z.registerVersion("angularfire",Zr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Vy]}),n})(),Rf=(()=>{class n{constructor(e,i,o){this.router=e,this.db=i,this.fireAuth=o,this.user=this.fireAuth.authState}get currentUserId(){return null!==this.authState?this.authState.user.uid:""}getUser(){return this.user}setUser(e,i){const l={email:e,displayName:i,uid:this.currentUserId};this.db.object(`users/${this.currentUserId}`).update(l).catch(d=>console.log(d.message))}register(e){return this.fireAuth.createUserWithEmailAndPassword(e.email,e.password).then(i=>{this.authState=i,this.setUser(e.email,e.displayName),this.router.navigate(["/chat"])}).catch(i=>console.log(i.message))}login(e){return this.fireAuth.signInWithEmailAndPassword(e.email,e.password).then(i=>{this.authState=i,this.router.navigate(["/chat"])}).catch(i=>console.log(i.message))}logout(){this.fireAuth.signOut().then(()=>this.router.navigate(["/login"])).catch(e=>console.log(e.message))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(yi),c.LFG(Vy),c.LFG(qg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bl(n){return null!=n&&"false"!=`${n}`}function jy(n,t=0){return function Hy(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Qg(n){return Array.isArray(n)?n:[n]}function Zt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ha(n){return n instanceof c.SBq?n.nativeElement:n}var tI=P(1144);const nI=["addListener","removeListener"],$y=["addEventListener","removeEventListener"],bC=["on","off"];function Of(n,t,e,i){if((0,Vt.m)(e)&&(i=e,e=void 0),i)return Of(n,t,e).pipe(ps(i));const[o,l]=function iI(n){return(0,Vt.m)(n.addEventListener)&&(0,Vt.m)(n.removeEventListener)}(n)?$y.map(d=>m=>n[d](t,m,e)):function CC(n){return(0,Vt.m)(n.addListener)&&(0,Vt.m)(n.removeListener)}(n)?nI.map(EC(n,t)):function wC(n){return(0,Vt.m)(n.on)&&(0,Vt.m)(n.off)}(n)?bC.map(EC(n,t)):[];if(!o&&(0,tI.z)(n))return(0,Gn.z)(d=>Of(d,t,e))((0,Gs.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new kn.y(d=>{const m=(...b)=>d.next(1<b.length?b:b[0]);return o(m),()=>l(m)})}function EC(n,t){return e=>i=>n[e](t,i)}var DC=P(4408);const Kc={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Kc;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new Ws.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...n){const{delegate:t}=Kc;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Kc;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var IC=P(7565);new class OS extends IC.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,o=-1;t=t||e.shift();const l=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++o<l&&(t=e.shift()));if(this._active=!1,i){for(;++o<l&&(t=e.shift());)t.unsubscribe();throw i}}}(class uo extends DC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Kc.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Kc.cancelAnimationFrame(e),t._scheduled=void 0)}});let zy,oI=1;const xf={};function TC(n){return n in xf&&(delete xf[n],!0)}const xS={setImmediate(n){const t=oI++;return xf[t]=!0,zy||(zy=Promise.resolve()),zy.then(()=>TC(t)&&n()),t},clearImmediate(n){TC(n)}},{setImmediate:SC,clearImmediate:lI}=xS,Xg={setImmediate(...n){const{delegate:t}=Xg;return((null==t?void 0:t.setImmediate)||SC)(...n)},clearImmediate(n){const{delegate:t}=Xg;return((null==t?void 0:t.clearImmediate)||lI)(n)},delegate:void 0};new class kf extends IC.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,o=-1;t=t||e.shift();const l=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++o<l&&(t=e.shift()));if(this._active=!1,i){for(;++o<l&&(t=e.shift());)t.unsubscribe();throw i}}}(class AC extends DC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Xg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Xg.clearImmediate(e),t._scheduled=void 0)}});var MC=P(3532);function OC(n,t=Aa.P){return function uI(n){return(0,on.e)((t,e)=>{let i=!1,o=null,l=null,d=!1;const m=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const D=o;o=null,e.next(D)}d&&e.complete()},b=()=>{l=null,d&&e.complete()};t.subscribe(new ln.Q(e,D=>{i=!0,o=D,l||(0,Gs.Xf)(n(D)).subscribe(l=new ln.Q(e,m,b))},()=>{d=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>function dI(n=0,t,e=Aa.P){let i=-1;return null!=t&&((0,MC.K)(t)?e=t:i=t),new kn.y(o=>{let l=function RC(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let d=0;return e.schedule(function(){o.closed||(o.next(d++),0<=i?this.schedule(void 0,i):o.complete())},l)})}(n,t))}let xC;try{xC="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xC=!1}let Vd,Pi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function pi(n){return n===_r}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xC)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function PC(){if(Vd)return Vd;if("object"!=typeof document||!document)return Vd=new Set(kC),Vd;let n=document.createElement("input");return Vd=new Set(kC.filter(t=>(n.setAttribute("type",t),n.type===t))),Vd}let Jg,Ud,Zy;function em(n){return function kS(){if(null==Jg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jg=!0}))}finally{Jg=Jg||!1}return Jg}()?n:!!n.capture}function fI(){if(null==Ud){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ud=!1,Ud;if("scrollBehavior"in document.documentElement.style)Ud=!0;else{const n=Element.prototype.scrollTo;Ud=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ud}function $a(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Vl(n){return n.composedPath?n.composedPath()[0]:n.target}function Pf(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Yy=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function gI(){return(0,c.f3M)(ie)}}),Ky=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jd=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function Qy(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ky.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yy,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),LC=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new It.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kn.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(OC(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Pn(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=Ha(i),l=e.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Of(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Pi),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BC=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new It.x,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(OC(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Pi),c.LFG(c.R0b),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Nf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[tm,nm],tm,nm]}),n})();class Jy{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ff extends Jy{constructor(t,e,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o}}class ev extends Jy{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class CI extends Jy{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class im{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ff?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ev?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof CI?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wI extends im{constructor(t,e,i,o,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=d=>{const m=d.element,b=this._document.createComment("dom-portal");m.parentNode.insertBefore(b,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(m,b)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let tv=(()=>{class n extends im{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=l=>{const d=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(ie))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),VC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Rr(n){return(0,on.e)((t,e)=>{(0,Gs.Xf)(n).subscribe(new ln.Q(e,()=>e.complete(),Nm.Z)),!e.closed&&t.subscribe(e)})}const UC=fI();class zS{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Zt(-this._previousScrollPosition.left),t.style.top=Zt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,o=this._document.body.style,l=i.scrollBehavior||"",d=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),UC&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UC&&(i.scrollBehavior=l,o.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class GS{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class DI{enable(){}disable(){}attach(){}}function r(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function s(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class a{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();r(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let u=(()=>{class n{constructor(e,i,o,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new DI,this.close=d=>new GS(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new zS(this._viewportRuler,this._document),this.reposition=d=>new a(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(LC),c.LFG(BC),c.LFG(c.R0b),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class h{constructor(t){if(this.scrollStrategy=new DI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class E{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class O{constructor(t,e,i,o,l,d,m,b,D){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=l,this._keyboardDispatcher=d,this._document=m,this._location=b,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new It.x,this._attachments=new It.x,this._detachments=new It.x,this._locationChanges=Ws.w0.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new It.x,this._outsidePointerEvents=new It.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,oi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Zt(this._config.width),t.height=Zt(this._config.height),t.minWidth=Zt(this._config.minWidth),t.minHeight=Zt(this._config.minHeight),t.maxWidth=Zt(this._config.maxWidth),t.maxHeight=Zt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const o=Qg(e||[]).filter(l=>!!l);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Rr((0,Oc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let F=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Pf()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(e),Pf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie),c.LFG(Pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $="cdk-overlay-connected-position-bounding-box",J=/([A-Za-z%]+)$/;class ye{constructor(t,e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new It.x,this._resizeSubscription=Ws.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add($),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,l=[];let d;for(let m of this._preferredPositions){let b=this._getOriginPoint(t,o,m),D=this._getOverlayPoint(b,e,m),R=this._getOverlayFit(D,e,i,m);if(R.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,b);this._canFitWithFlexibleDimensions(R,D,i)?l.push({position:m,origin:b,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(b,m)}):(!d||d.overlayFit.visibleArea<R.visibleArea)&&(d={overlayFit:R,overlayPoint:D,originPoint:b,position:m,overlayRect:e})}if(l.length){let m=null,b=-1;for(const D of l){const R=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);R>b&&(b=R,m=D)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o,l;if("center"==i.originX)o=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;o="start"==i.originX?d:m}return e.left<0&&(o-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:o,y:l}}_getOverlayPoint(t,e,i){let o,l;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+l}}_getOverlayFit(t,e,i,o){const l=Ke(e);let{x:d,y:m}=t,b=this._getOffset(o,"x"),D=this._getOffset(o,"y");b&&(d+=b),D&&(m+=D);let V=0-m,Q=m+l.height-i.height,se=this._subtractOverflows(l.width,0-d,d+l.width-i.width),Ee=this._subtractOverflows(l.height,V,Q),Ve=se*Ee;return{visibleArea:Ve,isCompletelyWithinViewport:l.width*l.height===Ve,fitsInViewportVertically:Ee===l.height,fitsInViewportHorizontally:se==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,l=i.right-e.x,d=Be(this._overlayRef.getConfig().minHeight),m=Be(this._overlayRef.getConfig().minWidth),D=t.fitsInViewportHorizontally||null!=m&&m<=l;return(t.fitsInViewportVertically||null!=d&&d<=o)&&D}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=Ke(e),l=this._viewportRect,d=Math.max(t.x+o.width-l.width,0),m=Math.max(t.y+o.height-l.height,0),b=Math.max(l.top-i.top-t.y,0),D=Math.max(l.left-i.left-t.x,0);let R=0,k=0;return R=o.width<=l.width?D||-d:t.x<this._viewportMargin?l.left-i.left-t.x:0,k=o.height<=l.height?b||-m:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:R,y:k},{x:t.x+R,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new E(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,o=this._isRtl();let l,d,m,R,k,V;if("top"===e.overlayY)d=t.y,l=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-t.y+2*this._viewportMargin,l=i.height-m+this._viewportMargin;else{const Q=Math.min(i.bottom-t.y+i.top,t.y),se=this._lastBoundingBoxSize.height;l=2*Q,d=t.y-Q,l>se&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-se/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)V=i.width-t.x+this._viewportMargin,R=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)k=t.x,R=i.right-t.x;else{const Q=Math.min(i.right-t.x+i.left,t.x),se=this._lastBoundingBoxSize.width;R=2*Q,k=t.x-Q,R>se&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-se/2)}return{top:d,left:k,bottom:m,right:V,width:R,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;o.height=Zt(i.height),o.top=Zt(i.top),o.bottom=Zt(i.bottom),o.width=Zt(i.width),o.left=Zt(i.left),o.right=Zt(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=Zt(l)),d&&(o.maxWidth=Zt(d))}this._lastBoundingBoxSize=i,Pe(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Pe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(o){const R=this._viewportRuler.getViewportScrollPosition();Pe(i,this._getExactOverlayY(e,t,R)),Pe(i,this._getExactOverlayX(e,t,R))}else i.position="static";let m="",b=this._getOffset(e,"x"),D=this._getOffset(e,"y");b&&(m+=`translateX(${b}px) `),D&&(m+=`translateY(${D}px)`),i.transform=m.trim(),d.maxHeight&&(o?i.maxHeight=Zt(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(o?i.maxWidth=Zt(d.maxWidth):l&&(i.maxWidth="")),Pe(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=Zt(l.y),o}_getExactOverlayX(t,e,i){let d,o={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=Zt(l.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:s(t,i),isOriginOutsideView:r(t,i),isOverlayClipped:s(e,i),isOverlayOutsideView:r(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Qg(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Pe(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Be(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(J);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Ke(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ce="cdk-global-overlay-wrapper";class rt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ce),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:d,maxHeight:m}=i,b=!("100%"!==o&&"100vw"!==o||d&&"100%"!==d&&"100vw"!==d),D=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=D?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Ce),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Nt=(()=>{class n{constructor(e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new rt}flexibleConnectedTo(e){return new ye(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(BC),c.LFG(ie),c.LFG(Pi),c.LFG(F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xt=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qr=(()=>{class n extends Xt{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const m=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qc=(()=>{class n extends Xt{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Vl(l)},this._clickListener=l=>{const d=Vl(l),m="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const b=this._attachedOverlays.slice();for(let D=b.length-1;D>-1;D--){const R=b[D];if(R._outsidePointerEvents.observers.length<1||!R.hasAttached())continue;if(R.overlayElement.contains(d)||R.overlayElement.contains(m))break;const k=R._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(l)):k.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie),c.LFG(Pi),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nv=0,zo=(()=>{class n{constructor(e,i,o,l,d,m,b,D,R,k,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=m,this._ngZone=b,this._document=D,this._directionality=R,this._location=k,this._outsideClickDispatcher=V}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),d=new h(e);return d.direction=d.direction||this._directionality.value,new O(l,i,o,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+nv++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new wI(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(u),c.LFG(F),c.LFG(c._Vd),c.LFG(Nt),c.LFG(Qr),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ie),c.LFG(jd),c.LFG(ze),c.LFG(Qc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sv={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[zo],useFactory:function rv(n){return()=>n.scrollStrategies.reposition()}};let Lf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[zo,sv],imports:[[tm,VC,Nf],Nf]}),n})();function ZS(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function YS(n){return Pn((t,e)=>n<=e)}function KS(n,t=Aa.z){return(0,on.e)((e,i)=>{let o=null,l=null,d=null;const m=()=>{if(o){o.unsubscribe(),o=null;const D=l;l=null,i.next(D)}};function b(){const D=d+n,R=t.now();if(R<D)return o=this.schedule(void 0,D-R),void i.add(o);m()}e.subscribe(new ln.Q(i,D=>{l=D,d=t.now(),o||(o=t.schedule(b,n),i.add(o))},()=>{m(),i.complete()},void 0,()=>{l=o=null}))})}let QS=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NO=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ha(e);return new kn.y(o=>{const d=this._observeElement(i).subscribe(o);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new It.x,o=this._mutationObserverFactory.create(l=>i.next(l));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(QS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FO=(()=>{class n{constructor(e,i,o){this._contentObserver=e,this._elementRef=i,this._ngZone=o,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Bl(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=jy(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(KS(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(NO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),XS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[QS]}),n})();function zC(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const eA="cdk-describedby-message",GC="cdk-describedby-host";let tA=0,VO=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+tA++,this._document=e}describe(e,i,o){if(!this._canBeDescribed(e,i))return;const l=II(i,o);"string"!=typeof i?(nA(i),this._messageRegistry.set(l,{messageElement:i,referenceCount:0})):this._messageRegistry.has(l)||this._createMessageElement(i,o),this._isElementDescribedByMessage(e,l)||this._addMessageReference(e,l)}removeDescription(e,i,o){var l;if(!i||!this._isElementNode(e))return;const d=II(i,o);if(this._isElementDescribedByMessage(e,d)&&this._removeMessageReference(e,d),"string"==typeof i){const m=this._messageRegistry.get(d);m&&0===m.referenceCount&&this._deleteMessageElement(d)}0===(null===(l=this._messagesContainer)||void 0===l?void 0:l.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const i=this._document.querySelectorAll(`[${GC}="${this._id}"]`);for(let o=0;o<i.length;o++)this._removeCdkDescribedByReferenceIds(i[o]),i[o].removeAttribute(GC);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const o=this._document.createElement("div");nA(o),o.textContent=e,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(II(e,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){var i,o;null===(o=null===(i=this._messageRegistry.get(e))||void 0===i?void 0:i.messageElement)||void 0===o||o.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let l=0;l<i.length;l++)i[l].remove();const o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){const i=zC(e,"aria-describedby").filter(o=>0!=o.indexOf(eA));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const o=this._messageRegistry.get(i);(function LO(n,t,e){const i=zC(n,t);i.some(o=>o.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",o.messageElement.id),e.setAttribute(GC,this._id),o.referenceCount++}_removeMessageReference(e,i){const o=this._messageRegistry.get(i);o.referenceCount--,function BO(n,t,e){const o=zC(n,t).filter(l=>l!=e.trim());o.length?n.setAttribute(t,o.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",o.messageElement.id),e.removeAttribute(GC)}_isElementDescribedByMessage(e,i){const o=zC(e,"aria-describedby"),l=this._messageRegistry.get(i),d=l&&l.messageElement.id;return!!d&&-1!=o.indexOf(d)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const o=null==i?"":`${i}`.trim(),l=e.getAttribute("aria-label");return!(!o||l&&l.trim()===o)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie),c.LFG(Pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function II(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function nA(n){n.id||(n.id=`${eA}-${tA++}`)}let iA=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function jO(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function UO(n){try{return n.frameElement}catch(t){return null}}(function YO(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===sA(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),l=sA(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function qO(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function ZO(n){return!function $O(n){return function GO(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function HO(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function zO(n){return function WO(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rA(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rA(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function sA(n){if(!rA(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class KO{constructor(t,e,i,o,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,oi.q)(1)).subscribe(t)}}let QO=(()=>{class n{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new KO(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(iA),c.LFG(c.R0b),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function aA(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const XO=new c.OlP("cdk-input-modality-detector-options"),JO={ignoreKeys:[18,17,224,91,16]},rm=em({passive:!0,capture:!0});let ex=(()=>{class n{constructor(e,i,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new ni(null),this._lastTouchMs=0,this._onKeydown=d=>{var m,b;(null===(b=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===b?void 0:b.some(D=>D===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Vl(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(oA(d)?"keyboard":"mouse"),this._mostRecentTarget=Vl(d))},this._onTouchstart=d=>{aA(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vl(d))},this._options=Object.assign(Object.assign({},JO),l),this.modalityDetected=this._modality.pipe(YS(1)),this.modalityChanged=this.modalityDetected.pipe(km()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,rm),o.addEventListener("mousedown",this._onMousedown,rm),o.addEventListener("touchstart",this._onTouchstart,rm)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rm),document.removeEventListener("mousedown",this._onMousedown,rm),document.removeEventListener("touchstart",this._onTouchstart,rm))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Pi),c.LFG(c.R0b),c.LFG(ie),c.LFG(XO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tx=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function nx(){return null}}),ix=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let cA=(()=>{class n{constructor(e,i,o,l){this._ngZone=i,this._defaultOptions=l,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...i){const o=this._defaultOptions;let l,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[l,d]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=o&&o.politeness?o.politeness:"polite"),null==d&&o&&(d=o.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(m=>this._currentResolve=m)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(tx,8),c.LFG(c.R0b),c.LFG(ie),c.LFG(ix,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rx=new c.OlP("cdk-focus-monitor-default-options"),WC=em({passive:!0,capture:!0});let TI=(()=>{class n{constructor(e,i,o,l,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It.x,this._rootNodeFocusAndBlurListener=m=>{const b=Vl(m),D="focus"===m.type?this._onFocus:this._onBlur;for(let R=b;R;R=R.parentElement)D.call(this,m,R)},this._document=l,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,i=!1){const o=Ha(e);if(!this._platform.isBrowser||1!==o.nodeType)return Je(null);const l=function NC(n){if(function pI(){if(null==Zy){const n="undefined"!=typeof document?document.head:null;Zy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Zy}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),d=this._elementInfo.get(o);if(d)return i&&(d.checkChildren=!0),d.subject;const m={checkChildren:i,subject:new It.x,rootNode:l};return this._elementInfo.set(o,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=Ha(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const l=Ha(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,b])=>this._originChanged(m,i,b)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),l=Vl(e);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,WC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,WC)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Rr(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,WC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,WC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&i.push([l,o])}),i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Pi),c.LFG(ex),c.LFG(ie,8),c.LFG(rx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uA="cdk-high-contrast-black-on-white",dA="cdk-high-contrast-white-on-black",SI="cdk-high-contrast-active";let hA=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(SI),e.remove(uA),e.remove(dA),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(SI),e.add(uA)):2===i&&(e.add(SI),e.add(dA))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Pi),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sx=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hA))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[XS]]}),n})();class fA{}const Xc="*";function qC(n,t){return{type:7,name:n,definitions:t,options:{}}}function Bf(n,t=null){return{type:4,styles:t,timings:n}}function pA(n,t=null){return{type:3,steps:n,options:t}}function gA(n,t=null){return{type:2,steps:n,options:t}}function dr(n){return{type:6,styles:n,offset:null}}function Vf(n,t,e){return{type:0,name:n,styles:t,options:e}}function Uf(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function mA(n=null){return{type:9,options:n}}function _A(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function yA(n){Promise.resolve(null).then(n)}class sm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const l=this.players.length;0==l?yA(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function bA(){return"undefined"!=typeof window&&void 0!==window.document}function MI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hd(n){switch(n.length){case 0:return new sm;case 1:return n[0];default:return new vA(n)}}function EA(n,t,e,i,o={},l={}){const d=[],m=[];let b=-1,D=null;if(i.forEach(R=>{const k=R.offset,V=k==b,Q=V&&D||{};Object.keys(R).forEach(se=>{let Ee=se,Ve=R[se];if("offset"!==se)switch(Ee=t.normalizePropertyName(Ee,d),Ve){case"!":Ve=o[se];break;case Xc:Ve=l[se];break;default:Ve=t.normalizeStyleValue(se,Ee,Ve,d)}Q[Ee]=Ve}),V||m.push(Q),D=Q,b=k}),d.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${d.join(R)}`)}return m}function RI(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&OI(e,"start",n)));break;case"done":n.onDone(()=>i(e&&OI(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&OI(e,"destroy",n)))}}function OI(n,t,e){const i=e.totalTime,l=xI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),d=n._data;return null!=d&&(l._data=d),l}function xI(n,t,e,i,o="",l=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!d}}function ho(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function CA(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let kI=(n,t)=>!1,wA=(n,t,e)=>[];(MI()||"undefined"!=typeof Element)&&(kI=bA()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),wA=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let jf=null,DA=!1;function PI(n){jf||(jf=function cx(){return"undefined"!=typeof document?document.body:null}()||{},DA=!!jf.style&&"WebkitAppearance"in jf.style);let t=!0;return jf.style&&!function lx(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in jf.style,!t&&DA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in jf.style)),t}const NI=kI,FI=wA;function IA(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let TA=(()=>{class n{validateStyleProperty(e){return PI(e)}matchesElement(e,i){return!1}containsElement(e,i){return NI(e,i)}query(e,i,o){return FI(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,d,m=[],b){return new sm(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),LI=(()=>{class n{}return n.NOOP=new TA,n})();const BI="ng-enter",ZC="ng-leave",YC="ng-trigger",KC=".ng-trigger",AA="ng-animating",VI=".ng-animating";function Hf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:UI(parseFloat(t[1]),t[2])}function UI(n,t){return"s"===t?1e3*n:n}function QC(n,t,e){return n.hasOwnProperty("duration")?n:function hx(n,t,e){let o,l=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=UI(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(l=UI(parseFloat(b),m[4]));const D=m[5];D&&(d=D)}else o=n;if(!e){let m=!1,b=t.length;o<0&&(t.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(t.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&t.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:d}}(n,t,e)}function om(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function $d(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else om(n,e);return e}function RA(n,t,e){return e?t+":"+e+";":""}function OA(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=RA(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=RA(0,gx(e),n.style[e]));n.setAttribute("style",t)}function Ul(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const o=HI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[o]),n.style[o]=t[i]}),MI()&&OA(n))}function $f(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=HI(e);n.style[i]=""}),MI()&&OA(n))}function ov(n){return Array.isArray(n)?1==n.length?n[0]:gA(n):n}const jI=new RegExp("{{\\s*(.+?)\\s*}}","g");function xA(n){let t=[];if("string"==typeof n){let e;for(;e=jI.exec(n);)t.push(e[1]);jI.lastIndex=0}return t}function XC(n,t,e){const i=n.toString(),o=i.replace(jI,(l,d)=>{let m=t[d];return t.hasOwnProperty(d)||(e.push(`Please provide a value for the animation param ${d}`),m=""),m.toString()});return o==i?n:o}function JC(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const px=/-+([a-z0-9])/g;function HI(n){return n.replace(px,(...t)=>t[1].toUpperCase())}function gx(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kA(n,t){return 0===n||0===t}function PA(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],d=[];if(i.forEach(m=>{l.hasOwnProperty(m)||d.push(m),l[m]=e[m]}),d.length)for(var o=1;o<t.length;o++){let m=t[o];d.forEach(function(b){m[b]=$I(n,b)})}}return t}function fo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function $I(n,t){return window.getComputedStyle(n)[t]}function mx(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _x(n,t,e){if(":"==n[0]){const b=function yx(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const o=i[1],l=i[2],d=i[3];t.push(NA(o,d));"<"==l[0]&&!("*"==o&&"*"==d)&&t.push(NA(d,o))}(i,e,t)):e.push(n),e}const t0=new Set(["true","1"]),n0=new Set(["false","0"]);function NA(n,t){const e=t0.has(n)||n0.has(n),i=t0.has(t)||n0.has(t);return(o,l)=>{let d="*"==n||n==o,m="*"==t||t==l;return!d&&e&&"boolean"==typeof o&&(d=o?t0.has(n):n0.has(n)),!m&&i&&"boolean"==typeof l&&(m=l?t0.has(t):n0.has(t)),d&&m}}const vx=new RegExp("s*:selfs*,?","g");function zI(n,t,e){return new bx(n).build(t,e)}class bx{constructor(t){this._driver=t}build(t,e){const i=new wx(e);return this._resetContextStyleTimingState(i),fo(this,ov(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const b=m,D=b.name;D.toString().split(/\s*,\s*/).forEach(R=>{b.name=R,l.push(this.visitState(b,e))}),b.name=D}else if(1==m.type){const b=this.visitTransition(m,e);i+=b.queryCount,o+=b.depCount,d.push(b)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:l,transitions:d,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=o||{};if(i.styles.forEach(m=>{if(r0(m)){const b=m;Object.keys(b).forEach(D=>{xA(b[D]).forEach(R=>{d.hasOwnProperty(R)||l.add(R)})})}}),l.size){const m=JC(l.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=fo(this,ov(t.animation),e);return{type:1,matchers:mx(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:zf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>fo(this,i,e)),options:zf(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const l=t.steps.map(d=>{e.currentTime=i;const m=fo(this,d,e);return o=Math.max(o,e.currentTime),m});return e.currentTime=o,{type:3,steps:l,options:zf(t.options)}}visitAnimate(t,e){const i=function Ix(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return GI(QC(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=GI(0,0,"");return l.dynamic=!0,l.strValue=i,l}return e=e||QC(i,t),GI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,l=t.styles?t.styles:dr({});if(5==l.type)o=this.visitKeyframes(l,e);else{let d=t.styles,m=!1;if(!d){m=!0;const D={};i.easing&&(D.easing=i.easing),d=dr(D)}e.currentTime+=i.duration+i.delay;const b=this.visitStyle(d,e);b.isEmptyStep=m,o=b}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==Xc?i.push(d):e.errors.push(`The provided style string value ${d} is not allowed.`):i.push(d)}):i.push(t.styles);let o=!1,l=null;return i.forEach(d=>{if(r0(d)){const m=d,b=m.easing;if(b&&(l=b,delete m.easing),!o)for(let D in m)if(m[D].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void e.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const b=e.collectedStyles[e.currentQuerySelector],D=b[m];let R=!0;D&&(l!=o&&l>=D.startTime&&o<=D.endTime&&(e.errors.push(`The CSS property "${m}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),R=!1),l=D.startTime),R&&(b[m]={startTime:l,endTime:o}),e.options&&function fx(n,t,e){const i=t.params||{},o=xA(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(d[m],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let l=0;const d=[];let m=!1,b=!1,D=0;const R=t.steps.map(pt=>{const vt=this._makeStyleAst(pt,e);let Pt=null!=vt.offset?vt.offset:function Dx(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(r0(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(r0(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(vt.styles),gt=0;return null!=Pt&&(l++,gt=vt.offset=Pt),b=b||gt<0||gt>1,m=m||gt<D,D=gt,d.push(gt),vt});b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&e.errors.push("Please ensure that all keyframe offsets are in order");const k=t.steps.length;let V=0;l>0&&l<k?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(V=1/(k-1));const Q=k-1,se=e.currentTime,Ee=e.currentAnimateTimings,Ve=Ee.duration;return R.forEach((pt,vt)=>{const Pt=V>0?vt==Q?1:V*vt:d[vt],gt=Pt*Ve;e.currentTime=se+Ee.delay+gt,Ee.duration=gt,this._validateStyleAst(pt,e),pt.offset=Pt,i.styles.push(pt)}),i}visitReference(t,e){return{type:8,animation:fo(this,ov(t.animation),e),options:zf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:zf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:zf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,d]=function Ex(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(vx,"")),n=n.replace(/@\*/g,KC).replace(/@\w+/g,e=>KC+"-"+e.substr(1)).replace(/:animating/g,VI),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,ho(e.collectedStyles,e.currentQuerySelector,{});const m=fo(this,ov(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:m,originalSelector:t.selector,options:zf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:QC(t.timings,e.errors,!0);return{type:12,animation:fo(this,ov(t.animation),e),timings:i,options:null}}}class wx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function r0(n){return!Array.isArray(n)&&"object"==typeof n}function zf(n){return n?(n=om(n)).params&&(n.params=function Cx(n){return n?om(n):null}(n.params)):n={},n}function GI(n,t,e){return{duration:n,delay:t,easing:e}}function WI(n,t,e,i,o,l,d=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:d,subTimeline:m}}class s0{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ax=new RegExp(":enter","g"),Rx=new RegExp(":leave","g");function qI(n,t,e,i,o,l={},d={},m,b,D=[]){return(new Ox).buildKeyframes(n,t,e,i,o,l,d,m,b,D)}class Ox{buildKeyframes(t,e,i,o,l,d,m,b,D,R=[]){D=D||new s0;const k=new ZI(t,e,D,o,l,R,[]);k.options=b,k.currentTimeline.setStyles([d],null,k.errors,b),fo(this,i,k);const V=k.timelines.filter(Q=>Q.containsAnimation());if(Object.keys(m).length){let Q;for(let se=V.length-1;se>=0;se--){const Ee=V[se];if(Ee.element===e){Q=Ee;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([m],null,k.errors,b)}return V.length?V.map(Q=>Q.buildKeyframes()):[WI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,o,o.options);l!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const d=null!=i.duration?Hf(i.duration):null,m=null!=i.delay?Hf(i.delay):null;return 0!==d&&t.forEach(b=>{const D=e.appendInstructionToTimeline(b,d,m);l=Math.max(l,D.duration+D.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),fo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=o0);const d=Hf(l.delay);o.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>fo(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Hf(t.options.delay):0;t.steps.forEach(d=>{const m=e.createSubContext(t.options);l&&m.delayNextStep(l),fo(this,d,m),o=Math.max(o,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return QC(e.params?XC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,t.styles.forEach(b=>{m.forwardTime((b.offset||0)*l),m.setStyles(b.styles,b.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?Hf(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=o0);let d=i;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=m.length;let b=null;m.forEach((D,R)=>{e.currentQueryIndex=R;const k=e.createSubContext(t.options,D);l&&k.delayNextStep(l),D===e.element&&(b=k.currentTimeline),fo(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,l=t.timings,d=Math.abs(l.duration),m=d*(e.currentQueryTotal-1);let b=d*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=m-b;break;case"full":b=i.currentStaggerTime}const R=e.currentTimeline;b&&R.delayNextStep(b);const k=R.currentTime;fo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-k+(o.startTime-i.currentTimeline.startTime)}}const o0={};class ZI{constructor(t,e,i,o,l,d,m,b){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=o0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new a0(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=Hf(i.duration)),null!=i.delay&&(o.delay=Hf(i.delay));const l=i.params;if(l){let d=o.params;d||(d=this.options.params={}),Object.keys(l).forEach(m=>{(!e||!d.hasOwnProperty(m))&&(d[m]=XC(l[m],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,l=new ZI(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=o0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new xx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,l,d){let m=[];if(o&&m.push(this.element),t.length>0){t=(t=t.replace(Ax,"."+this._enterClassName)).replace(Rx,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=i);0!==i&&(D=i<0?D.slice(D.length+i,D.length):D.slice(0,i)),m.push(...D)}return!l&&0==m.length&&d.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),m}}class a0{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new a0(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Xc,this._currentKeyframe[e]=Xc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&(this._previousKeyframe.easing=e);const l=o&&o.params||{},d=function kx(n,t){const e={};let i;return n.forEach(o=>{"*"===o?(i=i||Object.keys(t),i.forEach(l=>{e[l]=Xc})):$d(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(m=>{const b=XC(d[m],l,i);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Xc),this._updateStyle(m,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],o=t._styleSummary[e];(!i||o.time>i.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,b)=>{const D=$d(m,!0);Object.keys(D).forEach(R=>{const k=D[R];"!"==k?t.add(R):k==Xc&&e.add(R)}),i||(D.offset=b/this.duration),o.push(D)});const l=t.size?JC(t.values()):[],d=e.size?JC(e.values()):[];if(i){const m=o[0],b=om(m);m.offset=0,b.offset=1,o=[m,b]}return WI(this.element,o,l,d,this.duration,this.startTime,this.easing,!1)}}class xx extends a0{constructor(t,e,i,o,l,d,m=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],d=i+e,m=e/d,b=$d(t[0],!1);b.offset=0,l.push(b);const D=$d(t[0],!1);D.offset=BA(m),l.push(D);const R=t.length-1;for(let k=1;k<=R;k++){let V=$d(t[k],!1);V.offset=BA((e+V.offset*i)/d),l.push(V)}i=d,e=0,o="",t=l}return WI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function BA(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class YI{}class Px extends YI{normalizePropertyName(t,e){return HI(t)}normalizeStyleValue(t,e,i,o){let l="";const d=i.toString().trim();if(Nx[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${t}:${i}`)}return d+l}}const Nx=(()=>function Fx(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VA(n,t,e,i,o,l,d,m,b,D,R,k,V){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:d,timelines:m,queriedElements:b,preStyleProps:D,postStyleProps:R,totalTime:k,errors:V}}const KI={};class UA{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function Lx(n,t,e,i,o){return n.some(l=>l(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){const o=this._stateStyles["*"],l=this._stateStyles[t],d=o?o.buildStyles(e,i):{};return l?l.buildStyles(e,i):d}build(t,e,i,o,l,d,m,b,D,R){const k=[],V=this.ast.options&&this.ast.options.params||KI,se=this.buildStyles(i,m&&m.params||KI,k),Ee=b&&b.params||KI,Ve=this.buildStyles(o,Ee,k),pt=new Set,vt=new Map,Pt=new Map,gt="void"===o,di={params:Object.assign(Object.assign({},V),Ee)},Gi=R?[]:qI(t,e,this.ast.animation,l,d,se,Ve,di,D,k);let Jr=0;if(Gi.forEach(tu=>{Jr=Math.max(tu.duration+tu.delay,Jr)}),k.length)return VA(e,this._triggerName,i,o,gt,se,Ve,[],[],vt,Pt,Jr,k);Gi.forEach(tu=>{const nu=tu.element,uO=ho(vt,nu,{});tu.preStyleProps.forEach(Zf=>uO[Zf]=!0);const vv=ho(Pt,nu,{});tu.postStyleProps.forEach(Zf=>vv[Zf]=!0),nu!==e&&pt.add(nu)});const eu=JC(pt.values());return VA(e,this._triggerName,i,o,gt,se,Ve,Gi,eu,vt,Pt,Jr)}}class Bx{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},o=om(this.defaultParams);return Object.keys(t).forEach(l=>{const d=t[l];null!=d&&(o[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(m=>{let b=d[m];b.length>1&&(b=XC(b,o,e));const D=this.normalizer.normalizePropertyName(m,e);b=this.normalizer.normalizeStyleValue(m,D,b,e),i[D]=b})}}),i}}class Ux{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new Bx(o.style,o.options&&o.options.params||{},i)}),jA(this.states,"true","1"),jA(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new UA(t,o,this.states))}),this.fallbackTransition=function jx(n,t,e){return new UA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(d=>d.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function jA(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Hx=new s0;class $x{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=zI(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=o}_buildPlayer(t,e,i){const o=t.element,l=EA(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],l=this._animations[t];let d;const m=new Map;if(l?(d=qI(this._driver,e,l,BI,ZC,{},{},i,Hx,o),d.forEach(R=>{const k=ho(m,R.element,{});R.postStyleProps.forEach(V=>k[V]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),d=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((R,k)=>{Object.keys(R).forEach(V=>{R[V]=this._driver.computeStyle(k,V,Xc)})});const D=Hd(d.map(R=>{const k=m.get(R.element);return this._buildPlayer(R,{},k)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,o){const l=xI(e,"","","");return RI(this._getPlayer(t),i,l,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const HA="ng-animate-queued",QI="ng-animate-disabled",Zx=[],$A={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Go="__ng_removed";class XI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Jx(n){return null!=n?n:null}(i?t.value:t),i){const l=om(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const av="void",JI=new XI(av);class Kx{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wo(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function ek(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const l=ho(this._elementListeners,t,[]),d={name:e,phase:i,callback:o};l.push(d);const m=ho(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(Wo(t,YC),Wo(t,YC+"-"+e),m[e]=JI),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(d);b>=0&&l.splice(b,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,o=!0){const l=this._getTrigger(e),d=new eT(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(Wo(t,YC),Wo(t,YC+"-"+e),this._engine.statesByElement.set(t,m={}));let b=m[e];const D=new XI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&b&&D.absorbOptions(b.options),m[e]=D,b||(b=JI),D.value!==av&&b.value===D.value){if(!function ik(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(b.params,D.params)){const Ee=[],Ve=l.matchStyles(b.value,b.params,Ee),pt=l.matchStyles(D.value,D.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{$f(t,Ve),Ul(t,pt)})}return}const V=ho(this._engine.playersByElement,t,[]);V.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==e&&Ee.queued&&Ee.destroy()});let Q=l.matchTransition(b.value,D.value,t,D.params),se=!1;if(!Q){if(!o)return;Q=l.fallbackTransition,se=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Q,fromState:b,toState:D,player:d,isFallbackTransition:se}),se||(Wo(t,HA),d.onStart(()=>{am(t,HA)})),d.onDone(()=>{let Ee=this.players.indexOf(d);Ee>=0&&this.players.splice(Ee,1);const Ve=this._engine.playersByElement.get(t);if(Ve){let pt=Ve.indexOf(d);pt>=0&&Ve.splice(pt,1)}}),this.players.push(d),V.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,KC,!0);i.forEach(o=>{if(o[Go])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(d=>d.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const l=this._engine.statesByElement.get(t),d=new Map;if(l){const m=[];if(Object.keys(l).forEach(b=>{if(d.set(b,l[b].value),this._triggers[b]){const D=this.trigger(t,b,av,o);D&&m.push(D)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&Hd(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(l=>{const d=l.name;if(o.has(d))return;o.add(d);const b=this._triggers[d].fallbackTransition,D=i[d]||JI,R=new XI(av),k=new eT(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:b,fromState:D,toState:R,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Go];(!l||l===$A)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Wo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(m=>{if(m.name==i.triggerName){const b=xI(l,i.triggerName,i.fromState.value,i.toState.value);b._data=t,RI(i.player,m.phase,b,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,d=o.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Qx{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Kx(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let o=!1;for(let l=i;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,t),o=!0;break}o||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const o=Object.keys(i);for(let l=0;l<o.length;l++){const d=i[o[l]].namespaceId;if(d){const m=this._fetchNamespace(d);m&&e.add(m)}}}return e}trigger(t,e,i,o){if(l0(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!l0(e))return;const l=e[Go];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wo(t,QI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),am(t,QI))}removeNode(t,e,i,o){if(l0(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,i,o,l){this.collectedLeaveElements.push(e),e[Go]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,o,l){return l0(e)?this._fetchNamespace(t).listen(e,i,o,l):()=>{}}_buildInstruction(t,e,i,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,KC,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,VI,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Hd(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Go];if(i&&i.setForRemoval){if(t[Go]=$A,i.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(QI))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Hd(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new s0,o=[],l=new Map,d=[],m=new Map,b=new Map,D=new Map,R=new Set;this.disabledNodes.forEach(tt=>{R.add(tt);const ht=this.driver.query(tt,".ng-animate-queued",!0);for(let mt=0;mt<ht.length;mt++)R.add(ht[mt])});const k=this.bodyNode,V=Array.from(this.statesByElement.keys()),Q=WA(V,this.collectedEnterElements),se=new Map;let Ee=0;Q.forEach((tt,ht)=>{const mt=BI+Ee++;se.set(ht,mt),tt.forEach(Jt=>Wo(Jt,mt))});const Ve=[],pt=new Set,vt=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const ht=this.collectedLeaveElements[tt],mt=ht[Go];mt&&mt.setForRemoval&&(Ve.push(ht),pt.add(ht),mt.hasAnimation?this.driver.query(ht,".ng-star-inserted",!0).forEach(Jt=>pt.add(Jt)):vt.add(ht))}const Pt=new Map,gt=WA(V,Array.from(pt));gt.forEach((tt,ht)=>{const mt=ZC+Ee++;Pt.set(ht,mt),tt.forEach(Jt=>Wo(Jt,mt))}),t.push(()=>{Q.forEach((tt,ht)=>{const mt=se.get(ht);tt.forEach(Jt=>am(Jt,mt))}),gt.forEach((tt,ht)=>{const mt=Pt.get(ht);tt.forEach(Jt=>am(Jt,mt))}),Ve.forEach(tt=>{this.processLeaveNode(tt)})});const di=[],Gi=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(e).forEach(mt=>{const Jt=mt.player,Wi=mt.element;if(di.push(Jt),this.collectedEnterElements.length){const es=Wi[Go];if(es&&es.setForMove){if(es.previousTriggersValues&&es.previousTriggersValues.has(mt.triggerName)){const Yf=es.previousTriggersValues.get(mt.triggerName),Kd=this.statesByElement.get(mt.element);Kd&&Kd[mt.triggerName]&&(Kd[mt.triggerName].value=Yf)}return void Jt.destroy()}}const Hl=!k||!this.driver.containsElement(k,Wi),po=Pt.get(Wi),Yd=se.get(Wi),Zn=this._buildInstruction(mt,i,Yd,po,Hl);if(Zn.errors&&Zn.errors.length)return void Gi.push(Zn);if(Hl)return Jt.onStart(()=>$f(Wi,Zn.fromStyles)),Jt.onDestroy(()=>Ul(Wi,Zn.toStyles)),void o.push(Jt);if(mt.isFallbackTransition)return Jt.onStart(()=>$f(Wi,Zn.fromStyles)),Jt.onDestroy(()=>Ul(Wi,Zn.toStyles)),void o.push(Jt);const fO=[];Zn.timelines.forEach(es=>{es.stretchStartingKeyframe=!0,this.disabledNodes.has(es.element)||fO.push(es)}),Zn.timelines=fO,i.append(Wi,Zn.timelines),d.push({instruction:Zn,player:Jt,element:Wi}),Zn.queriedElements.forEach(es=>ho(m,es,[]).push(Jt)),Zn.preStyleProps.forEach((es,Yf)=>{const Kd=Object.keys(es);if(Kd.length){let Kf=b.get(Yf);Kf||b.set(Yf,Kf=new Set),Kd.forEach($T=>Kf.add($T))}}),Zn.postStyleProps.forEach((es,Yf)=>{const Kd=Object.keys(es);let Kf=D.get(Yf);Kf||D.set(Yf,Kf=new Set),Kd.forEach($T=>Kf.add($T))})});if(Gi.length){const tt=[];Gi.forEach(ht=>{tt.push(`@${ht.triggerName} has failed due to:\n`),ht.errors.forEach(mt=>tt.push(`- ${mt}\n`))}),di.forEach(ht=>ht.destroy()),this.reportError(tt)}const Jr=new Map,eu=new Map;d.forEach(tt=>{const ht=tt.element;i.has(ht)&&(eu.set(ht,ht),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,Jr))}),o.forEach(tt=>{const ht=tt.element;this._getPreviousPlayers(ht,!1,tt.namespaceId,tt.triggerName,null).forEach(Jt=>{ho(Jr,ht,[]).push(Jt),Jt.destroy()})});const tu=Ve.filter(tt=>ZA(tt,b,D)),nu=new Map;GA(nu,this.driver,vt,D,Xc).forEach(tt=>{ZA(tt,b,D)&&tu.push(tt)});const vv=new Map;Q.forEach((tt,ht)=>{GA(vv,this.driver,new Set(tt),b,"!")}),tu.forEach(tt=>{const ht=nu.get(tt),mt=vv.get(tt);nu.set(tt,Object.assign(Object.assign({},ht),mt))});const Zf=[],dO=[],hO={};d.forEach(tt=>{const{element:ht,player:mt,instruction:Jt}=tt;if(i.has(ht)){if(R.has(ht))return mt.onDestroy(()=>Ul(ht,Jt.toStyles)),mt.disabled=!0,mt.overrideTotalTime(Jt.totalTime),void o.push(mt);let Wi=hO;if(eu.size>1){let po=ht;const Yd=[];for(;po=po.parentNode;){const Zn=eu.get(po);if(Zn){Wi=Zn;break}Yd.push(po)}Yd.forEach(Zn=>eu.set(Zn,Wi))}const Hl=this._buildAnimation(mt.namespaceId,Jt,Jr,l,vv,nu);if(mt.setRealPlayer(Hl),Wi===hO)Zf.push(mt);else{const po=this.playersByElement.get(Wi);po&&po.length&&(mt.parentPlayer=Hd(po)),o.push(mt)}}else $f(ht,Jt.fromStyles),mt.onDestroy(()=>Ul(ht,Jt.toStyles)),dO.push(mt),R.has(ht)&&o.push(mt)}),dO.forEach(tt=>{const ht=l.get(tt.element);if(ht&&ht.length){const mt=Hd(ht);tt.setRealPlayer(mt)}}),o.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<Ve.length;tt++){const ht=Ve[tt],mt=ht[Go];if(am(ht,ZC),mt&&mt.hasAnimation)continue;let Jt=[];if(m.size){let Hl=m.get(ht);Hl&&Hl.length&&Jt.push(...Hl);let po=this.driver.query(ht,VI,!0);for(let Yd=0;Yd<po.length;Yd++){let Zn=m.get(po[Yd]);Zn&&Zn.length&&Jt.push(...Zn)}}const Wi=Jt.filter(Hl=>!Hl.destroyed);Wi.length?tk(this,ht,Wi):this.processLeaveNode(ht)}return Ve.length=0,Zf.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const ht=this.players.indexOf(tt);this.players.splice(ht,1)}),tt.play()}),Zf}elementContainsData(t,e){let i=!1;const o=e[Go];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,l){let d=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(d=m)}else{const m=this.playersByElement.get(t);if(m){const b=!l||l==av;m.forEach(D=>{D.queued||!b&&D.triggerName!=o||d.push(D)})}}return(i||o)&&(d=d.filter(m=>!(i&&i!=m.namespaceId||o&&o!=m.triggerName))),d}_beforeAnimationBuild(t,e,i){const l=e.element,d=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const D=b.element,R=D!==l,k=ho(i,D,[]);this._getPreviousPlayers(D,R,d,m,e.toState).forEach(Q=>{const se=Q.getRealPlayer();se.beforeDestroy&&se.beforeDestroy(),Q.destroy(),k.push(Q)})}$f(l,e.fromStyles)}_buildAnimation(t,e,i,o,l,d){const m=e.triggerName,b=e.element,D=[],R=new Set,k=new Set,V=e.timelines.map(se=>{const Ee=se.element;R.add(Ee);const Ve=Ee[Go];if(Ve&&Ve.removedBeforeQueried)return new sm(se.duration,se.delay);const pt=Ee!==b,vt=function nk(n){const t=[];return qA(n,t),t}((i.get(Ee)||Zx).map(Jr=>Jr.getRealPlayer())).filter(Jr=>!!Jr.element&&Jr.element===Ee),Pt=l.get(Ee),gt=d.get(Ee),di=EA(0,this._normalizer,0,se.keyframes,Pt,gt),Gi=this._buildPlayer(se,di,vt);if(se.subTimeline&&o&&k.add(Ee),pt){const Jr=new eT(t,m,Ee);Jr.setRealPlayer(Gi),D.push(Jr)}return Gi});D.forEach(se=>{ho(this.playersByQueriedElement,se.element,[]).push(se),se.onDone(()=>function Xx(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,se.element,se))}),R.forEach(se=>Wo(se,AA));const Q=Hd(V);return Q.onDestroy(()=>{R.forEach(se=>am(se,AA)),Ul(b,e.toStyles)}),k.forEach(se=>{ho(o,se,[]).push(Q)}),Q}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new sm(t.duration,t.delay)}}class eT{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new sm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>RI(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ho(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function l0(n){return n&&1===n.nodeType}function zA(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function GA(n,t,e,i,o){const l=[];e.forEach(b=>l.push(zA(b)));const d=[];i.forEach((b,D)=>{const R={};b.forEach(k=>{const V=R[k]=t.computeStyle(D,k,o);(!V||0==V.length)&&(D[Go]=Yx,d.push(D))}),n.set(D,R)});let m=0;return e.forEach(b=>zA(b,l[m++])),d}function WA(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const o=new Set(t),l=new Map;function d(m){if(!m)return 1;let b=l.get(m);if(b)return b;const D=m.parentNode;return b=e.has(D)?D:o.has(D)?1:d(D),l.set(m,b),b}return t.forEach(m=>{const b=d(m);1!==b&&e.get(b).push(m)}),e}function Wo(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function am(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function tk(n,t,e){Hd(e).onDone(()=>n.processLeaveNode(t))}function qA(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof vA?qA(i.players,t):t.push(i)}}function ZA(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(l=>o.add(l)):t.set(n,i),e.delete(n),!0}class c0{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new Qx(t,e,i),this._timelineEngine=new $x(t,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,i,o,l){const d=t+"-"+o;let m=this._triggerCache[d];if(!m){const b=[],D=zI(this._driver,l,b);if(b.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);m=function Vx(n,t,e){return new Ux(n,t,e)}(o,D,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(e,o,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i,o){this._transitionEngine.removeNode(t,e,o||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[l,d]=CA(i);this._timelineEngine.command(l,e,d,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,l){if("@"==i.charAt(0)){const[d,m]=CA(i);return this._timelineEngine.listen(d,e,m,l)}return this._transitionEngine.listen(t,e,i,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function YA(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=tT(t[0]),t.length>1&&(i=tT(t[t.length-1]))):t&&(e=tT(t)),e||i?new rk(n,e,i):null}let rk=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ul(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ul(this._element,this._initialStyles),this._endStyles&&(Ul(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($f(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($f(this._element,this._endStyles),this._endStyles=null),Ul(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function tT(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const o=e[i];sk(o)&&(t=t||{},t[o]=n[o])}return t}function sk(n){return"display"===n||"position"===n}const KA="animation",QA="animationend";class lk{constructor(t,e,i,o,l,d,m){this._element=t,this._name=e,this._duration=i,this._delay=o,this._easing=l,this._fillMode=d,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function ck(n,t){const e=iT(n,"").trim();let i=0;e.length&&(i=function dk(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),u0(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),eM(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){XA(this._element,this._name,"paused")}resume(){XA(this._element,this._name,"running")}setPosition(t){const e=JA(this._element,this._name);this._position=t*this._duration,u0(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),eM(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function uk(n,t){const i=iT(n,"").split(","),o=nT(i,t);o>=0&&(i.splice(o,1),u0(n,"",i.join(",")))}(this._element,this._name))}}function XA(n,t,e){u0(n,"PlayState",e,JA(n,t))}function JA(n,t){const e=iT(n,"");return e.indexOf(",")>0?nT(e.split(","),t):nT([e],t)}function nT(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function eM(n,t,e){e?n.removeEventListener(QA,t):n.addEventListener(QA,t)}function u0(n,t,e,i){const o=KA+t;if(null!=i){const l=n.style[o];if(l.length){const d=l.split(",");d[i]=e,e=d.join(",")}}n.style[o]=e}function iT(n,t){return n.style[KA+t]||""}class tM{constructor(t,e,i,o,l,d,m,b){this.element=t,this.keyframes=e,this.animationName=i,this._duration=o,this._delay=l,this._finalStyles=m,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=o+l,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:$I(this.element,i))})}this.currentSnapshot=t}}class pk extends sm{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=IA(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class iM{constructor(){this._count=0}validateStyleProperty(t){return PI(t)}matchesElement(t,e){return!1}containsElement(t,e){return NI(t,e)}query(t,e,i){return FI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(m=>IA(m));let o=`@keyframes ${e} {\n`,l="";i.forEach(m=>{l=" ";const b=parseFloat(m.offset);o+=`${l}${100*b}% {\n`,l+=" ",Object.keys(m).forEach(D=>{const R=m[D];switch(D){case"offset":return;case"easing":return void(R&&(o+=`${l}animation-timing-function: ${R};\n`));default:return void(o+=`${l}${D}: ${R};\n`)}}),o+=`${l}}\n`}),o+="}\n";const d=document.createElement("style");return d.textContent=o,d}animate(t,e,i,o,l,d=[],m){const b=d.filter(Ve=>Ve instanceof tM),D={};kA(i,o)&&b.forEach(Ve=>{let pt=Ve.currentSnapshot;Object.keys(pt).forEach(vt=>D[vt]=pt[vt])});const R=function _k(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(o=>{"offset"==o||"easing"==o||(t[o]=i[o])})}),t}(e=PA(t,e,D));if(0==i)return new pk(t,R);const k="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(t,k,e);(function mk(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(V);const se=YA(t,e),Ee=new tM(t,e,k,i,o,l,R,se);return Ee.onDestroy(()=>function yk(n){n.parentNode.removeChild(n)}(V)),Ee}}class sM{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:$I(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(oM().toString()),this._cssKeyframesDriver=new iM}validateStyleProperty(t){return PI(t)}matchesElement(t,e){return!1}containsElement(t,e){return NI(t,e)}query(t,e,i){return FI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,o,l,d=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,o,l,d);const R={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(R.easing=l);const k={},V=d.filter(se=>se instanceof sM);kA(i,o)&&V.forEach(se=>{let Ee=se.currentSnapshot;Object.keys(Ee).forEach(Ve=>k[Ve]=Ee[Ve])});const Q=YA(t,e=PA(t,e=e.map(se=>$d(se,!1)),k));return new sM(t,e,R,Q)}}function oM(){return bA()&&Element.prototype.animate||{}}let Ek=(()=>{class n extends fA{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?gA(e):e;return aM(this._renderer,null,i,"register",[o]),new Ck(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ck extends class ox{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new wk(this._id,t,e||{},this._renderer)}}class wk{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return aM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function aM(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const lM="@.disabled";let Dk=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const m=null==d?void 0:d.parentNode(l);m&&d.removeChild(m,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let R=this._rendererCache.get(l);return R||(R=new cM("",l,this.engine),this._rendererCache.set(l,R)),R}const d=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const b=R=>{Array.isArray(R)?R.forEach(b):this.engine.registerTrigger(d,m,e,R.name,R)};return i.data.animation.forEach(b),new Ik(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,m]=l;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(c0),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class cM{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==lM?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ik extends cM{constructor(t,e,i,o){super(e,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==lM?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function Tk(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function Sk(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(t,e,i)}}let Ak=(()=>{class n extends c0{constructor(e,i,o){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ie),c.LFG(LI),c.LFG(YI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zd=new c.OlP("AnimationModuleType"),uM=[{provide:fA,useClass:Ek},{provide:YI,useFactory:function Rk(){return new Px}},{provide:c0,useClass:Ak},{provide:c.FYo,useFactory:function Ok(n,t,e){return new Dk(n,t,e)},deps:[ti,c0,c.R0b]}],dM=[{provide:LI,useFactory:function Mk(){return function bk(){return"function"==typeof oM()}()?new vk:new iM}},{provide:zd,useValue:"BrowserAnimations"},...uM],xk=[{provide:LI,useClass:TA},{provide:zd,useValue:"NoopAnimations"},...uM];let kk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?xk:dM}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:dM,imports:[Ja]}),n})();const Nk=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Pk(){return!0}});let hr=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Pf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hA),c.LFG(Nk,8),c.LFG(ie))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[tm],tm]}),n})();function Fk(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Bl(t)}}}function h0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Lk(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Bl(t)}}}function Bk(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new It.x,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}let fM=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Uk{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pM={enterDuration:225,exitDuration:150},rT=em({passive:!0}),gM=["mousedown","touchstart"],mM=["mouseup","mouseleave","touchend","touchcancel"];class Hk{constructor(t,e,i,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Ha(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},pM),i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const d=i.radius||function zk(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),m=t-o.left,b=e-o.top,D=l.enterDuration,R=document.createElement("div");R.classList.add("mat-ripple-element"),R.style.left=m-d+"px",R.style.top=b-d+"px",R.style.height=2*d+"px",R.style.width=2*d+"px",null!=i.color&&(R.style.backgroundColor=i.color),R.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(R),function $k(n){window.getComputedStyle(n).getPropertyValue("opacity")}(R),R.style.transform="scale(1)";const k=new Uk(this,R,i);return k.state=0,this._activeRipples.add(k),i.persistent||(this._mostRecentTransientRipple=k),this._runTimeoutOutsideZone(()=>{const V=k===this._mostRecentTransientRipple;k.state=1,!i.persistent&&(!V||!this._isPointerDown)&&k.fadeOut()},D),k}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,o=Object.assign(Object.assign({},pM),t.config.animation);i.style.transitionDuration=`${o.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ha(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(gM))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mM),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=oA(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!aA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,rT)})})}_removeTriggerEvents(){this._triggerElement&&(gM.forEach(t=>{this._triggerElement.removeEventListener(t,this,rT)}),this._pointerUpEventsRegistered&&mM.forEach(t=>{this._triggerElement.removeEventListener(t,this,rT)}))}}const Gk=new c.OlP("mat-ripple-global-options");let _M=(()=>{class n{constructor(e,i,o,l,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new Hk(this,i,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Pi),c.Y36(Gk,8),c.Y36(zd,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[hr],hr]}),n})();const qk=["mat-button",""],Zk=["*"],Kk=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Qk=h0(Fk(Lk(class{constructor(n){this._elementRef=n}})));let f0=(()=>{class n extends Qk{constructor(e,i,o){super(e),this._focusMonitor=i,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of Kk)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(TI),c.Y36(zd,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(_M,5),2&e){let o;c.iGM(o=c.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:qk,ngContentSelectors:Zk,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[_M],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),sT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wk,hr],hr]}),n})();const yM=new Set;let lm,Xk=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eP}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jk(n){if(!yM.has(n))try{lm||(lm=document.createElement("style"),lm.setAttribute("type","text/css"),document.head.appendChild(lm)),lm.sheet&&(lm.sheet.insertRule(`@media ${n} {body{ }}`,0),yM.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eP(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let oT=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new It.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return vM(Qg(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let l=er(vM(Qg(e)).map(d=>this._registerQuery(d).observable));return l=Vr(l.pipe((0,oi.q)(1)),l.pipe(YS(1),KS(0))),l.pipe((0,lt.U)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:b,query:D})=>{m.matches=m.matches||b,m.breakpoints[D]=b}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new kn.y(d=>{const m=b=>this._zone.run(()=>d.next(b));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(ai(i),(0,lt.U)(({matches:d})=>({query:e,matches:d})),Rr(this._destroySubject)),mql:i};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Xk),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vM(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function tP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"button",3),c.NdJ("click",function(){return c.CHM(e),c.oxw().action()}),c._uU(2),c.qZA(),c.qZA()}if(2&n){const e=c.oxw();c.xp6(2),c.Oqu(e.data.action)}}function nP(n,t){}const EM=new c.OlP("MatSnackBarData");class p0{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const iP=Math.pow(2,31)-1;class aT{constructor(t,e){this._overlayRef=e,this._afterDismissed=new It.x,this._afterOpened=new It.x,this._onAction=new It.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,iP))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let rP=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(aT),c.Y36(EM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"span",0),c._uU(1),c.qZA(),c.YNc(2,tP,3,1,"div",1)),2&e&&(c.xp6(1),c.Oqu(i.data.message),c.xp6(1),c.Q6J("ngIf",i.hasAction))},directives:[f0,yn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const sP={snackBarState:qC("state",[Vf("void, hidden",dr({transform:"scale(0.8)",opacity:0})),Vf("visible",dr({transform:"scale(1)",opacity:1})),Uf("* => visible",Bf("150ms cubic-bezier(0, 0, 0.2, 1)")),Uf("* => void, * => hidden",Bf("75ms cubic-bezier(0.4, 0.0, 1, 1)",dr({opacity:0})))])};let oP=(()=>{class n extends im{constructor(e,i,o,l,d){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=o,this._platform=l,this.snackBarConfig=d,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new It.x,this._onExit=new It.x,this._onEnter=new It.x,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:o}=e;if(("void"===o&&"void"!==i||"hidden"===o)&&this._completeExit(),"visible"===o){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,oi.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Pi),c.Y36(p0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&c.Gf(tv,7),2&e){let o;c.iGM(o=c.CRH())&&(i._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&c.WFA("@state.done",function(l){return i.onAnimationEnd(l)}),2&e&&c.d8E("@state",i._animationState)},features:[c.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,nP,0,0,"ng-template",1),c.qZA(),c._UZ(2,"div")),2&e&&(c.xp6(2),c.uIk("aria-live",i._live)("role",i._role))},directives:[tv],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[sP.snackBarState]}}),n})(),lT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Lf,VC,Ki,sT,hr],hr]}),n})();const cT=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function aP(){return new p0}});let lP=(()=>{class n{constructor(e,i,o,l,d,m){this._overlay=e,this._live=i,this._injector=o,this._breakpointObserver=l,this._parentSnackBar=d,this._defaultConfig=m,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",o){const l=Object.assign(Object.assign({},this._defaultConfig),o);return l.data={message:e,action:i},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const l=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:p0,useValue:i}]}),d=new Ff(this.snackBarContainerComponent,i.viewContainerRef,l),m=e.attach(d);return m.instance.snackBarConfig=i,m.instance}_attach(e,i){const o=Object.assign(Object.assign(Object.assign({},new p0),this._defaultConfig),i),l=this._createOverlay(o),d=this._attachSnackBarContainer(l,o),m=new aT(d,l);if(e instanceof c.Rgc){const b=new ev(e,null,{$implicit:o.data,snackBarRef:m});m.instance=d.attachTemplatePortal(b)}else{const b=this._createInjector(o,m),D=new Ff(e,void 0,b),R=d.attachComponentPortal(D);m.instance=R.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Rr(l.detachments())).subscribe(b=>{l.overlayElement.classList.toggle(this.handsetCssClass,b.matches)}),o.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(m,o),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new h;i.direction=e.direction;let o=this._overlay.position().global();const l="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,m=!d&&"center"!==e.horizontalPosition;return d?o.left("0"):m?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(e,i){return c.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:aT,useValue:i},{provide:EM,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zo),c.LFG(cA),c.LFG(c.zs3),c.LFG(oT),c.LFG(n,12),c.LFG(cT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),CM=(()=>{class n extends lP{constructor(e,i,o,l,d,m){super(e,i,o,l,d,m),this.simpleSnackBarComponent=rP,this.snackBarContainerComponent=oP,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zo),c.LFG(cA),c.LFG(c.zs3),c.LFG(oT),c.LFG(n,12),c.LFG(cT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:lT}),n})(),wM=(()=>{class n{constructor(e,i,o){this.authService=e,this.router=i,this.snackBar=o}canActivate(e,i){return this.authService.user.pipe((0,oi.q)(1),(0,lt.U)(o=>!!o),(0,Ft.b)(o=>{o||(this.snackBar.open("Access denied, please sign in","",{panelClass:"snack-bg-color"}),this.router.navigate(["/login"]))}))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rf),c.LFG(yi),c.LFG(CM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DM(...n){const t=(0,fs.jO)(n),{args:e,keys:i}=Mo(n),o=new kn.y(l=>{const{length:d}=e;if(!d)return void l.complete();const m=new Array(d);let b=d,D=d;for(let R=0;R<d;R++){let k=!1;(0,Gs.Xf)(e[R]).subscribe(new ln.Q(l,V=>{k||(k=!0,D--),m[R]=V},()=>b--,void 0,()=>{(!b||!k)&&(D||l.next(i?da(i,m):m),l.complete())}))}});return t?o.pipe(ps(t)):o}class uP{}class Gd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Gd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(m=>-1===l.indexOf(m)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dP{encodeKey(t){return IM(t)}encodeValue(t){return IM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fP=/%(\d[a-f0-9])/gi,pP={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function IM(n){return encodeURIComponent(n).replace(fP,(t,e)=>{var i;return null!==(i=pP[e])&&void 0!==i?i:t})}function TM(n){return`${n}`}class Wd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dP,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hP(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[d,m]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],b=e.get(d)||[];b.push(m),e.set(d,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(TM(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(TM(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gP{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function SM(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function AM(n){return"undefined"!=typeof Blob&&n instanceof Blob}function MM(n){return"undefined"!=typeof FormData&&n instanceof FormData}class cv{constructor(t,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function mP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Gd),this.context||(this.context=new gP),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+d}}else this.params=new Wd,this.urlWithParams=e}serializeBody(){return null===this.body?null:SM(this.body)||AM(this.body)||MM(this.body)||function _P(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MM(this.body)?null:AM(this.body)?this.body.type||null:SM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,m=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,b=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let D=t.headers||this.headers,R=t.params||this.params;const k=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(D=Object.keys(t.setHeaders).reduce((V,Q)=>V.set(Q,t.setHeaders[Q]),D)),t.setParams&&(R=Object.keys(t.setParams).reduce((V,Q)=>V.set(Q,t.setParams[Q]),R)),new cv(i,o,d,{params:R,headers:D,context:k,reportProgress:b,responseType:l,withCredentials:m})}}var fr=(()=>((fr=fr||{})[fr.Sent=0]="Sent",fr[fr.UploadProgress=1]="UploadProgress",fr[fr.ResponseHeader=2]="ResponseHeader",fr[fr.DownloadProgress=3]="DownloadProgress",fr[fr.Response=4]="Response",fr[fr.User=5]="User",fr))();class uT extends class yP{constructor(t,e=200,i="OK"){this.headers=t.headers||new Gd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=fr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new uT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function dT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let OM=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof cv)l=e;else{let b,D;b=o.headers instanceof Gd?o.headers:new Gd(o.headers),o.params&&(D=o.params instanceof Wd?o.params:new Wd({fromObject:o.params})),l=new cv(e,i,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=Je(l).pipe(Ur(b=>this.handler.handle(b)));if(e instanceof cv||"events"===o.observe)return d;const m=d.pipe(Pn(b=>b instanceof uT));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,lt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,lt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,lt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return m.pipe((0,lt.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Wd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,dT(o,i))}post(e,i,o={}){return this.request("POST",e,dT(o,i))}put(e,i,o={}){return this.request("PUT",e,dT(o,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(uP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const bP=["*"];let g0;function uv(n){var t;return(null===(t=function EP(){if(void 0===g0&&(g0=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(g0=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return g0}())||void 0===t?void 0:t.createHTML(n))||n}function xM(n){return Error(`Unable to find icon with the name "${n}"`)}function kM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function PM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Gf{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let m0=(()=>{class n{constructor(e,i,o,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,l){return this._addSvgIconConfig(e,i,new Gf(o,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,l){const d=this._sanitizer.sanitize(c.q3G.HTML,o);if(!d)throw PM(o);const m=uv(d);return this._addSvgIconConfig(e,i,new Gf("",m,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new Gf(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const l=this._sanitizer.sanitize(c.q3G.HTML,i);if(!l)throw PM(i);const d=uv(l);return this._addSvgIconSetConfig(e,new Gf("",d,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw kM(e);const o=this._cachedIconsByUrl.get(i);return o?Je(_0(o)):this._loadSvgIconFromConfig(new Gf(e,null)).pipe((0,Ft.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,lt.U)(l=>_0(l)))}getNamedSvgIcon(e,i=""){const o=NM(i,e);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):function cP(n,t){const e=(0,Vt.m)(n)?n:()=>n,i=o=>o.error(e());return new kn.y(t?o=>t.schedule(i,0,o):i)}(xM(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Je(_0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,lt.U)(i=>_0(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?Je(o):DM(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(wr(m=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(D)),Je(null)})))).pipe((0,lt.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw xM(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(l),m=this._extractSvgIconFromSet(d,e,l.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ft.b)(i=>e.svgText=i),(0,lt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Je(null):this._fetchIcon(e).pipe((0,Ft.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,o);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),o);const m=this._svgElementFromString(uv("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(uv("<svg></svg>")),o=e.attributes;for(let l=0;l<o.length;l++){const{name:d,value:m}=o[l];"id"!==d&&i.setAttribute(d,m)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:o,options:l}=e,d=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function CP(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const m=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,o);if(!m)throw kM(o);const b=this._inProgressUrlFetches.get(m);if(b)return b;const D=this._httpClient.get(m,{responseType:"text",withCredentials:d}).pipe((0,lt.U)(R=>uv(R)),jr(()=>this._inProgressUrlFetches.delete(m)),(0,xm.B)());return this._inProgressUrlFetches.set(m,D),D}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(NM(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,e);if(l)return DP(l)?new Gf(l.url,null,l.options):new Gf(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(OM,8),c.LFG(ca),c.LFG(ie,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _0(n){return n.cloneNode(!0)}function NM(n,t){return n+":"+t}function DP(n){return!(!n.url||!n.options)}const IP=h0(class{constructor(n){this._elementRef=n}}),TP=new c.OlP("mat-icon-location",{providedIn:"root",factory:function SP(){const n=(0,c.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),FM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],AP=FM.map(n=>`[${n}]`).join(", "),MP=/^url\(['"]?#(.*?)['"]?\)$/;let dv=(()=>{class n extends IP{constructor(e,i,o,l,d){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=d,this._inline=!1,this._currentIconFetch=Ws.w0.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Bl(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(d=>{l.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(AP),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)FM.forEach(d=>{const m=i[l],b=m.getAttribute(d),D=b?b.match(MP):null;if(D){let R=o.get(m);R||(R=[],o.set(m,R)),R.push({name:d,value:D[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,oi.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(m0),c.$8M("aria-hidden"),c.Y36(TP),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:bP,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[hr],hr]}),n})();const RP=["connectionContainer"],OP=["inputContainer"],xP=["label"];function kP(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15),c._UZ(3,"div",16),c._UZ(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15),c._UZ(7,"div",16),c._UZ(8,"div",17),c.qZA(),c.BQk())}function PP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function NP(n,t){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function FP(n,t){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function LP(n,t){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function BP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.YNc(2,NP,4,1,"ng-container",12),c.YNc(3,FP,1,0,"ng-content",12),c.YNc(4,LP,2,0,"span",22),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function VP(n,t){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function UP(n,t){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function jP(n,t){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function HP(n,t){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function $P(n,t){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,HP,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const zP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],GP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let WP=0;const BM=new c.OlP("MatError");let VM=(()=>{class n{constructor(e,i){this.id="mat-error-"+WP++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(c.$8M("aria-live"),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("id",i.id)},inputs:{id:"id"},features:[c._Bn([{provide:BM,useExisting:n}])]}),n})();const qP={transitionMessages:qC("transitionMessages",[Vf("enter",dr({opacity:1,transform:"translateY(0%)"})),Uf("void => enter",[dr({opacity:0,transform:"translateY(-5px)"}),Bf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})(),ZP=0;const UM=new c.OlP("MatHint");let jM=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+ZP++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(c.uIk("id",i.id)("align",null),c.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[c._Bn([{provide:UM,useExisting:n}])]}),n})(),HM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const KP=new c.OlP("MatPrefix"),QP=new c.OlP("MatSuffix");let $M=0;const JP=h0(class{constructor(n){this._elementRef=n}},"primary"),eN=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),GM=new c.OlP("MatFormField");let fT=(()=>{class n extends JP{constructor(e,i,o,l,d,m,b){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=l,this._platform=d,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new It.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$M++,this._labelId="mat-form-field-label-"+$M++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Bl(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ai(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Rr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Rr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Oc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ai(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ai(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Rr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Of(this._label.nativeElement,"transitionend").pipe((0,oi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const R=i.querySelectorAll(`${o}, ${l}`);for(let k=0;k<R.length;k++)R[k].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,m=0;const b=i.querySelectorAll(o),D=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const R=i.getBoundingClientRect();if(0===R.width&&0===R.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const k=this._getStartEnd(R),V=e.children,Q=this._getStartEnd(V[0].getBoundingClientRect());let se=0;for(let Ee=0;Ee<V.length;Ee++)se+=V[Ee].offsetWidth;d=Math.abs(Q-k)-5,m=se>0?.75*se+10:0}for(let R=0;R<b.length;R++)b[R].style.width=`${d}px`;for(let R=0;R<D.length;R++)D[R].style.width=`${m}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(jd,8),c.Y36(eN,8),c.Y36(Pi),c.Y36(c.R0b),c.Y36(zd,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,o){if(1&e&&(c.Suo(o,hT,5),c.Suo(o,hT,7),c.Suo(o,HM,5),c.Suo(o,HM,7),c.Suo(o,YP,5),c.Suo(o,BM,5),c.Suo(o,UM,5),c.Suo(o,KP,5),c.Suo(o,QP,5)),2&e){let l;c.iGM(l=c.CRH())&&(i._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(i._controlStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(i._placeholderChild=l.first),c.iGM(l=c.CRH())&&(i._errorChildren=l),c.iGM(l=c.CRH())&&(i._hintChildren=l),c.iGM(l=c.CRH())&&(i._prefixChildren=l),c.iGM(l=c.CRH())&&(i._suffixChildren=l)}},viewQuery:function(e,i){if(1&e&&(c.Gf(RP,7),c.Gf(OP,5),c.Gf(xP,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._connectionContainerRef=o.first),c.iGM(o=c.CRH())&&(i._inputContainerRef=o.first),c.iGM(o=c.CRH())&&(i._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:GM,useExisting:n}]),c.qOj],ngContentSelectors:GP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(c.F$t(zP),c.TgZ(0,"div",0),c.TgZ(1,"div",1,2),c.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),c.YNc(3,kP,9,0,"ng-container",3),c.YNc(4,PP,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,BP,5,16,"label",8),c.qZA(),c.qZA(),c.YNc(10,VP,2,0,"div",9),c.qZA(),c.YNc(11,UP,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,jP,2,1,"div",12),c.YNc(14,$P,5,2,"div",13),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[yn,FO,Si,Zi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[qP.transitionMessages]},changeDetection:0}),n})(),y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ki,hr,XS],hr]}),n})(),WM=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Wf=(()=>{class n extends WM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const jl=new c.OlP("NgValueAccessor"),nN={provide:jl,useExisting:(0,c.Gpc)(()=>qf),multi:!0},rN=new c.OlP("CompositionEventMode");let qf=(()=>{class n extends WM{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iN(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(rN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([nN]),c.qOj]}),n})();function qd(n){return null==n||0===n.length}function ZM(n){return null!=n&&"number"==typeof n.length}const Or=new c.OlP("NgValidators"),Zd=new c.OlP("NgAsyncValidators"),sN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qo{static min(t){return function YM(n){return t=>{if(qd(t.value)||qd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function KM(n){return t=>{if(qd(t.value)||qd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function QM(n){return qd(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function XM(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function JM(n){return qd(n.value)||sN.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function eR(n){return t=>qd(t.value)||!ZM(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function tR(n){return t=>ZM(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function nR(n){if(!n)return hv;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(qd(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return lR(t)}static composeAsync(t){return cR(t)}}function hv(n){return null}function iR(n){return null!=n}function rR(n){const t=(0,c.QGY)(n)?(0,xn.D)(n):n;return(0,c.CqO)(t),t}function sR(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function oR(n,t){return t.map(e=>e(n))}function aR(n){return n.map(t=>function oN(n){return!n.validate}(t)?t:e=>t.validate(e))}function lR(n){if(!n)return null;const t=n.filter(iR);return 0==t.length?null:function(e){return sR(oR(e,t))}}function pT(n){return null!=n?lR(aR(n)):null}function cR(n){if(!n)return null;const t=n.filter(iR);return 0==t.length?null:function(e){return DM(oR(e,t).map(rR)).pipe((0,lt.U)(sR))}}function gT(n){return null!=n?cR(aR(n)):null}function uR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function dR(n){return n._rawValidators}function hR(n){return n._rawAsyncValidators}function mT(n){return n?Array.isArray(n)?n:[n]:[]}function v0(n,t){return Array.isArray(n)?n.includes(t):n===t}function fR(n,t){const e=mT(t);return mT(n).forEach(o=>{v0(e,o)||e.push(o)}),e}function pR(n,t){return mT(t).filter(e=>!v0(n,e))}class gR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Jc extends gR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xr extends gR{get formDirective(){return null}get path(){return null}}class mR{constructor(t){this._cd=t}is(t){var e,i,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===o?void 0:o[t])}}let fv=(()=>{class n extends mR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Jc,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),_T=(()=>{class n extends mR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Xr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function E0(n,t){return[...t.path,n]}function pv(n,t){bT(n,t),t.valueAccessor.writeValue(n.value),function pN(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yR(n,t)})}(n,t),function mN(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function gN(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function fN(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function C0(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),D0(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function w0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function bT(n,t){const e=dR(n);null!==t.validator?n.setValidators(uR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=hR(n);null!==t.asyncValidator?n.setAsyncValidators(uR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();w0(t._rawValidators,o),w0(t._rawAsyncValidators,o)}function D0(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=dR(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=hR(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return w0(t._rawValidators,i),w0(t._rawAsyncValidators,i),e}function yR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vR(n,t){bT(n,t)}function ET(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function bR(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function CT(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(l=>{l.constructor===qf?e=l:function vN(n){return Object.getPrototypeOf(n.constructor)===Wf}(l)?i=l:o=l}),o||i||e||null}function I0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const gv="VALID",T0="INVALID",cm="PENDING",mv="DISABLED";function DT(n){return(TT(n)?n.validators:n)||null}function ER(n){return Array.isArray(n)?pT(n):n||null}function IT(n,t){return(TT(t)?t.asyncValidators:n)||null}function CR(n){return Array.isArray(n)?gT(n):n||null}function TT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ST=n=>n instanceof MT,S0=n=>n instanceof A0,wR=n=>n instanceof SR;function DR(n){return ST(n)?n.value:n.getRawValue()}function IR(n,t){const e=S0(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function TR(n,t){S0(n),n._forEachChild((i,o)=>{if(void 0===t[o])throw new c.vHH(1002,"")})}class AT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ER(this._rawValidators),this._composedAsyncValidatorFn=CR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gv}get invalid(){return this.status===T0}get pending(){return this.status==cm}get disabled(){return this.status===mv}get enabled(){return this.status!==mv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ER(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=CR(t)}addValidators(t){this.setValidators(fR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pR(t,this._rawAsyncValidators))}hasValidator(t){return v0(this._rawValidators,t)}hasAsyncValidator(t){return v0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=cm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mv,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gv,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gv||this.status===cm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mv:gv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=cm,this._hasOwnPendingAsyncValidator=!0;const e=rR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function bN(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(o=>{i=S0(i)?i.controls.hasOwnProperty(o)?i.controls[o]:null:wR(i)&&i.at(o)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?mv:this.errors?T0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cm)?cm:this._anyControlsHaveStatus(T0)?T0:gv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){TT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class MT extends AT{constructor(t=null,e,i){super(DT(e),IT(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){I0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){I0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class A0 extends AT{constructor(t,e,i){super(DT(e),IT(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){TR(this,t),Object.keys(t).forEach(i=>{IR(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=DR(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,l)=>{i=e(i,o,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class SR extends AT{constructor(t,e,i){super(DT(e),IT(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){TR(this,t),t.forEach((i,o)=>{IR(this,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>DR(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const EN={provide:Xr,useExisting:(0,c.Gpc)(()=>M0)},_v=(()=>Promise.resolve(null))();let M0=(()=>{class n extends Xr{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new A0({},pT(e),gT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_v.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),pv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_v.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),I0(this._directives,e)})}addFormGroup(e){_v.then(()=>{const i=this._findContainer(e.path),o=new A0({});vR(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_v.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){_v.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,bR(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Or,10),c.Y36(Zd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([EN]),c.qOj]}),n})();const wN={provide:Jc,useExisting:(0,c.Gpc)(()=>R0)},RR=(()=>Promise.resolve(null))();let R0=(()=>{class n extends Jc{constructor(e,i,o,l){super(),this.control=new MT,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=CT(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ET(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?E0(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){RR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=""===i||i&&"false"!==i;RR.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Xr,9),c.Y36(Or,10),c.Y36(Zd,10),c.Y36(jl,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([wN]),c.qOj,c.TTD]}),n})(),RT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const OT=new c.OlP("NgModelWithFormControlWarning"),MN={provide:Xr,useExisting:(0,c.Gpc)(()=>um)};let um=(()=>{class n extends Xr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(D0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return pv(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){C0(e.control||null,e,!1),I0(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,bR(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(C0(i||null,e),ST(o)&&(pv(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);vR(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function _N(n,t){return D0(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bT(this.form,this),this._oldForm&&D0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Or,10),c.Y36(Zd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([MN]),c.qOj,c.TTD]}),n})();const xN={provide:Jc,useExisting:(0,c.Gpc)(()=>O0)};let O0=(()=>{class n extends Jc{constructor(e,i,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=CT(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),ET(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return E0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(Xr,13),c.Y36(Or,10),c.Y36(Zd,10),c.Y36(jl,10),c.Y36(OT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([xN]),c.qOj,c.TTD]}),n})(),ZR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[xR]]}),n})(),YR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ZR]}),n})(),KR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:OT,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ZR]}),n})(),QR=(()=>{class n{group(e,i=null){const o=this._reduceControls(e);let m,l=null,d=null;return null!=i&&(function qN(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(l=null!=i.validators?i.validators:null,d=null!=i.asyncValidators?i.asyncValidators:null,m=null!=i.updateOn?i.updateOn:void 0):(l=null!=i.validator?i.validator:null,d=null!=i.asyncValidator?i.asyncValidator:null)),new A0(o,{asyncValidators:d,updateOn:m,validators:l})}control(e,i,o){return new MT(e,i,o)}array(e,i,o){const l=e.map(d=>this._createControl(d));return new SR(l,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return ST(e)||S0(e)||wR(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:KR}),n})();const XR=em({passive:!0});let ZN=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ui.E;const i=Ha(e),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new It.x,d="cdk-text-field-autofilled",m=b=>{"cdk-text-field-autofill-start"!==b.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===b.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,XR),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",m,XR)}}),l}stopMonitoring(e){const i=Ha(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Pi),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const YN=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),KN=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let QN=0;const XN=Bk(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let LT=(()=>{class n extends XN{constructor(e,i,o,l,d,m,b,D,R,k){super(m,l,d,o),this._elementRef=e,this._platform=i,this._autofillMonitor=D,this._formField=k,this._uid="mat-input-"+QN++,this.focused=!1,this.stateChanges=new It.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(se=>PC().has(se)),this._iOSKeyupListener=se=>{const Ee=se.target;!Ee.value&&0===Ee.selectionStart&&0===Ee.selectionEnd&&(Ee.setSelectionRange(1,1),Ee.setSelectionRange(0,0))};const V=this._elementRef.nativeElement,Q=V.nodeName.toLowerCase();this._inputValueAccessor=b||V,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&R.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Q,this._isTextarea="textarea"===Q,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Bl(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,o,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===o?void 0:o.hasValidator(qo.required))&&void 0!==l&&l}set required(e){this._required=Bl(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&PC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Bl(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const o=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(o!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=o,o?l.setAttribute("placeholder",o):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){KN.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Pi),c.Y36(Jc,10),c.Y36(M0,8),c.Y36(um,8),c.Y36(fM),c.Y36(YN,10),c.Y36(ZN),c.Y36(c.R0b),c.Y36(GM,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:hT,useExisting:n}]),c.qOj,c.TTD]}),n})(),eO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[fM],imports:[[JR,y0,hr],JR,y0]}),n})();const JN=["tooltip"],tO="tooltip-panel",nO=em({passive:!0}),iO=new c.OlP("mat-tooltip-scroll-strategy"),iF={provide:iO,deps:[zo],useFactory:function nF(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},rF=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function sF(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let oF=(()=>{class n{constructor(e,i,o,l,d,m,b,D,R,k,V,Q){this._overlay=e,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=l,this._ngZone=d,this._platform=m,this._ariaDescriber=b,this._focusMonitor=D,this._dir=k,this._defaultOptions=V,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new It.x,this._scrollStrategy=R,this._document=Q,V&&(V.position&&(this.position=V.position),V.touchGestures&&(this.touchGestures=V.touchGestures)),k.change.pipe(Rr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Bl(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=jy(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=jy(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Rr(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{e.removeEventListener(i,o,nO)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Ff(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Rr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Rr(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${tO}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Rr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Rr(this._destroyed)).subscribe(()=>{var l;return null===(l=this._tooltipInstance)||void 0===l?void 0:l._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(Rr(this._destroyed)).subscribe(l=>{this._isTooltipVisible()&&27===l.keyCode&&!ZS(l)&&(l.preventDefault(),l.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,o=this._getOrigin(),l=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},o.main),l.main)),this._addOffset(Object.assign(Object.assign({},o.fallback),l.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i||"below"==i?o={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={originX:"end",originY:"center"});const{x:l,y:d}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:l,originY:d}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i?o={overlayX:"center",overlayY:"bottom"}:"below"==i?o={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:l,y:d}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:l,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,oi.q)(1),Rr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:o,originY:l}=e;let d;if(d="center"===i?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===i&&"top"===l?"above":"below",d!==this._currentPosition){const m=this._overlayRef;if(m){const b=`${this._cssClassPrefix}-${tO}-`;m.removePanelClass(b+this._currentPosition),m.addPanelClass(b+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var o;const l=i.relatedTarget;(!l||!(null===(o=this._overlayRef)||void 0===o?void 0:o.overlayElement.contains(l)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,nO)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,o=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),aF=(()=>{class n extends oF{constructor(e,i,o,l,d,m,b,D,R,k,V,Q){super(e,i,o,l,d,m,b,D,R,k,V,Q),this._tooltipComponent=cF}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(zo),c.Y36(c.SBq),c.Y36(LC),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(Pi),c.Y36(VO),c.Y36(TI),c.Y36(iO),c.Y36(jd,8),c.Y36(rF,8),c.Y36(ie))},n.\u0275dir=c.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[c.qOj]}),n})(),lF=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new It.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,o=this._showAnimation,l=this._hideAnimation;if(i.classList.remove(e?l:o),i.classList.add(e?o:l),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const d=getComputedStyle(i);("0s"===d.getPropertyValue("animation-duration")||"none"===d.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(zd,8))},n.\u0275dir=c.lG2({type:n}),n})(),cF=(()=>{class n extends lF{constructor(e,i,o){super(e,o),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(oT),c.Y36(zd,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&c.Gf(JN,7),2&e){let o;c.iGM(o=c.CRH())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("mouseleave",function(l){return i._handleMouseLeave(l)}),2&e&&c.Udp("zoom",i.isVisible()?1:null)},features:[c.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(l){return i._handleAnimationEnd(l)}),c.ALo(2,"async"),c._uU(3),c.qZA()),2&e){let o;c.ekj("mat-tooltip-handset",null==(o=c.lcZ(2,4,i._isHandset))?null:o.matches),c.Q6J("ngClass",i.tooltipClass),c.xp6(3),c.Oqu(i.message)}},directives:[mr],pipes:[zl],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),rO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[iF],imports:[[sx,Ki,Lf,hr],hr,nm]}),n})();const uF=["*",[["mat-toolbar-row"]]],dF=["*","mat-toolbar-row"],hF=h0(class{constructor(n){this._elementRef=n}});let fF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),pF=(()=>{class n extends hF{constructor(e,i,o){super(e),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Pi),c.Y36(ie))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,o){if(1&e&&c.Suo(o,fF,5),2&e){let l;c.iGM(l=c.CRH())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:dF,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(uF),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[hr],hr]}),n})();function gF(n,t){}class BT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const mF={dialogContainer:qC("dialogContainer",[Vf("void, exit",dr({opacity:0,transform:"scale(0.7)"})),Vf("enter",dr({transform:"none"})),Uf("* => enter",pA([Bf("150ms cubic-bezier(0, 0, 0.2, 1)",dr({transform:"none",opacity:1})),_A("@*",mA(),{optional:!0})])),Uf("* => void, * => exit",pA([Bf("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",dr({opacity:0})),_A("@*",mA(),{optional:!0})]))])};let _F=(()=>{class n extends im{constructor(e,i,o,l,d,m,b,D){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=o,this._config=d,this._interactivityChecker=m,this._ngZone=b,this._focusMonitor=D,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=R=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(R)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=$a())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=$a(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=$a();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(QO),c.Y36(c.sBO),c.Y36(ie,8),c.Y36(BT),c.Y36(iA),c.Y36(c.R0b),c.Y36(TI))},n.\u0275dir=c.lG2({type:n,viewQuery:function(e,i){if(1&e&&c.Gf(tv,7),2&e){let o;c.iGM(o=c.CRH())&&(i._portalOutlet=o.first)}},features:[c.qOj]}),n})(),yF=(()=>{class n extends _F{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&c.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(c.Ikx("id",i._id),c.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,gF,0,0,"ng-template",0)},directives:[tv],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[mF.dialogContainer]}}),n})(),vF=0;class oO{constructor(t,e,i="mat-dialog-"+vF++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new It.x,this._afterClosed=new It.x,this._beforeClosed=new It.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Pn(o=>"opened"===o.state),(0,oi.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Pn(o=>"closed"===o.state),(0,oi.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Pn(o=>27===o.keyCode&&!this.disableClose&&!ZS(o))).subscribe(o=>{o.preventDefault(),VT(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():VT(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Pn(e=>"closing"===e.state),(0,oi.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function VT(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const bF=new c.OlP("MatDialogData"),EF=new c.OlP("mat-dialog-default-options"),aO=new c.OlP("mat-dialog-scroll-strategy"),wF={provide:aO,deps:[zo],useFactory:function CF(n){return()=>n.scrollStrategies.block()}};let DF=(()=>{class n{constructor(e,i,o,l,d,m,b,D,R,k){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=d,this._dialogRefConstructor=b,this._dialogContainerType=D,this._dialogDataToken=R,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new It.x,this._afterOpenedAtThisLevel=new It.x,this._ariaHiddenElements=new Map,this.afterAllClosed=tr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ai(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function IF(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new BT),i.id&&this.getDialogById(i.id);const o=this._createOverlay(i),l=this._attachDialogContainer(o,i),d=this._attachDialogContent(e,l,o,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),l._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new h({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const l=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:BT,useValue:i}]}),d=new Ff(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,o,l){const d=new this._dialogRefConstructor(o,i,l.id);if(e instanceof c.Rgc)i.attachTemplatePortal(new ev(e,null,{$implicit:l.data,dialogRef:d}));else{const m=this._createInjector(l,d,i),b=i.attachComponentPortal(new Ff(e,l.viewContainerRef,m,l.componentFactoryResolver));d.componentInstance=b.instance}return d.updateSize(l.width,l.height).updatePosition(l.position),d}_createInjector(e,i,o){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!l||!l.get(jd,null,c.XFs.Optional))&&d.push({provide:jd,useValue:{value:e.direction,change:Je()}}),c.zs3.create({parent:l||this._injector,providers:d})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let l=i[o];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n}),n})(),UT=(()=>{class n extends DF{constructor(e,i,o,l,d,m,b,D){super(e,i,l,m,b,d,oO,yF,bF,D)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zo),c.LFG(c.zs3),c.LFG(ze,8),c.LFG(EF,8),c.LFG(aO),c.LFG(n,12),c.LFG(F),c.LFG(zd,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),TF=(()=>{class n{constructor(e,i,o){this.dialogRef=e,this._elementRef=i,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function SF(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){VT(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(oO,8),c.Y36(c.SBq),c.Y36(UT))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("click",function(l){return i._onButtonClick(l)}),2&e&&c.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[c.TTD]}),n})(),lO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[UT,wF],imports:[[Lf,VC,hr],hr]}),n})();const AF={duration:3e3,verticalPosition:"top"};let jT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:cT,useValue:AF}],imports:[LM,sT,lT,y0,eO,rO,sO,lO]}),n})(),x0=(()=>{class n{constructor(e,i){this.fireAuth=e,this.db=i,this.fireAuth.authState.subscribe(o=>{o&&(this.user=o),this.getUser().subscribe(l=>{this.userName=null==l?void 0:l.displayName})})}getUsers(){return this.db.list("/users").valueChanges()}getUser(){var e;const i=`/users/${null===(e=this.user)||void 0===e?void 0:e.uid}`;return this.db.object(i).valueChanges()}getRooms(){return this.db.list("/rooms").snapshotChanges().pipe((0,lt.U)(e=>e.map(i=>Object.assign({key:i.payload.key},i.payload.val()))))}createRoom(e){this.rooms=this.db.list("/rooms"),this.rooms.push({roomName:e})}sendMessage(e,i){var o;const l=`/messages/${i}`,d=(new Date).toLocaleString();this.messages=this.db.list(l),this.messages.push({message:e,timeSent:d,username:this.userName,email:null===(o=this.user)||void 0===o?void 0:o.email})}getMessages(e){return this.db.list(`/messages/${e}`).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(qg),c.LFG(Vy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MF(n,t){if(1&n&&(c.TgZ(0,"div",4),c.TgZ(1,"span",5),c._uU(2),c.qZA(),c.qZA()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(null==e?null:e.displayName)}}let RF=(()=>{class n{constructor(e){this.chatService=e}ngOnInit(){this.getUsers()}getUsers(){this.chatService.getUsers().subscribe(e=>{this.users=e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(x0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-users"]],decls:8,vars:1,consts:[[1,"users"],[1,"users__header"],[1,"users__content"],["class","users__item",4,"ngFor","ngForOf"],[1,"users__item"],[1,"users__item-name"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-icon"),c._uU(3,"group"),c.qZA(),c._uU(4," Users "),c.qZA(),c.TgZ(5,"div",2),c.ynx(6),c.YNc(7,MF,3,1,"div",3),c.BQk(),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Q6J("ngForOf",i.users))},directives:[dv,hn],styles:[".users[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:4px 0 0 4px;background-color:#021cbd80;overflow:auto;scrollbar-width:none}.users[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.users__content[_ngcontent-%COMP%]{padding:25px 15px}.users__header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;position:sticky;top:0;background-color:#3f51b5;font-size:20px;font-weight:500;color:#fff;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.users__header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.users__item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:15px;background-color:#fff;color:#202020;border-radius:4px;justify-content:center;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.users__item-name[_ngcontent-%COMP%]{font-weight:500;font-size:1.2rem}"]}),n})(),HT=(()=>{class n{constructor(){this.room=new It.x,this.data$=this.room.asObservable()}changeRoom(e){this.room.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OF=function(n,t){return{message__guest:n,message__own:t}};let xF=(()=>{class n{constructor(e){this.authService=e,this.isOnMessage=!1}ngOnInit(){this.authService.getUser().subscribe(e=>{e&&(this.isOnMessage=e.email===this.message.email)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Rf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:8,vars:7,consts:[[1,"message",3,"ngClass"],[1,"message__content"],[1,"message__content-user"],[1,"message__content-date"],[1,"message__message"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"span",2),c._uU(3),c.qZA(),c.TgZ(4,"span",3),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"span",4),c._uU(7),c.qZA(),c.qZA()),2&e&&(c.Q6J("ngClass",c.WLB(4,OF,!i.isOnMessage,i.isOnMessage)),c.xp6(3),c.Oqu(null==i.message?null:i.message.username),c.xp6(2),c.Oqu(null==i.message?null:i.message.timeSent),c.xp6(2),c.Oqu(null==i.message?null:i.message.message))},directives:[mr],styles:[".message[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px;box-shadow:0 14px 20px #00000040,0 10px 10px #00000038;border-radius:4px;padding:15px 40px;width:50%}.message__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.message__content-user[_ngcontent-%COMP%]{font-weight:700}.message__content-date[_ngcontent-%COMP%]{font-size:14px}.message__own[_ngcontent-%COMP%]{background-color:#a2dae0;color:#202020;border-radius:40px 40px 40px 0;float:left}.message__guest[_ngcontent-%COMP%]{background-color:#fff;color:#202020;border-radius:40px 40px 0;float:right}"]}),n})();const kF=["scroller"];function PF(n,t){if(1&n&&(c.ynx(0),c._UZ(1,"app-chat-message",6),c.BQk()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("message",e)}}let NF=(()=>{class n{constructor(e,i){this.roomChanged=e,this.chatService=i}ngOnInit(){this.subscription=this.roomChanged.data$.subscribe(e=>{var i;this.messages=[],this.room=e,this.getMessages((null===(i=this.room)||void 0===i?void 0:i.key)||"")})}ngAfterViewChecked(){this.scrollToBottom()}getMessages(e){this.chatService.getMessages(e).subscribe(i=>{this.messages=i})}scrollToBottom(){this.feedContainer.nativeElement.scrollTop=this.feedContainer.nativeElement.scrollHeight}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(HT),c.Y36(x0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-feed"]],viewQuery:function(e,i){if(1&e&&c.Gf(kF,5),2&e){let o;c.iGM(o=c.CRH())&&(i.feedContainer=o.first)}},decls:10,vars:2,consts:[[1,"feed"],["scroller",""],[1,"feed__header"],[1,"feed__header-room"],[1,"feed__content"],[4,"ngFor","ngForOf"],[3,"message"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1),c.TgZ(2,"div",2),c.TgZ(3,"mat-icon"),c._uU(4,"chat"),c.qZA(),c._uU(5," Messages to "),c.TgZ(6,"span",3),c._uU(7),c.qZA(),c.qZA(),c.TgZ(8,"div",4),c.YNc(9,PF,2,1,"ng-container",5),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Oqu(null==i.room?null:i.room.roomName),c.xp6(2),c.Q6J("ngForOf",i.messages))},directives:[dv,hn,xF],styles:[".feed[_ngcontent-%COMP%]{height:90%;width:100%;max-height:72vh;background-color:#d6f3eb99;overflow:auto;scrollbar-width:none}.feed[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.feed__content[_ngcontent-%COMP%]{padding:25px 15px}.feed__header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;position:sticky;top:0;background-color:#a2dae0;font-size:20px;font-weight:500;color:#fff;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.feed__header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.feed__header-room[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#3f51b5}"]}),n})(),FF=(()=>{class n{constructor(e,i,o){this.roomChanged=e,this.chatService=i,this.snackBar=o}ngOnInit(){this.subscription=this.roomChanged.data$.subscribe(e=>{this.room=e})}sendMessage(){var e;""!==this.message?(this.chatService.sendMessage(this.message,(null===(e=this.room)||void 0===e?void 0:e.key)||""),this.message=null):this.snackBar.open("This message is empty, please write something","",{panelClass:"empty-message"})}handleMessage(e){13===e.keyCode&&this.sendMessage()}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(HT),c.Y36(x0),c.Y36(CM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-form"]],decls:5,vars:1,consts:[[1,"form"],[1,"form__input"],["rows","4",3,"ngModel","ngModelChange","keydown"],[3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"textarea",2),c.NdJ("ngModelChange",function(l){return i.message=l})("keydown",function(l){return i.handleMessage(l)}),c.qZA(),c.TgZ(3,"mat-icon",3),c.NdJ("click",function(){return i.sendMessage()}),c._uU(4,"send"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("ngModel",i.message))},directives:[qf,fv,R0,dv],styles:[".form[_ngcontent-%COMP%]{width:100%;height:10%;display:flex;align-items:flex-end}.form__input[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;border-top:6px solid rgba(214,243,235,.6);border-bottom:6px solid rgba(214,243,235,.6);background-color:#fff}.form__input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{outline:none;border:none;resize:none;width:95%}.form__input[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#3f51b5;height:40px;width:40px;font-size:40px;margin-right:10px}.form__input[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{color:#d6f3eb}"]}),n})(),LF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-create-room-dialog"]],decls:10,vars:2,consts:[[1,"dialog"],["matInput","","type","text",3,"ngModel","ngModelChange"],[1,"dialog__buttons"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h1"),c._uU(2,"Create new room"),c.qZA(),c.TgZ(3,"mat-form-field"),c.TgZ(4,"input",1),c.NdJ("ngModelChange",function(l){return i.roomName=l}),c.qZA(),c.qZA(),c.TgZ(5,"div",2),c.TgZ(6,"button",3),c._uU(7,"Create"),c.qZA(),c.TgZ(8,"button",4),c._uU(9,"Close"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Q6J("ngModel",i.roomName),c.xp6(2),c.Q6J("mat-dialog-close",i.roomName))},directives:[fT,LT,qf,fv,R0,f0,TF],styles:[".dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:100%;width:100%}.dialog__buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.dialog__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-right:20px}"]}),n})();function BF(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",7),c.NdJ("click",function(){const l=c.CHM(e).$implicit;return c.oxw().changeRoom(l)}),c.TgZ(1,"span",8),c._uU(2),c.qZA(),c.qZA()}if(2&n){const e=t.$implicit;c.xp6(2),c.Oqu(null==e?null:e.roomName)}}let VF=(()=>{class n{constructor(e,i,o){this.chatService=e,this.dialog=i,this.roomChanged=o}ngOnInit(){this.getRooms()}getRooms(){this.chatService.getRooms().subscribe(e=>{this.rooms=e,this.changeRoom(this.rooms[0])})}openCreateDialog(){this.dialog.open(LF,{width:"400px",height:"300px"}).afterClosed().subscribe(i=>{void 0!==i&&this.chatService.createRoom(i)})}changeRoom(e){this.roomChanged.changeRoom(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(x0),c.Y36(UT),c.Y36(HT))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-rooms"]],decls:11,vars:1,consts:[[1,"rooms"],[1,"rooms__header"],[1,"rooms__header-text"],[1,""],["matTooltip","Click to create new room",3,"click"],[1,"rooms__content"],["class","rooms__item",3,"click",4,"ngFor","ngForOf"],[1,"rooms__item",3,"click"],[1,"rooms__item-name"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"span",2),c.TgZ(3,"mat-icon",3),c._uU(4,"source"),c.qZA(),c._uU(5," Rooms "),c.qZA(),c.TgZ(6,"mat-icon",4),c.NdJ("click",function(){return i.openCreateDialog()}),c._uU(7,"add_box"),c.qZA(),c.qZA(),c.TgZ(8,"div",5),c.ynx(9),c.YNc(10,BF,3,1,"div",6),c.BQk(),c.qZA(),c.qZA()),2&e&&(c.xp6(10),c.Q6J("ngForOf",i.rooms))},directives:[dv,aF,hn],styles:[".rooms[_ngcontent-%COMP%]{height:80vh;width:100%;border-radius:0 4px 4px 0;background-color:#021cbd80;overflow:auto;scrollbar-width:none}.rooms[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.rooms__content[_ngcontent-%COMP%]{padding:25px 15px}.rooms__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:15px;position:sticky;top:0;background-color:#3f51b5;font-size:20px;font-weight:500;color:#fff;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.rooms__header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;margin-right:10px}.rooms__item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;padding:10px;margin-bottom:15px;background-color:#fff;color:#202020;border-radius:4px;justify-content:center;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.rooms__item-name[_ngcontent-%COMP%]{font-weight:500;font-size:1.2rem}.rooms__item[_ngcontent-%COMP%]:hover{background-color:#a2dae0;color:#202020}"]}),n})(),UF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-room"]],decls:9,vars:0,consts:[[1,"container"],[1,"row"],[1,"col","col__3"],[1,"col","col__6"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"app-chat-users"),c.qZA(),c.TgZ(4,"div",3),c._UZ(5,"app-chat-feed"),c._UZ(6,"app-chat-form"),c.qZA(),c.TgZ(7,"div",2),c._UZ(8,"app-chat-rooms"),c.qZA(),c.qZA(),c.qZA())},directives:[RF,NF,FF,VF],styles:[""]}),n})();function jF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"This field is required"),c.qZA())}function HF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"Wrong format"),c.qZA())}function $F(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"This field is required"),c.qZA())}function zF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"At least 8 characters"),c.qZA())}let GF=(()=>{class n{constructor(e,i){this.formBuilder=e,this.authService=i}ngOnInit(){this.buildLoginForm()}buildLoginForm(){this.loginForm=this.formBuilder.group({email:["",[qo.required,qo.email]],password:["",[qo.required,qo.minLength(8)]]})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}login(){this.authService.login(this.loginForm.value)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(QR),c.Y36(Rf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:24,vars:6,consts:[[1,"container"],[1,"row"],[1,"col","col__4","login"],["src","assets/logo_dark.png","alt","logo"],[1,"login__form"],[3,"formGroup"],["matInput","","type","text","placeholder","Email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["align","end"],["mat-raised-button","","color","primary",3,"click"],["href","/register"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.TgZ(4,"h2"),c._uU(5,"Please, log in to start chating"),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"form",5),c.TgZ(8,"mat-form-field"),c._UZ(9,"input",6),c.YNc(10,jF,2,0,"mat-error",7),c.YNc(11,HF,2,0,"mat-error",7),c.qZA(),c.TgZ(12,"mat-form-field"),c._UZ(13,"input",8),c.YNc(14,$F,2,0,"mat-error",7),c.YNc(15,zF,2,0,"mat-error",7),c.TgZ(16,"mat-hint",9),c._uU(17),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"button",10),c.NdJ("click",function(){return i.login()}),c._uU(19,"Log in"),c.qZA(),c.TgZ(20,"span"),c._uU(21," If you don't have an account, please "),c.TgZ(22,"a",11),c._uU(23,"Register"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Q6J("formGroup",i.loginForm),c.xp6(3),c.Q6J("ngIf",(null==i.email?null:i.email.dirty)&&(null==i.email?null:i.email.hasError("required"))),c.xp6(1),c.Q6J("ngIf",(null==i.email?null:i.email.dirty)&&(null==i.email?null:i.email.hasError("email"))),c.xp6(3),c.Q6J("ngIf",(null==i.password?null:i.password.dirty)&&(null==i.password?null:i.password.hasError("required"))),c.xp6(1),c.Q6J("ngIf",(null==i.password?null:i.password.dirty)&&(null==i.password?null:i.password.hasError("minlength"))),c.xp6(2),c.hij("",null==i.password?null:i.password.value.length,"/8"))},directives:[RT,_T,um,fT,LT,qf,fv,O0,yn,VM,jM,f0],styles:[""]}),n})(),WF=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.getUser().subscribe(e=>{this.user=e})}signOut(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Rf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:11,vars:1,consts:[["color","primary",1,"header"],[1,"header__logo"],["src","/src/assets/logo_light.png","alt",""],[1,"header__content"],[1,"header__icon"],[1,"header__icon",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"mat-toolbar",0),c.TgZ(1,"div",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",3),c.TgZ(4,"mat-icon",4),c._uU(5,"account_circle"),c.qZA(),c._uU(6),c.qZA(),c.TgZ(7,"div",3),c.TgZ(8,"mat-icon",5),c.NdJ("click",function(){return i.signOut()}),c._uU(9,"exit_to_app"),c.qZA(),c._uU(10," Sign out "),c.qZA(),c.qZA()),2&e&&(c.xp6(6),c.hij(" Hello, ",null==i.user?null:i.user.email," "))},directives:[pF,dv],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:50px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.header__logo[_ngcontent-%COMP%]{display:flex;width:60px}.header__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px}.header__icon[_ngcontent-%COMP%]{cursor:pointer;font-size:35px;width:35px;height:35px;margin-right:10px}.header__content[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),n})(),qF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],decls:2,vars:0,template:function(e,i){1&e&&(c._UZ(0,"app-header"),c._UZ(1,"router-outlet"))},directives:[WF,mc],styles:[""]}),n})();function ZF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"This field is required!"),c.qZA())}function YF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"Wrong format!"),c.qZA())}function KF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"This field is required!"),c.qZA())}function QF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"Minimum 8 characters"),c.qZA())}function XF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"This field is required!"),c.qZA())}function JF(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"Minimum 3 characters"),c.qZA())}function eL(n,t){1&n&&(c.TgZ(0,"mat-error"),c._uU(1,"Maximum 15 characters"),c.qZA())}const tL=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:GF},{path:"register",component:(()=>{class n{constructor(e,i){this.authService=e,this.formBuilder=i}ngOnInit(){this.buildRegisterForm()}buildRegisterForm(){this.registerForm=this.formBuilder.group({email:["",[qo.required,qo.email]],password:["",[qo.required,qo.minLength(8)]],displayName:["",[qo.required,qo.minLength(3),qo.maxLength(15)]]})}get email(){return this.registerForm.get("email")}get displayName(){return this.registerForm.get("displayName")}get password(){return this.registerForm.get("password")}register(){this.authService.register(this.registerForm.value)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Rf),c.Y36(QR))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:29,vars:9,consts:[[1,"container"],[1,"row"],[1,"col","col__4","login"],["src","assets/logo_dark.png","alt","logo"],[1,"login__form"],[3,"formGroup"],["matInput","","type","text","placeholder","Email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["align","end"],["matInput","","type","text","placeholder","User name","formControlName","displayName"],["mat-raised-button","","color","primary",3,"click"],["href","/login"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.TgZ(4,"h2"),c._uU(5,"Please, sign up to start chating"),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"form",5),c.TgZ(8,"mat-form-field"),c._UZ(9,"input",6),c.YNc(10,ZF,2,0,"mat-error",7),c.YNc(11,YF,2,0,"mat-error",7),c.qZA(),c.TgZ(12,"mat-form-field"),c._UZ(13,"input",8),c.YNc(14,KF,2,0,"mat-error",7),c.YNc(15,QF,2,0,"mat-error",7),c.TgZ(16,"mat-hint",9),c._uU(17),c.qZA(),c.qZA(),c.TgZ(18,"mat-form-field"),c._UZ(19,"input",10),c.YNc(20,XF,2,0,"mat-error",7),c.YNc(21,JF,2,0,"mat-error",7),c.YNc(22,eL,2,0,"mat-error",7),c.qZA(),c.qZA(),c.TgZ(23,"button",11),c.NdJ("click",function(){return i.register()}),c._uU(24,"Sign up"),c.qZA(),c.TgZ(25,"span"),c._uU(26," If you already have an account, please "),c.TgZ(27,"a",12),c._uU(28,"Log in"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Q6J("formGroup",i.registerForm),c.xp6(3),c.Q6J("ngIf",(null==i.email?null:i.email.dirty)&&(null==i.email?null:i.email.hasError("required"))),c.xp6(1),c.Q6J("ngIf",(null==i.email?null:i.email.dirty)&&(null==i.email?null:i.email.hasError("email"))),c.xp6(3),c.Q6J("ngIf",(null==i.password?null:i.password.dirty)&&(null==i.password?null:i.password.hasError("required"))),c.xp6(1),c.Q6J("ngIf",(null==i.password?null:i.password.dirty)&&(null==i.password?null:i.password.hasError("minlength"))),c.xp6(2),c.hij("",null==i.password?null:i.password.value.length,"/8"),c.xp6(3),c.Q6J("ngIf",(null==i.displayName?null:i.displayName.dirty)&&(null==i.displayName?null:i.displayName.hasError("required"))),c.xp6(1),c.Q6J("ngIf",(null==i.displayName?null:i.displayName.dirty)&&(null==i.displayName?null:i.displayName.hasError("minlength"))),c.xp6(1),c.Q6J("ngIf",(null==i.displayName?null:i.displayName.dirty)&&(null==i.displayName?null:i.displayName.hasError("maxlength"))))},directives:[RT,_T,um,fT,LT,qf,fv,O0,yn,VM,jM,f0],styles:[""]}),n})()},{path:"chat",component:qF,canActivate:[wM],children:[{path:"",component:UF}]}];let nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ye.forRoot(tL)],Ye]}),n})(),iL=(()=>{class n{constructor(){this.title="ChatApp"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:[mc],styles:[""]}),n})();const cO_firebase={apiKey:"AIzaSyDvmtSxCHFl2njNNxlAss3zpxOqaVSMjhk",authDomain:"chatapp-f90f2.firebaseapp.com",databaseURL:"https://chatapp-f90f2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chatapp-f90f2",storageBucket:"chatapp-f90f2.appspot.com",messagingSenderId:"469018932087",appId:"1:469018932087:web:96d31d2c314eee1fcfa772",measurementId:"G-02D3XF0J6M"};let rL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ki,jT,YR]]}),n})(),sL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ki,Ye,jT,YR,KR]]}),n})(),oL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[iL]}),n.\u0275inj=c.cJS({providers:[wM],imports:[[sL,rL,Ja,nL,DS,Uy,Is.hO.initializeApp(cO_firebase),kk,jT,Ye]]}),n})();(0,c.G48)(),To().bootstrapModule(oL).catch(n=>console.error(n))},5867:($e,me,P)=>{P.d(me,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=P(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:($e,me,P)=>{P.d(me,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8125:($e,me,P)=>{P.r(me);var c=P(5861),ee=P(3942),N=P(2090),ce=P(9681);function ue(_,f){var p={};for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&f.indexOf(v)<0&&(p[v]=_[v]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(v=Object.getOwnPropertySymbols(_);I<v.length;I++)f.indexOf(v[I])<0&&Object.prototype.propertyIsEnumerable.call(_,v[I])&&(p[v[I]]=_[v[I]])}return p}var ae=P(1877),at=P(4859);const Yt=function $t(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ni=function jn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ci=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xr=new ae.Yd("@firebase/auth");function hi(_,...f){xr.logLevel<=ae.in.ERROR&&xr.error(`Auth (${ce.SDK_VERSION}): ${_}`,...f)}function Ut(_,...f){throw si(_,...f)}function mn(_,...f){return si(_,...f)}function kr(_,f,p){const v=Object.assign(Object.assign({},Ni()),{[f]:p});return new N.LL("auth","Firebase",v).create(f,{appName:_.name})}function Fi(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Ut(_,"argument-error"),kr(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function si(_,...f){if("string"!=typeof _){const p=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(p,...v)}return Ci.create(_,...f)}function Oe(_,f,...p){if(!_)throw si(f,...p)}function et(_){const f="INTERNAL ASSERTION FAILED: "+_;throw hi(f),new Error(f)}function In(_,f){_||et(f)}const _n=new Map;function jt(_){In(_ instanceof Function,"Expected a class definition");let f=_n.get(_);return f?(In(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,_n.set(_,f),f)}function Hn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function dn(){return"http:"===wi()||"https:"===wi()}function wi(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Xe{constructor(f,p){this.shortDelay=f,this.longDelay=p,In(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Zo(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(_,f){In(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class ns{static initialize(f,p,v){this.fetchImpl=f,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},At=new Xe(3e4,6e4);function rn(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Bt(_,f,p,v){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(_,f,p,v,I={}){return j(_,I,(0,c.Z)(function*(){let M={},U={};v&&("GET"===f?U=v:M={body:JSON.stringify(v)});const ne=(0,N.xO)(Object.assign({key:_.config.apiKey},U)).slice(1),ke=yield _._getAdditionalHeaders();return ke["Content-Type"]="application/json",_.languageCode&&(ke["X-Firebase-Locale"]=_.languageCode),ns.fetch()(G(_,_.config.apiHost,p,ne),Object.assign({method:f,headers:ke,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function j(_,f,p){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(_,f,p){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},pr),f);try{const I=new te(_),M=yield Promise.race([p(),I.promise]);I.clearNetworkTimeout();const U=yield M.json();if("needConfirmation"in U)throw Te(_,"account-exists-with-different-credential",U);if(M.ok&&!("errorMessage"in U))return U;{const ne=M.ok?U.errorMessage:U.error.message,[ke,Se]=ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw Te(_,"credential-already-in-use",U);if("EMAIL_EXISTS"===ke)throw Te(_,"email-already-in-use",U);if("USER_DISABLED"===ke)throw Te(_,"user-disabled",U);const We=v[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw kr(_,We,Se);Ut(_,We)}}catch(I){if(I instanceof N.ZR)throw I;Ut(_,"network-request-failed")}})).apply(this,arguments)}function Y(_,f,p,v){return be.apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(_,f,p,v,I={}){const M=yield Bt(_,f,p,v,I);return"mfaPendingCredential"in M&&Ut(_,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function G(_,f,p,v){const I=`${f}${p}?${v}`;return _.config.emulator?st(_.config,I):`${_.config.apiScheme}://${I}`}class te{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(mn(this.auth,"network-request-failed")),At.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Te(_,f,p){const v={appName:_.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const I=mn(_,f,v);return I.customData._tokenResponse=p,I}function ut(){return(ut=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Ct(_,f){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function yt(_,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ii(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ga(){return(Ga=(0,c.Z)(function*(_,f=!1){const p=(0,N.m9)(_),v=yield p.getIdToken(f),I=Tn(v);Oe(I&&I.exp&&I.auth_time&&I.iat,p.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,U=null==M?void 0:M.sign_in_provider;return{claims:I,token:v,authTime:Ii(go(I.auth_time)),issuedAtTime:Ii(go(I.iat)),expirationTime:Ii(go(I.exp)),signInProvider:U||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function go(_){return 1e3*Number(_)}function Tn(_){const[f,p,v]=_.split(".");if(void 0===f||void 0===p||void 0===v)return hi("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,N.tV)(p);return I?JSON.parse(I):(hi("Failed to decode base64 JWT payload"),null)}catch(I){return hi("Caught error parsing JWT payload as JSON",I),null}}function Yn(_,f){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(v){throw v instanceof N.ZR&&is(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function is({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ru{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const I=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class rs{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ii(this.lastLoginAt),this.creationTime=Ii(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(_){var f;const p=_.auth,v=yield _.getIdToken(),I=yield Yn(_,yt(p,{idToken:v}));Oe(null==I?void 0:I.users.length,p,"internal-error");const M=I.users[0];_._notifyReloadListener(M);const U=(null===(f=M.providerUserInfo)||void 0===f?void 0:f.length)?je(M.providerUserInfo):[],ne=Ti(_.providerData,U),We=!!_.isAnonymous&&!(_.email&&M.passwordHash||(null==ne?void 0:ne.length)),Ye={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ne,metadata:new rs(M.createdAt,M.lastLoginAt),isAnonymous:We};Object.assign(_,Ye)})).apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(_){const f=(0,N.m9)(_);yield Pr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ti(_,f){return[..._.filter(v=>!f.some(I=>I.providerId===v.providerId)),...f]}function je(_){return _.map(f=>{var{providerId:p}=f,v=ue(f,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function zt(){return(zt=(0,c.Z)(function*(_,f){const p=yield j(_,{},(0,c.Z)(function*(){const v=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:M}=_.config,U=G(_,I,"/v1/token",`key=${M}`),ne=yield _._getAdditionalHeaders();return ne["Content-Type"]="application/x-www-form-urlencoded",ns.fetch()(U,{method:"POST",headers:ne,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Oe(f.idToken,"internal-error"),Oe(void 0!==f.idToken,"internal-error"),Oe(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function gr(_){const f=Tn(_);return Oe(f,"internal-error"),Oe(void 0!==f.exp,"internal-error"),Oe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var v=this;return(0,c.Z)(function*(){return Oe(!v.accessToken||v.refreshToken,f,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var v=this;return(0,c.Z)(function*(){const{accessToken:I,refreshToken:M,expiresIn:U}=yield function Dt(_,f){return zt.apply(this,arguments)}(f,p);v.updateTokensAndExpiration(I,M,Number(U))})()}updateTokensAndExpiration(f,p,v){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,p){const{refreshToken:v,accessToken:I,expirationTime:M}=p,U=new $n;return v&&(Oe("string"==typeof v,"internal-error",{appName:f}),U.refreshToken=v),I&&(Oe("string"==typeof I,"internal-error",{appName:f}),U.accessToken=I),M&&(Oe("number"==typeof M,"internal-error",{appName:f}),U.expirationTime=M),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return et("not implemented")}}function Qn(_,f){Oe("string"==typeof _||void 0===_,"internal-error",{appName:f})}class sn{constructor(f){var{uid:p,auth:v,stsTokenManager:I}=f,M=ue(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ru(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new rs(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const v=yield Yn(p,p.stsTokenManager.getToken(p.auth,f));return Oe(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(f){return function za(_){return Ga.apply(this,arguments)}(this,f)}reload(){return function Kn(_){return Fs.apply(this,arguments)}(this)}_assign(f){this!==f&&(Oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new sn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var v=this;return(0,c.Z)(function*(){let I=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),I=!0),p&&(yield Pr(v)),yield v.auth._persistUserIfCurrent(v),I&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield Yn(f,function Ze(_,f){return ut.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var v,I,M,U,ne,ke,Se,We;const Ye=null!==(v=p.displayName)&&void 0!==v?v:void 0,Mt=null!==(I=p.email)&&void 0!==I?I:void 0,qn=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,eo=null!==(U=p.photoURL)&&void 0!==U?U:void 0,Sa=null!==(ne=p.tenantId)&&void 0!==ne?ne:void 0,Xu=null!==(ke=p._redirectEventId)&&void 0!==ke?ke:void 0,Mc=null!==(Se=p.createdAt)&&void 0!==Se?Se:void 0,Rc=null!==(We=p.lastLoginAt)&&void 0!==We?We:void 0,{uid:Cl,emailVerified:Ju,isAnonymous:Oh,providerData:wl,stsTokenManager:Dl}=p;Oe(Cl&&Dl,f,"internal-error");const Iv=$n.fromJSON(this.name,Dl);Oe("string"==typeof Cl,f,"internal-error"),Qn(Ye,f.name),Qn(Mt,f.name),Oe("boolean"==typeof Ju,f,"internal-error"),Oe("boolean"==typeof Oh,f,"internal-error"),Qn(qn,f.name),Qn(eo,f.name),Qn(Sa,f.name),Qn(Xu,f.name),Qn(Mc,f.name),Qn(Rc,f.name);const Aa=new sn({uid:Cl,auth:f,email:Mt,emailVerified:Ju,displayName:Ye,isAnonymous:Oh,photoURL:eo,phoneNumber:qn,tenantId:Sa,stsTokenManager:Iv,createdAt:Mc,lastLoginAt:Rc});return wl&&Array.isArray(wl)&&(Aa.providerData=wl.map(Oc=>Object.assign({},Oc))),Xu&&(Aa._redirectEventId=Xu),Aa}static _fromIdTokenResponse(f,p,v=!1){return(0,c.Z)(function*(){const I=new $n;I.updateFromServerResponse(p);const M=new sn({uid:p.localId,auth:f,stsTokenManager:I,isAnonymous:v});return yield Pr(M),M})()}}const Ht=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,v){var I=this;return(0,c.Z)(function*(){I.storage[p]=v})()}_get(p){var v=this;return(0,c.Z)(function*(){const I=v.storage[p];return void 0===I?null:I})()}_remove(p){var v=this;return(0,c.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return _.type="NONE",_})();function Li(_,f,p){return`firebase:${_}:${f}:${p}`}class an{constructor(f,p,v){this.persistence=f,this.auth=p,this.userKey=v;const{config:I,name:M}=this.auth;this.fullUserKey=Li(this.userKey,I.apiKey,M),this.fullPersistenceKey=Li("persistence",I.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?sn._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,v="authUser"){return(0,c.Z)(function*(){if(!p.length)return new an(jt(Ht),f,v);const I=(yield Promise.all(p.map(function(){var Se=(0,c.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let M=I[0]||jt(Ht);const U=Li(v,f.config.apiKey,f.name);let ne=null;for(const Se of p)try{const We=yield Se._get(U);if(We){const Ye=sn._fromJSON(f,We);Se!==M&&(ne=Ye),M=Se;break}}catch(We){}const ke=I.filter(Se=>Se._shouldAllowMigration);return M._shouldAllowMigration&&ke.length?(M=ke[0],ne&&(yield M._set(U,ne.toJSON())),yield Promise.all(p.map(function(){var Se=(0,c.Z)(function*(We){if(We!==M)try{yield We._remove(U)}catch(Ye){}});return function(We){return Se.apply(this,arguments)}}())),new an(M,f,v)):new an(M,f,v)})()}}function bt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ls(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Yo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(mo(f))return"Blackberry";if(_o(f))return"Webos";if(mr(f))return"Safari";if((f.includes("chrome/")||Ko(f))&&!f.includes("edge/"))return"Chrome";if(hn(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Yo(_=(0,N.z$)()){return/firefox\//i.test(_)}function mr(_=(0,N.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ko(_=(0,N.z$)()){return/crios\//i.test(_)}function Ls(_=(0,N.z$)()){return/iemobile/i.test(_)}function hn(_=(0,N.z$)()){return/android/i.test(_)}function mo(_=(0,N.z$)()){return/blackberry/i.test(_)}function _o(_=(0,N.z$)()){return/webos/i.test(_)}function yn(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)}function Si(_=(0,N.z$)()){return yn(_)||hn(_)||_o(_)||mo(_)||/windows phone/i.test(_)||Ls(_)}function $l(_,f=[]){let p;switch(_){case"Browser":p=bt((0,N.z$)());break;case"Worker":p=`${bt((0,N.z$)())}-${_}`;break;default:p=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ce.SDK_VERSION}/${v}`}class ou{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const v=M=>new Promise((U,ne)=>{try{U(f(M))}catch(ke){ne(ke)}});v.onAbort=p,this.queue.push(v);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){if(p.auth.currentUser===f)return;const v=[];try{for(const I of p.queue)yield I(f),I.onAbort&&v.push(I.onAbort)}catch(I){v.reverse();for(const M of v)try{M()}catch(U){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:I.message})}})()}}class os{constructor(f,p,v){this.app=f,this.heartbeatServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new au(this),this.idTokenSubscription=new au(this),this.beforeStateQueue=new ou(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ci,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,p){var v=this;return p&&(this._popupRedirectResolver=jt(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var I,M;if(!v._deleted&&(v.persistenceManager=yield an.create(v,f),!v._deleted)){if(null===(I=v._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(U){}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var v;const I=yield p.assertedPersistence.getCurrentUser();let M=I,U=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ne=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,ke=null==M?void 0:M._redirectEventId,Se=yield p.tryRedirectSignIn(f);(!ne||ne===ke)&&(null==Se?void 0:Se.user)&&(M=Se.user,U=!0)}if(!M)return p.directlySetCurrentUser(null);if(!M._redirectEventId){if(U)try{yield p.beforeStateQueue.runMiddleware(M)}catch(ne){M=I,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ne))}return M?p.reloadAndSetCurrentUserOrClear(M):p.directlySetCurrentUser(null)}return Oe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===M._redirectEventId?p.directlySetCurrentUser(M):p.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(I){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){try{yield Pr(f)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Lt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const v=f?(0,N.m9)(f):null;return v&&Oe(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(f,p=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&Oe(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),p||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(jt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,p,v){return this.registerStateListener(this.authStateSubscription,f,p,v)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,v){return this.registerStateListener(this.idTokenSubscription,f,p,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var v=this;return(0,c.Z)(function*(){const I=yield v.getOrInitRedirectPersistenceManager(p);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const v=f&&jt(f)||p._popupRedirectResolver;Oe(v,p,"argument-error"),p.redirectPersistenceManager=yield an.create(p,[jt(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var v,I;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===f?p._currentUser:(null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,v,I){if(this._deleted)return()=>{};const M="function"==typeof p?p:p.next.bind(p),U=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(U,this,"internal-error"),U.then(()=>M(this.currentUser)),"function"==typeof p?f.addObserver(p,v,I):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=$l(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const I=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return I&&(v["X-Firebase-Client"]=I),v})()}}function Qt(_){return(0,N.m9)(_)}class au{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qd(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Xd(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Xo{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return et("not implemented")}_getIdTokenResponse(f){return et("not implemented")}_linkToIdToken(f,p){return et("not implemented")}_getReauthenticationResolver(f){return et("not implemented")}}function Jd(_,f){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:resetPassword",rn(_,f))})).apply(this,arguments)}function eh(_,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function yo(_,f){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:update",rn(_,f))})).apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signInWithPassword",rn(_,f))})).apply(this,arguments)}function Gl(_,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:sendOobCode",rn(_,f))})).apply(this,arguments)}function ep(_,f){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(_,f){return Gl(_,f)})).apply(this,arguments)}function ea(_,f){return du.apply(this,arguments)}function du(){return(du=(0,c.Z)(function*(_,f){return Gl(_,f)})).apply(this,arguments)}function ql(_,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(_,f){return Gl(_,f)})).apply(this,arguments)}function Bs(_,f){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(_,f){return Gl(_,f)})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signInWithEmailLink",rn(_,f))})).apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signInWithEmailLink",rn(_,f))})).apply(this,arguments)}class Ki extends Xo{constructor(f,p,v,I=null){super("password",v),this._email=f,this._password=p,this._tenantId=I}static _fromEmailAndPassword(f,p){return new Ki(f,p,"password")}static _fromEmailAndCode(f,p,v=null){return new Ki(f,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function Jf(_,f){return cu.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function ta(_,f){return Vs.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Ut(f,"internal-error")}})()}_linkToIdToken(f,p){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return eh(f,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function th(_,f){return fu.apply(this,arguments)}(f,{idToken:p,email:v._email,oobCode:v._password});default:Ut(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _r(_,f){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signInWithIdp",rn(_,f))})).apply(this,arguments)}class yr extends Xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new yr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Ut("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:I}=p,M=ue(p,["providerId","signInMethod"]);if(!v||!I)return null;const U=new yr(v,I);return U.idToken=M.idToken||void 0,U.accessToken=M.accessToken||void 0,U.secret=M.secret,U.nonce=M.nonce,U.pendingToken=M.pendingToken||null,U}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,_r(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,_r(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,N.xO)(p)}return f}}function pi(_,f){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:sendVerificationCode",rn(_,f))})).apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signInWithPhoneNumber",rn(_,f))})).apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(_,f){const p=yield Y(_,"POST","/v1/accounts:signInWithPhoneNumber",rn(_,f));if(p.temporaryProof)throw Te(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const tp={USER_NOT_FOUND:"user-not-found"};function vr(){return(vr=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signInWithPhoneNumber",rn(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),tp)})).apply(this,arguments)}class ls extends Xo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new ls({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new ls({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function pu(_,f){return Za.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function gu(_,f){return na.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function fn(_,f){return vr.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:v,verificationCode:I}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:v,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:v,phoneNumber:I,temporaryProof:M}=f;return v||p||I||M?new ls({verificationId:p,verificationCode:v,phoneNumber:I,temporaryProof:M}):null}}class cs{constructor(f){var p,v,I,M,U,ne;const ke=(0,N.zd)((0,N.pd)(f)),Se=null!==(p=ke.apiKey)&&void 0!==p?p:null,We=null!==(v=ke.oobCode)&&void 0!==v?v:null,Ye=function vn(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=ke.mode)&&void 0!==I?I:null);Oe(Se&&We&&Ye,"argument-error"),this.apiKey=Se,this.operation=Ye,this.code=We,this.continueUrl=null!==(M=ke.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(U=ke.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(ne=ke.tenantId)&&void 0!==ne?ne:null}static parseLink(f){const p=function mu(_){const f=(0,N.zd)((0,N.pd)(_)).link,p=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,v=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(v?(0,N.zd)((0,N.pd)(v)).link:null)||v||p||f||_}(f);try{return new cs(p)}catch(v){return null}}}let Xn=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,v){return Ki._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const I=cs.parseLink(v);return Oe(I,"argument-error"),Ki._fromEmailAndCode(p,I.code,I.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Bi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class br extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class gi extends br{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Oe("providerId"in p&&"signInMethod"in p,"argument-error"),yr._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Oe(f.idToken||f.accessToken,"argument-error"),yr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return gi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return gi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:I,pendingToken:M,nonce:U,providerId:ne}=f;if(!v&&!I&&!p&&!M||!ne)return null;try{return new gi(ne)._credential({idToken:p,accessToken:v,nonce:U,pendingToken:M})}catch(ke){return null}}}let mi=(()=>{class _ extends br{constructor(){super("facebook.com")}static credential(p){return yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Rn=(()=>{class _ extends br{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:I}=p;if(!v&&!I)return null;try{return _.credential(v,I)}catch(M){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),vo=(()=>{class _ extends br{constructor(){super("github.com")}static credential(p){return yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Jn extends Xo{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,_r(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,_r(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:I,pendingToken:M}=p;return v&&I&&M&&v===I?new Jn(v,M):null}static _create(f,p){return new Jn(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class us extends Bi{constructor(f){Oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return us.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return us.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Jn.fromJSON(f);return Oe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:v}=f;if(!p||!v)return null;try{return Jn._create(v,p)}catch(I){return null}}}let ot=(()=>{class _ extends br{constructor(){super("twitter.com")}static credential(p,v){return yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:I}=p;if(!v||!I)return null;try{return _.credential(v,I)}catch(M){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function js(_,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signUp",rn(_,f))})).apply(this,arguments)}class ei{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,v,I=!1){return(0,c.Z)(function*(){const M=yield sn._fromIdTokenResponse(f,v,I),U=ia(v);return new ei({user:M,providerId:U,_tokenResponse:v,operationType:p})})()}static _forOperation(f,p,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const I=ia(v);return new ei({user:f,providerId:I,_tokenResponse:v,operationType:p})})()}}function ia(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ya(){return(Ya=(0,c.Z)(function*(_){var f;const p=Qt(_);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new ei({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield js(p,{returnSecureToken:!0}),I=yield ei._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(I.user),I})).apply(this,arguments)}class Eo extends N.ZR{constructor(f,p,v,I){var M;super(p.code,p.message),this.operationType=v,this.user=I,Object.setPrototypeOf(this,Eo.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,p,v,I){return new Eo(f,p,v,I)}}function De(_,f,p,v){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Eo._fromErrorAndOperation(_,M,f,v):M})}function St(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function tn(){return(tn=(0,c.Z)(function*(_,f){const p=(0,N.m9)(_);yield ti(!0,p,f);const{providerUserInfo:v}=yield Ct(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),I=St(v||[]);return p.providerData=p.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Co(_,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(_,f,p=!1){const v=yield Yn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return ei._forOperation(_,"link",v)})).apply(this,arguments)}function ti(_,f,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(_,f,p){yield Pr(f);const I=!1===_?"provider-already-linked":"no-such-provider";Oe(St(f.providerData).has(p)===_,f.auth,I)})).apply(this,arguments)}function Ka(_,f){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(_,f,p=!1){const{auth:v}=_,I="reauthenticate";try{const M=yield Yn(_,De(v,I,f,_),p);Oe(M.idToken,v,"internal-error");const U=Tn(M.idToken);Oe(U,v,"internal-error");const{sub:ne}=U;return Oe(_.uid===ne,v,"user-mismatch"),ei._forOperation(_,I,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Ut(v,"user-mismatch"),M}})).apply(this,arguments)}function yu(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f,p=!1){const v="signIn",I=yield De(_,v,f),M=yield ei._fromIdTokenResponse(_,v,I);return p||(yield _._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Hs(_,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(_,f){return yu(Qt(_),f)})).apply(this,arguments)}function Xi(_,f){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(_,f){const p=(0,N.m9)(_);return yield ti(!1,p,f.providerId),Co(p,f)})).apply(this,arguments)}function Er(_,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(_,f){return Ka((0,N.m9)(_),f)})).apply(this,arguments)}function vu(_,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(_,f){return Y(_,"POST","/v1/accounts:signInWithCustomToken",rn(_,f))})).apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(_,f){const p=Qt(_),v=yield vu(p,{token:f,returnSecureToken:!0}),I=yield ei._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(I.user),I})).apply(this,arguments)}class Io{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?$s._fromServerResponse(f,p):Ut(f,"internal-error")}}class $s extends Io{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new $s(p)}}function To(_,f,p){var v;Oe((null===(v=p.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),Oe(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Oe(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Oe(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Ja(){return(Ja=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_),I={requestType:"PASSWORD_RESET",email:f};p&&To(v,I,p),yield ea(v,I)})).apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(_,f,p){yield Jd((0,N.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(_,f){yield yo((0,N.m9)(_),{oobCode:f})})).apply(this,arguments)}function el(_,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(_,f){const p=(0,N.m9)(_),v=yield Jd(p,{oobCode:f}),I=v.requestType;switch(Oe(I,p,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(v.mfaInfo,p,"internal-error");default:Oe(v.email,p,"internal-error")}let M=null;return v.mfaInfo&&(M=Io._fromServerResponse(Qt(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function bu(){return(bu=(0,c.Z)(function*(_,f){const{data:p}=yield el((0,N.m9)(_),f);return p.email})).apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(_,f,p){const v=Qt(_),I=yield js(v,{returnSecureToken:!0,email:f,password:p}),M=yield ei._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_),I={requestType:"EMAIL_SIGNIN",email:f};Oe(p.handleCodeInApp,v,"argument-error"),p&&To(v,I,p),yield ql(v,I)})).apply(this,arguments)}function sh(){return(sh=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_),I=Xn.credentialWithLink(f,p||Hn());return Oe(I._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Hs(v,I)})).apply(this,arguments)}function Eu(_,f){return oh.apply(this,arguments)}function oh(){return(oh=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:createAuthUri",rn(_,f))})).apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(_,f){const v={identifier:f,continueUri:dn()?Hn():"http://localhost"},{signinMethods:I}=yield Eu((0,N.m9)(_),v);return I||[]})).apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(_,f){const p=(0,N.m9)(_),I={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&To(p.auth,I,f);const{email:M}=yield ep(p.auth,I);M!==_.email&&(yield _.reload())})).apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&To(v.auth,M,p);const{email:U}=yield Bs(v.auth,M);U!==_.email&&(yield _.reload())})).apply(this,arguments)}function Br(_,f){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(_,f){return Bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const v=(0,N.m9)(_),M={idToken:yield v.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},U=yield Yn(v,Br(v.auth,M));v.displayName=U.displayName||null,v.photoURL=U.photoUrl||null;const ne=v.providerData.find(({providerId:ke})=>"password"===ke);ne&&(ne.displayName=v.displayName,ne.photoURL=v.photoURL),yield v._updateTokensIfNecessary(U)})).apply(this,arguments)}function Jl(_,f,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(_,f,p){const{auth:v}=_,M={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(M.email=f),p&&(M.password=p);const U=yield Yn(_,eh(v,M));yield _._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class Ao{constructor(f,p,v={}){this.isNewUser=f,this.providerId=p,this.profile=v}}class sl extends Ao{constructor(f,p,v,I){super(f,p,v),this.username=I}}class oi extends Ao{constructor(f,p){super(f,"facebook.com",p)}}class lt extends sl{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Ft extends Ao{constructor(f,p){super(f,"google.com",p)}}class xn extends sl{constructor(f,p,v){super(f,"twitter.com",p,v)}}function fs(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Iu(_){var f,p;if(!_)return null;const{providerId:v}=_,I=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},M=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const U=null===(p=null===(f=Tn(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(U)return new Ao(M,"anonymous"!==U&&"custom"!==U?U:null)}if(!v)return null;switch(v){case"facebook.com":return new oi(M,I);case"github.com":return new lt(M,I);case"google.com":return new Ft(M,I);case"twitter.com":return new xn(M,I,_.screenName||null);case"custom":case"anonymous":return new Ao(M,null);default:return new Ao(M,v,I)}}(p)}class zs{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new zs("enroll",f)}static _fromMfaPendingCredential(f){return new zs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,v;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return zs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return zs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Vi{constructor(f,p,v){this.session=f,this.hints=p,this.signInResolver=v}static _fromError(f,p){const v=Qt(f),I=p.customData._serverResponse,M=(I.mfaInfo||[]).map(ne=>Io._fromServerResponse(v,ne));Oe(I.mfaPendingCredential,v,"internal-error");const U=zs._fromMfaPendingCredential(I.mfaPendingCredential);return new Vi(U,M,function(){var ne=(0,c.Z)(function*(ke){const Se=yield ke._process(v,U);delete I.mfaInfo,delete I.mfaPendingCredential;const We=Object.assign(Object.assign({},I),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(p.operationType){case"signIn":const Ye=yield ei._fromIdTokenResponse(v,p.operationType,We);return yield v._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return Oe(p.user,v,"internal-error"),ei._forOperation(p.user,p.operationType,We);default:Ut(v,"internal-error")}});return function(ke){return ne.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function nc(_,f){return Bt(_,"POST","/v2/accounts/mfaEnrollment:start",rn(_,f))}class ln{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Io._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new ln(f)}getSession(){var f=this;return(0,c.Z)(function*(){return zs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var v=this;return(0,c.Z)(function*(){const I=f,M=yield v.getSession(),U=yield Yn(v.user,I._process(v.user.auth,M,p));return yield v.user._updateTokensIfNecessary(U),v.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,I=yield p.user.getIdToken(),M=yield Yn(p.user,function da(_,f){return Bt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",rn(_,f))}(p.user.auth,{idToken:I,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:U})=>U!==v),yield p.user._updateTokensIfNecessary(M);try{yield p.user.reload()}catch(U){if("auth/user-token-expired"!==U.code)throw U}})()}}const ol=new WeakMap,Ro="__sak";class ha{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ro,"1"),this.storage.removeItem(Ro),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vr=(()=>{class _ extends ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function al(){const _=(0,N.z$)();return mr(_)||yn(_)}()&&function Zi(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const I=this.storage.getItem(v),M=this.localCache[v];I!==M&&p(v,M,I)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((ne,ke,Se)=>{this.notifyListeners(ne,Se)});const I=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ne=this.storage.getItem(I);if(p.newValue!==ne)null!==p.newValue?this.storage.setItem(I,p.newValue):this.storage.removeItem(I);else if(this.localCache[I]===p.newValue&&!v)return}const M=()=>{const ne=this.storage.getItem(I);!v&&this.localCache[I]===ne||this.notifyListeners(I,ne)},U=this.storage.getItem(I);!function Qo(){return(0,N.w1)()&&10===document.documentMode}()||U===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,v){this.localCache[p]=v;const I=this.listeners[p];if(I)for(const M of Array.from(I))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var I=()=>super._set,M=this;return(0,c.Z)(function*(){yield I().call(M,p,v),M.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,I=this;return(0,c.Z)(function*(){const M=yield v().call(I,p);return I.localCache[p]=JSON.stringify(M),M})()}_remove(p){var v=()=>super._remove,I=this;return(0,c.Z)(function*(){yield v().call(I,p),delete I.localCache[p]})()}}return _.type="LOCAL",_})(),tr=(()=>{class _ extends ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return _.type="SESSION",_})();let Ws=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(M=>M.isListeningto(p));if(v)return v;const I=new _(p);return this.receivers.push(I),I}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,c.Z)(function*(){const I=p,{eventId:M,eventType:U,data:ne}=I.data,ke=v.handlersMap[U];if(!(null==ke?void 0:ke.size))return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:U});const Se=Array.from(ke).map(function(){var Ye=(0,c.Z)(function*(Mt){return Mt(I.origin,ne)});return function(Mt){return Ye.apply(this,arguments)}}()),We=yield function Ui(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return f.apply(this,arguments)}}()))}(Se);I.ports[0].postMessage({status:"done",eventId:M,eventType:U,response:We})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function on(_="",f=10){let p="";for(let v=0;v<f;v++)p+=Math.floor(10*Math.random());return _+p}class ll{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,v=50){var I=this;return(0,c.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let U,ne;return new Promise((ke,Se)=>{const We=on("",20);M.port1.start();const Ye=setTimeout(()=>{Se(new Error("unsupported_event"))},v);ne={messageChannel:M,onMessage(Mt){const qn=Mt;if(qn.data.eventId===We)switch(qn.data.status){case"ack":clearTimeout(Ye),U=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),ke(qn.data.response);break;default:clearTimeout(Ye),clearTimeout(U),Se(new Error("invalid_response"))}}},I.handlers.add(ne),M.port1.addEventListener("message",ne.onMessage),I.target.postMessage({eventType:f,eventId:We,data:p},[M.port2])}).finally(()=>{ne&&I.removeMessageHandler(ne)})})()}}function nn(){return window}function ai(){return void 0!==nn().WorkerGlobalScope&&"function"==typeof nn().importScripts}function Cr(){return(Cr=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Gn="firebaseLocalStorageDb",Ur="firebaseLocalStorage",pa="fbase_key";class cl{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Au(_,f){return _.transaction([Ur],f?"readwrite":"readonly").objectStore(Ur)}function ch(){const _=indexedDB.open(Gn,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Ur,{keyPath:pa})}catch(I){p(I)}}),_.addEventListener("success",(0,c.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Ur)?f(v):(v.close(),yield function ip(){const _=indexedDB.deleteDatabase(Gn);return new cl(_).toPromise()}(),f(yield ch()))}))})}function qs(_,f,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(_,f,p){const v=Au(_,!0).put({[pa]:f,value:p});return new cl(v).toPromise()})).apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(_,f){const p=Au(_,!1).get(f),v=yield new cl(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function _s(_,f){const p=Au(_,!0).delete(f);return new cl(p).toPromise()}const Wn=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield ch()),p.db})()}_withRetries(p){var v=this;return(0,c.Z)(function*(){let I=0;for(;;)try{const M=yield v._openDb();return yield p(M)}catch(M){if(I++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return ai()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Ws._getInstance(function wr(){return ai()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(I,M){return{keyProcessed:(yield p._poll()).includes(M.key)}});return function(I,M){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(I,M){return["keyChanged"]});return function(I,M){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var v,I;if(p.activeServiceWorker=yield function Su(){return Cr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ll(p.activeServiceWorker);const M=yield p.sender._send("ping",{},800);!M||(null===(v=M[0])||void 0===v?void 0:v.fulfilled)&&(null===(I=M[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Pn(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ch();return yield qs(p,Ro,"1"),yield _s(p,Ro),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(M=>qs(M,p,v)),I.localCache[p]=v,I.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,c.Z)(function*(){const I=yield v._withRetries(M=>function Hr(_,f){return pn.apply(this,arguments)}(M,p));return v.localCache[p]=I,I})()}_remove(p){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(I=>_s(I,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const v=yield p._withRetries(U=>{const ne=Au(U,!1).getAll();return new cl(ne).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const I=[],M=new Set;for(const{fbase_key:U,value:ne}of v)M.add(U),JSON.stringify(p.localCache[U])!==JSON.stringify(ne)&&(p.notifyListeners(U,ne),I.push(U));for(const U of Object.keys(p.localCache))p.localCache[U]&&!M.has(U)&&(p.notifyListeners(U,null),I.push(U));return I})()}notifyListeners(p,v){this.localCache[p]=v;const I=this.listeners[p];if(I)for(const M of Array.from(I))M(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function $r(_,f){return Bt(_,"POST","/v2/accounts/mfaSignIn:start",rn(_,f))}function ys(){return(ys=(0,c.Z)(function*(_){return(yield Bt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ru(_){return new Promise((f,p)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=I=>{const M=mn("internal-error");M.customData=I,p(M)},v.type="text/javascript",v.charset="UTF-8",function ic(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function dl(_){return`__${_}${Math.floor(1e6*Math.random())}`}const vs=1e12;class it{constructor(f){this.auth=f,this.counter=vs,this._widgets=new Map}render(f,p){const v=this.counter;return this._widgets.set(v,new ga(f,this.auth.name,p||{})),this.counter++,v}reset(f){var p;const v=f||vs;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(f){var p;return(null===(p=this._widgets.get(f||vs))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var v;return null===(v=p._widgets.get(f||vs))||void 0===v||v.execute(),""})()}}class ga{constructor(f,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;Oe(I,"argument-error",{appName:p}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ai(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ku=dl("rcb"),rc=new Xe(3e4,6e4);class uh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!nn().grecaptcha}load(f,p=""){return Oe(function dh(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(nn().grecaptcha):new Promise((v,I)=>{const M=nn().setTimeout(()=>{I(mn(f,"network-request-failed"))},rc.get());nn()[ku]=()=>{nn().clearTimeout(M),delete nn()[ku];const ne=nn().grecaptcha;if(!ne)return void I(mn(f,"internal-error"));const ke=ne.render;ne.render=(Se,We)=>{const Ye=ke(Se,We);return this.counter++,Ye},this.hostLanguage=p,v(ne)},Ru(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:ku,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(M),I(mn(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!nn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class li{load(f){return(0,c.Z)(function*(){return new it(f)})()}clearedOneInstance(){}}const hl="recaptcha",sc={theme:"light",type:"image"};class fl{constructor(f,p=Object.assign({},sc),v){this.parameters=p,this.type=hl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(v),this.isInvisible="invisible"===this.parameters.size,Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;Oe(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new li:new uh,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(p)||new Promise(M=>{const U=ne=>{!ne||(f.tokenChangeListeners.delete(U),M(ne))};f.tokenChangeListeners.add(U),f.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof f)f(p);else if("string"==typeof f){const v=nn()[f];"function"==typeof v&&v(p)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Oe(dn()&&!ai(),f.auth,"internal-error"),yield function zr(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function ul(_){return ys.apply(this,arguments)}(f.auth);Oe(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vn{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=ls._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function pl(){return(pl=(0,c.Z)(function*(_,f,p){const v=Qt(_),I=yield _a(v,f,(0,N.m9)(p));return new Vn(I,M=>Hs(v,M))})).apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_);yield ti(!1,v,"phone");const I=yield _a(v.auth,f,(0,N.m9)(p));return new Vn(I,M=>Xi(v,M))})).apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_),I=yield _a(v.auth,f,(0,N.m9)(p));return new Vn(I,M=>Er(v,M))})).apply(this,arguments)}function _a(_,f,p){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(function*(_,f,p){var v;const I=yield p.verify();try{let M;if(Oe("string"==typeof I,_,"argument-error"),Oe(p.type===hl,_,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const U=M.session;if("phoneNumber"in M)return Oe("enroll"===U.type,_,"internal-error"),(yield nc(_,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{Oe("signin"===U.type,_,"internal-error");const ne=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return Oe(ne,_,"missing-multi-factor-info"),(yield $r(_,{mfaPendingCredential:U.credential,mfaEnrollmentId:ne,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield pi(_,{phoneNumber:M.phoneNumber,recaptchaToken:I});return U}}finally{p._reset()}})).apply(this,arguments)}function x(){return(x=(0,c.Z)(function*(_,f){yield Co((0,N.m9)(_),f)})).apply(this,arguments)}let B=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Qt(p)}verifyPhoneNumber(p,v){return _a(this.auth,p,(0,N.m9)(v))}static credential(p,v){return ls._fromVerification(p,v)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:I}=p;return v&&I?ls._fromTokenResponse(v,I):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function K(_,f){return f?jt(f):(Oe(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class X extends Xo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _r(f,this._buildIdpRequest())}_linkToIdToken(f,p){return _r(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return _r(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Me(_){return yu(_.auth,new X(_),_.bypassAuthState)}function Ge(_){const{auth:f,user:p}=_;return Oe(p,f,"internal-error"),Ka(p,new X(_),_.bypassAuthState)}function nt(_){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(_){const{auth:f,user:p}=_;return Oe(p,f,"internal-error"),Co(p,new X(_),_.bypassAuthState)})).apply(this,arguments)}class xt{constructor(f,p,v,I,M=!1){this.auth=f,this.resolver=v,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(v,I){f.pendingPromise={resolve:v,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(v,I){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:I,postBody:M,tenantId:U,error:ne,type:ke}=f;if(ne)return void p.reject(ne);const Se={auth:p.auth,requestUri:v,sessionId:I,tenantId:U||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ke)(Se))}catch(We){p.reject(We)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Me;case"linkViaPopup":case"linkViaRedirect":return nt;case"reauthViaPopup":case"reauthViaRedirect":return Ge;default:Ut(this.auth,"internal-error")}}resolve(f){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _t=new Xe(2e3,1e4);function Gt(){return(Gt=(0,c.Z)(function*(_,f,p){const v=Qt(_);Fi(_,f,Bi);const I=K(v,p);return new ji(v,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_);Fi(v.auth,f,Bi);const I=K(v.auth,p);return new ji(v.auth,"reauthViaPopup",f,I,v).executeNotNull()})).apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_);Fi(v.auth,f,Bi);const I=K(v.auth,p);return new ji(v.auth,"linkViaPopup",f,I,v).executeNotNull()})).apply(this,arguments)}let ji=(()=>{class _ extends xt{constructor(p,v,I,M,U){super(p,v,M,U),this.provider=I,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const v=yield p.execute();return Oe(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,c.Z)(function*(){In(1===p.filter.length,"Popup operations only handle one event");const v=on();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(I=>{p.reject(I)}),p.resolver._isIframeWebStorageSupported(p.auth,I=>{I||p.reject(mn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,I;this.pollId=(null===(I=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,_t.get())};p()}}return _.currentPopupAction=null,_})();const ya=new Map;class ap extends xt{constructor(f,p,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let v=ya.get(p.auth._key());if(!v){try{const M=(yield function hm(_,f){return xo.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;v=()=>Promise.resolve(M)}catch(I){v=()=>Promise.reject(I)}ya.set(p.auth._key(),v)}return p.bypassAuthState||ya.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(v,f);if("unknown"!==f.type){if(f.eventId){const I=yield v.auth._redirectUserForId(f.eventId);if(I)return v.user=I,p().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function xo(){return(xo=(0,c.Z)(function*(_,f){const p=fm(f),v=lp(_);if(!(yield v._isAvailable()))return!1;const I="true"===(yield v._get(p));return yield v._remove(p),I})).apply(this,arguments)}function va(_,f){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(_,f){return lp(_)._set(fm(f),"true")})).apply(this,arguments)}function Nu(_,f){ya.set(_._key(),f)}function lp(_){return jt(_._redirectPersistence)}function fm(_){return Li("pendingRedirect",_.config.apiKey,_.name)}function lc(){return(lc=(0,c.Z)(function*(_,f,p){const v=Qt(_);Fi(_,f,Bi);const I=K(v,p);return yield va(I,v),I._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_);Fi(v.auth,f,Bi);const I=K(v.auth,p);yield va(I,v.auth);const M=yield Fu(v);return I._openRedirect(v.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function hp(){return(hp=(0,c.Z)(function*(_,f,p){const v=(0,N.m9)(_);Fi(v.auth,f,Bi);const I=K(v.auth,p);yield ti(!1,v,f.providerId),yield va(I,v.auth);const M=yield Fu(v);return I._openRedirect(v.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function _l(){return(_l=(0,c.Z)(function*(_,f){return yield Qt(_)._initializationPromise,cc(_,f,!1)})).apply(this,arguments)}function cc(_,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(_,f,p=!1){const v=Qt(_),I=K(v,f),U=yield new ap(v,I,p).execute();return U&&!p&&(delete U.user._redirectEventId,yield v._persistUserIfCurrent(U.user),yield v._setRedirectUser(null,f)),U})).apply(this,arguments)}function Fu(_){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(_){const f=on(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Lu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(p=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function uc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pp(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var v;if(f.error&&!pp(f)){const I=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(mn(this.auth,I))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const v=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bu(f))}saveEventToCache(f){this.cachedEventUids.add(Bu(f)),this.lastProcessedEventTime=Date.now()}}function Bu(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function pp({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Cs(_){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(_,f={}){return Bt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const gp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vu=/^https?/;function hc(){return(hc=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Cs(_);for(const p of f)try{if(mp(p))return}catch(v){}Ut(_,"unauthorized-domain")})).apply(this,arguments)}function mp(_){const f=Hn(),{protocol:p,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const U=new URL(_);return""===U.hostname&&""===v?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&U.hostname===v}if(!Vu.test(p))return!1;if(gp.test(_))return v===_;const I=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(v)}const _p=new Xe(3e4,6e4);function hh(){const _=nn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Uu=null;function gm(_){return Uu=Uu||function fh(_){return new Promise((f,p)=>{var v,I,M;function U(){hh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{hh(),p(mn(_,"network-request-failed"))},timeout:_p.get()})}if(null===(I=null===(v=nn().gapi)||void 0===v?void 0:v.iframes)||void 0===I?void 0:I.Iframe)f(gapi.iframes.getContext());else{if(!(null===(M=nn().gapi)||void 0===M?void 0:M.load)){const ne=dl("iframefcb");return nn()[ne]=()=>{gapi.load?U():p(mn(_,"network-request-failed"))},Ru(`https://apis.google.com/js/api.js?onload=${ne}`).catch(ke=>p(ke))}U()}}).catch(f=>{throw Uu=null,f})}(_),Uu}const mm=new Xe(5e3,15e3),fc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ws(_){const f=_.config;Oe(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?st(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:_.name,v:ce.SDK_VERSION},I=Hu.get(_.config.apiHost);I&&(v.eid=I);const M=_._getFrameworks();return M.length&&(v.fw=M.join(",")),`${p}?${(0,N.xO)(v).slice(1)}`}function pc(){return pc=(0,c.Z)(function*(_){const f=yield gm(_),p=nn().gapi;return Oe(p,_,"internal-error"),f.open({where:document.body,url:ws(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fc,dontclear:!0},v=>new Promise(function(){var I=(0,c.Z)(function*(M,U){yield v.restyle({setHideOnLeave:!1});const ne=mn(_,"network-request-failed"),ke=nn().setTimeout(()=>{U(ne)},mm.get());function Se(){nn().clearTimeout(ke),M(v)}v.ping(Se).then(Se,()=>{U(ne)})});return function(M,U){return I.apply(this,arguments)}}()))}),pc.apply(this,arguments)}const yp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $u{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function zu(_,f,p,v,I,M){Oe(_.config.authDomain,_,"auth-domain-config-required"),Oe(_.config.apiKey,_,"invalid-api-key");const U={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:v,v:ce.SDK_VERSION,eventId:I};if(f instanceof Bi){f.setDefaultLanguage(_.languageCode),U.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(U.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ke,Se]of Object.entries(M||{}))U[ke]=Se}if(f instanceof br){const ke=f.getScopes().filter(Se=>""!==Se);ke.length>0&&(U.scopes=ke.join(","))}_.tenantId&&(U.tid=_.tenantId);const ne=U;for(const ke of Object.keys(ne))void 0===ne[ke]&&delete ne[ke];return`${function gc({config:_}){return _.emulator?st(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,N.xO)(ne).slice(1)}`}const Ca="webStorageSupport";class bl extends class mc{constructor(f){this.factorId=f}_process(f,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,v);case"signin":return this._finalizeSignIn(f,p.credential);default:return et("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new bl(f)}_finalizeEnroll(f,p,v){return function ps(_,f){return Bt(_,"POST","/v2/accounts/mfaEnrollment:finalize",rn(_,f))}(f,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function Mu(_,f){return Bt(_,"POST","/v2/accounts/mfaSignIn:finalize",rn(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gh=(()=>{class _{constructor(){}static assertion(p){return bl._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var _c="@firebase/auth";class Nn{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(v=>{var I;f((null===(I=v)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ks(){return window}function yh(){return(yh=(0,c.Z)(function*(_,f,p){var v;const{BuildInfo:I}=Ks();In(f.sessionId,"AuthEvent did not contain a session ID");const M=yield wa(f.sessionId),U={};return yn()?U.ibi=I.packageName:hn()?U.apn=I.packageName:Ut(_,"operation-not-supported-in-this-environment"),I.displayName&&(U.appDisplayName=I.displayName),U.sessionId=M,zu(_,p,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,U)})).apply(this,arguments)}function vh(){return(vh=(0,c.Z)(function*(_){const{BuildInfo:f}=Ks(),p={};yn()?p.iosBundleId=f.packageName:hn()?p.androidPackageName=f.packageName:Ut(_,"operation-not-supported-in-this-environment"),yield Cs(_,p)})).apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(_,f,p){const{cordova:v}=Ks();let I=()=>{};try{yield new Promise((M,U)=>{let ne=null;function ke(){var Ye;M();const Mt=null===(Ye=v.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof Mt&&Mt(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Se(){ne||(ne=window.setTimeout(()=>{U(mn(_,"redirect-cancelled-by-user"))},2e3))}function We(){"visible"===(null==document?void 0:document.visibilityState)&&Se()}f.addPassiveListener(ke),document.addEventListener("resume",Se,!1),hn()&&document.addEventListener("visibilitychange",We,!1),I=()=>{f.removePassiveListener(ke),document.removeEventListener("resume",Se,!1),document.removeEventListener("visibilitychange",We,!1),ne&&window.clearTimeout(ne)}})}finally{I()}})).apply(this,arguments)}function wa(_){return yc.apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(_){const f=vc(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vc(_){if(In(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let v=0;v<_.length;v++)p[v]=_.charCodeAt(v);return p}!function Ir(_){(0,ce._registerComponent)(new at.wA("auth",(f,{options:p})=>{const v=f.getProvider("app").getImmediate(),I=f.getProvider("heartbeat"),{apiKey:M,authDomain:U}=v.options;return((ne,ke)=>{Oe(M&&!M.includes(":"),"invalid-api-key",{appName:ne.name}),Oe(!(null==U?void 0:U.includes(":")),"argument-error",{appName:ne.name});const Se={apiKey:M,authDomain:U,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$l(_)},We=new os(ne,ke,Se);return function qi(_,f){const p=(null==f?void 0:f.persistence)||[],v=(Array.isArray(p)?p:[p]).map(jt);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(We,p),We})(v,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,v)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new at.wA("auth-internal",f=>{const p=Qt(f.getProvider("auth").getImmediate());return new Nn(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(_c,"0.20.2",function mh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ce.registerVersion)(_c,"0.20.2","esm2017")}("Browser");class bc extends Lu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Cp(_){return qu.apply(this,arguments)}function qu(){return(qu=(0,c.Z)(function*(_){const f=yield Zu()._get(Da(_));return f&&(yield Zu()._remove(Da(_))),f})).apply(this,arguments)}function wp(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function Zu(){return jt(Vr)}function Da(_){return Li("authEvent",_.config.apiKey,_.name)}function Qs(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...p]=_.split("?");return(0,N.zd)(p.join("?"))}function Dp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mn("no-auth-event")}}function Dc(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Ip(_=(0,N.z$)()){return!("file:"!==Dc()&&"ionic:"!==Dc()&&"capacitor:"!==Dc()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ap(){try{const _=self.localStorage,f=on();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Sp(_=(0,N.z$)()){return function Sm(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Am(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch(_){return Yu()&&(0,N.hl)()}return!1}function Yu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dh(){return(function Tm(){return"http:"===Dc()||"https:"===Dc()}()||(0,N.ru)()||Ip())&&!function Tp(){return(0,N.b$)()||(0,N.UG)()}()&&Ap()&&!Yu()}function Mp(){return Ip()&&"undefined"!=typeof document}function Xs(){return(Xs=(0,c.Z)(function*(){return!!Mp()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const rr={LOCAL:"local",NONE:"none",SESSION:"session"},Ic=Oe,Ku="persistence";function Tr(_){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(_){yield _._initializationPromise;const f=Rp(),p=Li(Ku,_.config.apiKey,_.name);f&&f.setItem(p,_._getPersistence())})).apply(this,arguments)}function Rp(){var _;try{return(null===(_=function Js(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Op=Oe;class Hi{constructor(){this.browserResolver=jt(class ym{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tr,this._completeRedirectFn=cc,this._overrideRedirectResult=Nu}_openPopup(f,p,v,I){var M=this;return(0,c.Z)(function*(){var U;In(null===(U=M.eventManagers[f._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const ne=zu(f,p,v,Hn(),I);return function Ys(_,f,p,v=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),U=Math.max((window.screen.availWidth-v)/2,0).toString();let ne="";const ke=Object.assign(Object.assign({},yp),{width:v.toString(),height:I.toString(),top:M,left:U}),Se=(0,N.z$)().toLowerCase();p&&(ne=Ko(Se)?"_blank":p),Yo(Se)&&(f=f||"http://localhost",ke.scrollbars="yes");const We=Object.entries(ke).reduce((Mt,[qn,eo])=>`${Mt}${qn}=${eo},`,"");if(function su(_=(0,N.z$)()){var f;return yn(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Se)&&"_self"!==ne)return function ph(_,f){const p=document.createElement("a");p.href=_,p.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(f||"",ne),new $u(null);const Ye=window.open(f||"",ne,We);Oe(Ye,_,"popup-blocked");try{Ye.focus()}catch(Mt){}return new $u(Ye)}(f,ne,on())})()}_openRedirect(f,p,v,I){var M=this;return(0,c.Z)(function*(){return yield M._originValidation(f),function Dn(_){nn().location.href=_}(zu(f,p,v,Hn(),I)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:I,promise:M}=this.eventManagers[p];return I?Promise.resolve(I):(In(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(f);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const v=yield function yl(_){return pc.apply(this,arguments)}(f),I=new Lu(f);return v.register("authEvent",M=>(Oe(null==M?void 0:M.authEvent,f,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:I},p.iframes[f._key()]=v,I})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ca,{type:Ca},I=>{var M;const U=null===(M=null==I?void 0:I[0])||void 0===M?void 0:M[Ca];void 0!==U&&p(!!U),Ut(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function dc(_){return hc.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Si()||mr()||yn()}}),this.cordovaResolver=jt(class Ec{constructor(){this._redirectPersistence=tr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cc,this._overrideRedirectResult=Nu}_initialize(f){var p=this;return(0,c.Z)(function*(){const v=f._key();let I=p.eventManagers.get(v);return I||(I=new bc(f),p.eventManagers.set(v,I),p.attachCallbackListeners(f,I)),I})()}_openPopup(f){Ut(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,v,I){var M=this;return(0,c.Z)(function*(){!function _i(_){var f,p,v,I,M,U,ne,ke,Se,We;const Ye=Ks();Oe("function"==typeof(null===(f=null==Ye?void 0:Ye.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(void 0!==(null===(p=null==Ye?void 0:Ye.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(M=null===(I=null===(v=null==Ye?void 0:Ye.cordova)||void 0===v?void 0:v.plugins)||void 0===I?void 0:I.browsertab)||void 0===M?void 0:M.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(ke=null===(ne=null===(U=null==Ye?void 0:Ye.cordova)||void 0===U?void 0:U.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===ke?void 0:ke.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(We=null===(Se=null==Ye?void 0:Ye.cordova)||void 0===Se?void 0:Se.InAppBrowser)||void 0===We?void 0:We.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const U=yield M._initialize(f);yield U.initialized(),U.resetRedirect(),function bv(){ya.clear()}(),yield M._originValidation(f);const ne=function Eh(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:wp(),postBody:null,tenantId:_.tenantId,error:mn(_,"no-auth-event")}}(f,v,I);yield function bm(_,f){return Zu()._set(Da(_),f)}(f,ne);const ke=yield function Wu(_,f,p){return yh.apply(this,arguments)}(f,ne,p),Se=yield function Dv(_){const{cordova:f}=Ks();return new Promise(p=>{f.plugins.browsertab.isAvailable(v=>{let I=null;v?f.plugins.browsertab.openUrl(_):I=f.InAppBrowser.open(_,function en(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(I)})})}(ke);return function bh(_,f,p){return Po.apply(this,arguments)}(f,U,Se)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function vm(_){return vh.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:v,handleOpenURL:I,BuildInfo:M}=Ks(),U=setTimeout((0,c.Z)(function*(){yield Cp(f),p.onEvent(Dp())}),500),ne=function(){var We=(0,c.Z)(function*(Ye){clearTimeout(U);const Mt=yield Cp(f);let qn=null;Mt&&(null==Ye?void 0:Ye.url)&&(qn=function Ch(_,f){var p,v;const I=function Cm(_){const f=Qs(_),p=f.link?decodeURIComponent(f.link):void 0,v=Qs(p).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Qs(I).link||I||v||p||_}(f);if(I.includes("/__/auth/callback")){const M=Qs(I),U=M.firebaseError?function Em(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(M.firebaseError)):null,ne=null===(v=null===(p=null==U?void 0:U.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],ke=ne?mn(ne):null;return ke?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:I,postBody:null}}return null}(Mt,Ye.url)),p.onEvent(qn||Dp())});return function(Mt){return We.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,ne);const ke=I,Se=`${M.packageName.toLowerCase()}://`;Ks().handleOpenURL=function(){var We=(0,c.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(Se)&&ne({url:Ye}),"function"==typeof ke)try{ke(Ye)}catch(Mt){console.error(Mt)}});return function(Ye){return We.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=tr,this._completeRedirectFn=cc,this._overrideRedirectResult=Nu}_initialize(f){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,v,I){var M=this;return(0,c.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(f,p,v,I)})()}_openRedirect(f,p,v,I){var M=this;return(0,c.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(f,p,v,I)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Mp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Op(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Mm(){return Xs.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function Th(_){return _.unwrap()}function Sh(_){return Qu(_)}function Qu(_){const{_tokenResponse:f}=_ instanceof N.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return B.credentialFromResult(_);const p=f.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=Rn;break;case"facebook.com":v=mi;break;case"github.com":v=vo;break;case"twitter.com":v=ot;break;default:const{oauthIdToken:I,oauthAccessToken:M,oauthTokenSecret:U,pendingToken:ne,nonce:ke}=f;return M||U||I||ne?ne?p.startsWith("saml.")?Jn._create(p,ne):yr._fromParams({providerId:p,signInMethod:p,pendingToken:ne,idToken:I,accessToken:M}):new gi(p).credential({idToken:I,accessToken:M,rawNonce:ke}):null}return _ instanceof N.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function sr(_,f){return f.catch(p=>{throw p instanceof N.ZR&&function Sc(_,f){var p;const v=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new kp(_,function tc(_,f){var p;const v=(0,N.m9)(_),I=f;return Oe(f.customData.operationType,v,"argument-error"),Oe(null===(p=I.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Vi._fromError(v,I)}(_,f));else if(v){const I=Qu(f),M=f;I&&(M.credential=I,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(_,p),p}).then(p=>{const I=p.user;return{operationType:p.operationType,credential:Sh(p),additionalUserInfo:fs(p),user:Ds.getOrCreate(I)}})}function No(_,f){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:v=>sr(_,p.confirm(v))}})).apply(this,arguments)}class kp{constructor(f,p){this.resolver=p,this.auth=function xp(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return sr(Th(this.auth),this.resolver.resolveSignIn(f))}}class Ds{constructor(f){this._delegate=f,this.multiFactor=function er(_){const f=(0,N.m9)(_);return ol.has(f)||ol.set(f,ln._fromUser(f)),ol.get(f)}(f)}static getOrCreate(f){return Ds.USER_MAP.has(f)||Ds.USER_MAP.set(f,new Ds(f)),Ds.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,c.Z)(function*(){return sr(p.auth,Xi(p._delegate,f))})()}linkWithPhoneNumber(f,p){var v=this;return(0,c.Z)(function*(){return No(v.auth,function oc(_,f,p){return ma.apply(this,arguments)}(v._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,c.Z)(function*(){return sr(p.auth,function bs(_,f,p){return Dr.apply(this,arguments)}(p._delegate,f,Hi))})()}linkWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Tr(Qt(p.auth)),function up(_,f,p){return function dp(_,f,p){return hp.apply(this,arguments)}(_,f,p)}(p._delegate,f,Hi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,c.Z)(function*(){return sr(p.auth,Er(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return No(this.auth,function Pu(_,f,p){return ac.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return sr(this.auth,function Gr(_,f,p){return nr.apply(this,arguments)}(this._delegate,f,Hi))}reauthenticateWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Tr(Qt(p.auth)),function ml(_,f,p){return function Wr(_,f,p){return ir.apply(this,arguments)}(_,f,p)}(p._delegate,f,Hi)})()}sendEmailVerification(f){return function nl(_,f){return il.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,c.Z)(function*(){return yield function _u(_,f){return tn.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function rl(_,f){return Jl((0,N.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Du(_,f){return Jl((0,N.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function T(_,f){return x.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function lh(_,f){return wu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function ah(_,f,p){return Cu.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ds.USER_MAP=new WeakMap;const Ia=Oe;let Pp=(()=>{class _{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=p.options;Ia(I,"invalid-api-key",{appName:p.name}),Ia(I,"invalid-api-key",{appName:p.name});const M="undefined"!=typeof window?Hi:void 0;this._delegate=v.initialize({options:{persistence:Om(I,p.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Yt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function Qf(_,f,p){const v=Qt(_);Oe(v._canInitEmulator,v,"emulator-config-failed"),Oe(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const I=!!(null==p?void 0:p.disableWarnings),M=Qd(f),{host:U,port:ne}=function Yi(_){const f=Qd(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(v);if(I){const M=I[1];return{host:M,port:Xd(v.substr(M.length+1))}}{const[M,U]=v.split(":");return{host:M,port:Xd(U)}}}(f);v.config.emulator={url:`${M}//${U}${null===ne?"":`:${ne}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:U,port:ne,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Xf(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,v)}applyActionCode(p){return function ih(_,f){return oa.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return el(this._delegate,p)}confirmPasswordReset(p,v){return function Kl(_,f,p){return So.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var I=this;return(0,c.Z)(function*(){return sr(I._delegate,function np(_,f,p){return On.apply(this,arguments)}(I._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Xl(_,f){return hs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Ql(_,f){const p=cs.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Ia(Dh(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function Zs(_,f){return _l.apply(this,arguments)}(p._delegate,Hi);return v?sr(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Cc(_,f){Qt(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,v,I){const{next:M,error:U,complete:ne}=yi(p,v,I);return this._delegate.onAuthStateChanged(M,U,ne)}onIdTokenChanged(p,v,I){const{next:M,error:U,complete:ne}=yi(p,v,I);return this._delegate.onIdTokenChanged(M,U,ne)}sendSignInLinkToEmail(p,v){return function bn(_,f,p){return la.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function sa(_,f,p){return Ja.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,c.Z)(function*(){let I;switch(function Rm(_,f){Ic(Object.values(rr).includes(f),_,"invalid-persistence-type"),(0,N.b$)()?Ic(f!==rr.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?Ic(f===rr.NONE,_,"unsupported-persistence-type"):Yu()?Ic(f===rr.NONE||f===rr.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):Ic(f===rr.NONE||Ap(),_,"unsupported-persistence-type")}(v._delegate,p),p){case rr.SESSION:I=tr;break;case rr.LOCAL:I=(yield jt(Wn)._isAvailable())?Wn:Vr;break;case rr.NONE:I=Ht;break;default:return Ut("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return sr(this._delegate,function Yl(_){return Ya.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return sr(this._delegate,Hs(this._delegate,p))}signInWithCustomToken(p){return sr(this._delegate,function nh(_,f){return ra.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return sr(this._delegate,function zn(_,f,p){return Hs((0,N.m9)(_),Xn.credential(f,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return sr(this._delegate,function rh(_,f,p){return sh.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return No(this._delegate,function Sn(_,f,p){return pl.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,c.Z)(function*(){return Ia(Dh(),v._delegate,"operation-not-supported-in-this-environment"),sr(v._delegate,function ii(_,f,p){return Gt.apply(this,arguments)}(v._delegate,p,Hi))})()}signInWithRedirect(p){var v=this;return(0,c.Z)(function*(){return Ia(Dh(),v._delegate,"operation-not-supported-in-this-environment"),yield Tr(v._delegate),function pm(_,f,p){return function cp(_,f,p){return lc.apply(this,arguments)}(_,f,p)}(v._delegate,p,Hi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function tl(_,f){return bu.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=rr,_})();function yi(_,f,p){let v=_;"function"!=typeof _&&({next:v,error:f,complete:p}=_);const I=v;return{next:U=>I(U&&Ds.getOrCreate(U)),error:f,complete:p}}function Om(_,f){const p=function Ih(_,f){const p=Rp();if(!p)return[];const v=Li(Ku,_,f);switch(p.getItem(v)){case rr.NONE:return[Ht];case rr.LOCAL:return[Wn,tr];case rr.SESSION:return[tr];default:return[]}}(_,f);if("undefined"!=typeof self&&!p.includes(Wn)&&p.push(Wn),"undefined"!=typeof window)for(const v of[Vr,tr])p.includes(v)||p.push(v);return p.includes(Ht)||p.push(Ht),p}class El{constructor(){this.providerId="phone",this._delegate=new B(Th(ee.Z.auth()))}static credential(f,p){return B.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}El.PHONE_SIGN_IN_METHOD=B.PHONE_SIGN_IN_METHOD,El.PROVIDER_ID=B.PROVIDER_ID;const Ah=Oe;class Mh{constructor(f,p,v=ee.Z.app()){var I;Ah(null===(I=v.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new fl(f,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rh(_){_.INTERNAL.registerComponent(new at.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Pp(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xn,FacebookAuthProvider:mi,GithubAuthProvider:vo,GoogleAuthProvider:Rn,OAuthProvider:gi,SAMLAuthProvider:us,PhoneAuthProvider:El,PhoneMultiFactorGenerator:gh,RecaptchaVerifier:Mh,TwitterAuthProvider:ot,Auth:Pp,AuthCredential:Xo,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.15")}(ee.Z)},8306:($e,me,P)=>{P.d(me,{y:()=>H});var c=P(930),ee=P(727),N=P(8822),ce=P(4671);var ie=P(2416),ue=P(576),he=P(2806);let H=(()=>{class we{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const fe=new we;return fe.source=this,fe.operator=Fe,fe}subscribe(Fe,fe,pe){const Re=function Ue(we){return we&&we instanceof c.Lv||function oe(we){return we&&(0,ue.m)(we.next)&&(0,ue.m)(we.error)&&(0,ue.m)(we.complete)}(we)&&(0,ee.Nn)(we)}(Fe)?Fe:new c.Hp(Fe,fe,pe);return(0,he.x)(()=>{const{operator:Le,source:Ne}=this;Re.add(Le?Le.call(Re,Ne):Ne?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(fe){Fe.error(fe)}}forEach(Fe,fe){return new(fe=W(fe))((pe,Re)=>{let Le;Le=this.subscribe(Ne=>{try{Fe(Ne)}catch(ze){Re(ze),null==Le||Le.unsubscribe()}},Re,pe)})}_subscribe(Fe){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Fe)}[N.L](){return this}pipe(...Fe){return function _e(we){return 0===we.length?ce.y:1===we.length?we[0]:function(Fe){return we.reduce((fe,pe)=>pe(fe),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=W(Fe))((fe,pe)=>{let Re;this.subscribe(Le=>Re=Le,Le=>pe(Le),()=>fe(Re))})}}return we.create=xe=>new we(xe),we})();function W(we){var xe;return null!==(xe=null!=we?we:ie.v.Promise)&&void 0!==xe?xe:Promise}},7579:($e,me,P)=>{P.d(me,{x:()=>ie});var c=P(8306),ee=P(727);const ce=(0,P(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=P(8737),_e=P(2806);let ie=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const oe=new ue(this,this);return oe.operator=W,oe}_throwIfClosed(){if(this.closed)throw new ce}next(W){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const oe=this.observers.slice();for(const Ue of oe)Ue.next(W)}})}error(W){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:oe}=this;for(;oe.length;)oe.shift().error(W)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:oe,isStopped:Ue,observers:we}=this;return oe||Ue?ee.Lc:(we.push(W),new ee.w0(()=>(0,le.P)(we,W)))}_checkFinalizedStatuses(W){const{hasError:oe,thrownError:Ue,isStopped:we}=this;oe?W.error(Ue):we&&W.complete()}asObservable(){const W=new c.y;return W.source=this,W}}return he.create=(H,W)=>new ue(H,W),he})();class ue extends ie{constructor(H,W){super(),this.destination=H,this.source=W}next(H){var W,oe;null===(oe=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===oe||oe.call(W,H)}error(H){var W,oe;null===(oe=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===oe||oe.call(W,H)}complete(){var H,W;null===(W=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===W||W.call(H)}_subscribe(H){var W,oe;return null!==(oe=null===(W=this.source)||void 0===W?void 0:W.subscribe(H))&&void 0!==oe?oe:ee.Lc}}},930:($e,me,P)=>{P.d(me,{Hp:()=>Ue,Lv:()=>oe});var c=P(576),ee=P(727),N=P(2416),ce=P(7849),le=P(5032);const _e=he("C",void 0,void 0);function he(pe,Re,Le){return{kind:pe,value:Re,error:Le}}var H=P(3410),W=P(2806);class oe extends ee.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,ee.Nn)(Re)&&Re.add(this)):this.destination=fe}static create(Re,Le,Ne){return new Ue(Re,Le,Ne)}next(Re){this.isStopped?Fe(function ue(pe){return he("N",pe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Fe(function ie(pe){return he("E",void 0,pe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Fe(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ue extends oe{constructor(Re,Le,Ne){let ze;if(super(),(0,c.m)(Re))ze=Re;else if(Re){let Ie;({next:ze,error:Le,complete:Ne}=Re),this&&N.v.useDeprecatedNextContext?(Ie=Object.create(Re),Ie.unsubscribe=()=>this.unsubscribe()):Ie=Re,ze=null==ze?void 0:ze.bind(Ie),Le=null==Le?void 0:Le.bind(Ie),Ne=null==Ne?void 0:Ne.bind(Ie)}this.destination={next:ze?we(ze):le.Z,error:we(null!=Le?Le:xe),complete:Ne?we(Ne):le.Z}}}function we(pe,Re){return(...Le)=>{try{pe(...Le)}catch(Ne){N.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ne):(0,ce.h)(Ne)}}}function xe(pe){throw pe}function Fe(pe,Re){const{onStoppedNotification:Le}=N.v;Le&&H.z.setTimeout(()=>Le(pe,Re))}const fe={closed:!0,next:le.Z,error:xe,complete:le.Z}},727:($e,me,P)=>{P.d(me,{Lc:()=>_e,w0:()=>le,Nn:()=>ie});var c=P(576);const N=(0,P(3888).d)(he=>function(W){he(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((oe,Ue)=>`${Ue+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ce=P(8737);class le{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const we of W)we.remove(this);else W.remove(this);const{initialTeardown:oe}=this;if((0,c.m)(oe))try{oe()}catch(we){H=we instanceof N?we.errors:[we]}const{_teardowns:Ue}=this;if(Ue){this._teardowns=null;for(const we of Ue)try{ue(we)}catch(xe){H=null!=H?H:[],xe instanceof N?H=[...H,...xe.errors]:H.push(xe)}}if(H)throw new N(H)}}add(H){var W;if(H&&H!==this)if(this.closed)ue(H);else{if(H instanceof le){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push(H)}}_hasParent(H){const{_parentage:W}=this;return W===H||Array.isArray(W)&&W.includes(H)}_addParent(H){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(H),W):W?[W,H]:H}_removeParent(H){const{_parentage:W}=this;W===H?this._parentage=null:Array.isArray(W)&&(0,ce.P)(W,H)}remove(H){const{_teardowns:W}=this;W&&(0,ce.P)(W,H),H instanceof le&&H._removeParent(this)}}le.EMPTY=(()=>{const he=new le;return he.closed=!0,he})();const _e=le.EMPTY;function ie(he){return he instanceof le||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function ue(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:($e,me,P)=>{P.d(me,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:($e,me,P)=>{P.d(me,{E:()=>ee});const ee=new(P(8306).y)(le=>le.complete())},8996:($e,me,P)=>{P.d(me,{D:()=>ze});var c=P(8421),ee=P(5363),N=P(9468),_e=P(8306),ue=P(2202),he=P(576),H=P(9672);function oe(Ie,qe){if(!Ie)throw new Error("Iterable cannot be null");return new _e.y(He=>{(0,H.f)(He,qe,()=>{const ve=Ie[Symbol.asyncIterator]();(0,H.f)(He,qe,()=>{ve.next().then(z=>{z.done?He.complete():He.next(z.value)})},0,!0)})})}var Ue=P(3670),we=P(8239),xe=P(1144),Fe=P(6495),fe=P(2206),pe=P(4532),Re=P(3260);function ze(Ie,qe){return qe?function Ne(Ie,qe){if(null!=Ie){if((0,Ue.c)(Ie))return function ce(Ie,qe){return(0,c.Xf)(Ie).pipe((0,N.R)(qe),(0,ee.Q)(qe))}(Ie,qe);if((0,xe.z)(Ie))return function ie(Ie,qe){return new _e.y(He=>{let ve=0;return qe.schedule(function(){ve===Ie.length?He.complete():(He.next(Ie[ve++]),He.closed||this.schedule())})})}(Ie,qe);if((0,we.t)(Ie))return function le(Ie,qe){return(0,c.Xf)(Ie).pipe((0,N.R)(qe),(0,ee.Q)(qe))}(Ie,qe);if((0,fe.D)(Ie))return oe(Ie,qe);if((0,Fe.T)(Ie))return function W(Ie,qe){return new _e.y(He=>{let ve;return(0,H.f)(He,qe,()=>{ve=Ie[ue.h](),(0,H.f)(He,qe,()=>{let z,re;try{({value:z,done:re}=ve.next())}catch(de){return void He.error(de)}re?He.complete():He.next(z)},0,!0)}),()=>(0,he.m)(null==ve?void 0:ve.return)&&ve.return()})}(Ie,qe);if((0,Re.L)(Ie))return function Le(Ie,qe){return oe((0,Re.Q)(Ie),qe)}(Ie,qe)}throw(0,pe.z)(Ie)}(Ie,qe):(0,c.Xf)(Ie)}},8421:($e,me,P)=>{P.d(me,{Xf:()=>Ue});var c=P(5987),ee=P(1144),N=P(8239),ce=P(8306),le=P(3670),_e=P(2206),ie=P(4532),ue=P(6495),he=P(3260),H=P(576),W=P(7849),oe=P(8822);function Ue(Ne){if(Ne instanceof ce.y)return Ne;if(null!=Ne){if((0,le.c)(Ne))return function we(Ne){return new ce.y(ze=>{const Ie=Ne[oe.L]();if((0,H.m)(Ie.subscribe))return Ie.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,ee.z)(Ne))return function xe(Ne){return new ce.y(ze=>{for(let Ie=0;Ie<Ne.length&&!ze.closed;Ie++)ze.next(Ne[Ie]);ze.complete()})}(Ne);if((0,N.t)(Ne))return function Fe(Ne){return new ce.y(ze=>{Ne.then(Ie=>{ze.closed||(ze.next(Ie),ze.complete())},Ie=>ze.error(Ie)).then(null,W.h)})}(Ne);if((0,_e.D)(Ne))return pe(Ne);if((0,ue.T)(Ne))return function fe(Ne){return new ce.y(ze=>{for(const Ie of Ne)if(ze.next(Ie),ze.closed)return;ze.complete()})}(Ne);if((0,he.L)(Ne))return function Re(Ne){return pe((0,he.Q)(Ne))}(Ne)}throw(0,ie.z)(Ne)}function pe(Ne){return new ce.y(ze=>{(function Le(Ne,ze){var Ie,qe,He,ve;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,c.KL)(Ne);!(qe=yield Ie.next()).done;)if(ze.next(qe.value),ze.closed)return}catch(z){He={error:z}}finally{try{qe&&!qe.done&&(ve=Ie.return)&&(yield ve.call(Ie))}finally{if(He)throw He.error}}ze.complete()})})(Ne,ze).catch(Ie=>ze.error(Ie))})}},6451:($e,me,P)=>{P.d(me,{T:()=>_e});var c=P(8189),ee=P(8421),N=P(515),ce=P(3269),le=P(8996);function _e(...ie){const ue=(0,ce.yG)(ie),he=(0,ce._6)(ie,1/0),H=ie;return H.length?1===H.length?(0,ee.Xf)(H[0]):(0,c.J)(he)((0,le.D)(H,ue)):N.E}},5403:($e,me,P)=>{P.d(me,{Q:()=>ee});var c=P(930);class ee extends c.Lv{constructor(ce,le,_e,ie,ue){super(ce),this.onFinalize=ue,this._next=le?function(he){try{le(he)}catch(H){ce.error(H)}}:super._next,this._error=ie?function(he){try{ie(he)}catch(H){ce.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(he){ce.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;const{closed:le}=this;super.unsubscribe(),!le&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}},4004:($e,me,P)=>{P.d(me,{U:()=>N});var c=P(4482),ee=P(5403);function N(ce,le){return(0,c.e)((_e,ie)=>{let ue=0;_e.subscribe(new ee.Q(ie,he=>{ie.next(ce.call(le,he,ue++))}))})}},8189:($e,me,P)=>{P.d(me,{J:()=>N});var c=P(5577),ee=P(4671);function N(ce=1/0){return(0,c.z)(ee.y,ce)}},5577:($e,me,P)=>{P.d(me,{z:()=>ue});var c=P(4004),ee=P(8421),N=P(4482),ce=P(9672),le=P(5403),ie=P(576);function ue(he,H,W=1/0){return(0,ie.m)(H)?ue((oe,Ue)=>(0,c.U)((we,xe)=>H(oe,we,Ue,xe))((0,ee.Xf)(he(oe,Ue))),W):("number"==typeof H&&(W=H),(0,N.e)((oe,Ue)=>function _e(he,H,W,oe,Ue,we,xe,Fe){const fe=[];let pe=0,Re=0,Le=!1;const Ne=()=>{Le&&!fe.length&&!pe&&H.complete()},ze=qe=>pe<oe?Ie(qe):fe.push(qe),Ie=qe=>{we&&H.next(qe),pe++;let He=!1;(0,ee.Xf)(W(qe,Re++)).subscribe(new le.Q(H,ve=>{null==Ue||Ue(ve),we?ze(ve):H.next(ve)},()=>{He=!0},void 0,()=>{if(He)try{for(pe--;fe.length&&pe<oe;){const ve=fe.shift();xe?(0,ce.f)(H,xe,()=>Ie(ve)):Ie(ve)}Ne()}catch(ve){H.error(ve)}}))};return he.subscribe(new le.Q(H,ze,()=>{Le=!0,Ne()})),()=>{null==Fe||Fe()}}(oe,Ue,he,W)))}},5363:($e,me,P)=>{P.d(me,{Q:()=>ce});var c=P(9672),ee=P(4482),N=P(5403);function ce(le,_e=0){return(0,ee.e)((ie,ue)=>{ie.subscribe(new N.Q(ue,he=>(0,c.f)(ue,le,()=>ue.next(he),_e),()=>(0,c.f)(ue,le,()=>ue.complete(),_e),he=>(0,c.f)(ue,le,()=>ue.error(he),_e)))})}},3099:($e,me,P)=>{P.d(me,{B:()=>_e});var c=P(8996),ee=P(5698),N=P(7579),ce=P(930),le=P(4482);function _e(ue={}){const{connector:he=(()=>new N.x),resetOnError:H=!0,resetOnComplete:W=!0,resetOnRefCountZero:oe=!0}=ue;return Ue=>{let we=null,xe=null,Fe=null,fe=0,pe=!1,Re=!1;const Le=()=>{null==xe||xe.unsubscribe(),xe=null},Ne=()=>{Le(),we=Fe=null,pe=Re=!1},ze=()=>{const Ie=we;Ne(),null==Ie||Ie.unsubscribe()};return(0,le.e)((Ie,qe)=>{fe++,!Re&&!pe&&Le();const He=Fe=null!=Fe?Fe:he();qe.add(()=>{fe--,0===fe&&!Re&&!pe&&(xe=ie(ze,oe))}),He.subscribe(qe),we||(we=new ce.Hp({next:ve=>He.next(ve),error:ve=>{Re=!0,Le(),xe=ie(Ne,H,ve),He.error(ve)},complete:()=>{pe=!0,Le(),xe=ie(Ne,W),He.complete()}}),(0,c.D)(Ie).subscribe(we))})(Ue)}}function ie(ue,he,...H){return!0===he?(ue(),null):!1===he?null:he(...H).pipe((0,ee.q)(1)).subscribe(()=>ue())}},9468:($e,me,P)=>{P.d(me,{R:()=>ee});var c=P(4482);function ee(N,ce=0){return(0,c.e)((le,_e)=>{_e.add(N.schedule(()=>le.subscribe(_e),ce))})}},5698:($e,me,P)=>{P.d(me,{q:()=>ce});var c=P(515),ee=P(4482),N=P(5403);function ce(le){return le<=0?()=>c.E:(0,ee.e)((_e,ie)=>{let ue=0;_e.subscribe(new N.Q(ie,he=>{++ue<=le&&(ie.next(he),le<=ue&&ie.complete())}))})}},8505:($e,me,P)=>{P.d(me,{b:()=>le});var c=P(576),ee=P(4482),N=P(5403),ce=P(4671);function le(_e,ie,ue){const he=(0,c.m)(_e)||ie||ue?{next:_e,error:ie,complete:ue}:_e;return he?(0,ee.e)((H,W)=>{var oe;null===(oe=he.subscribe)||void 0===oe||oe.call(he);let Ue=!0;H.subscribe(new N.Q(W,we=>{var xe;null===(xe=he.next)||void 0===xe||xe.call(he,we),W.next(we)},()=>{var we;Ue=!1,null===(we=he.complete)||void 0===we||we.call(he),W.complete()},we=>{var xe;Ue=!1,null===(xe=he.error)||void 0===xe||xe.call(he,we),W.error(we)},()=>{var we,xe;Ue&&(null===(we=he.unsubscribe)||void 0===we||we.call(he)),null===(xe=he.finalize)||void 0===xe||xe.call(he)}))}):ce.y}},4408:($e,me,P)=>{P.d(me,{o:()=>le});var c=P(727);class ee extends c.w0{constructor(ie,ue){super()}schedule(ie,ue=0){return this}}const N={setInterval(..._e){const{delegate:ie}=N;return((null==ie?void 0:ie.setInterval)||setInterval)(..._e)},clearInterval(_e){const{delegate:ie}=N;return((null==ie?void 0:ie.clearInterval)||clearInterval)(_e)},delegate:void 0};var ce=P(8737);class le extends ee{constructor(ie,ue){super(ie,ue),this.scheduler=ie,this.work=ue,this.pending=!1}schedule(ie,ue=0){if(this.closed)return this;this.state=ie;const he=this.id,H=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(H,he,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(H,this.id,ue),this}requestAsyncId(ie,ue,he=0){return N.setInterval(ie.flush.bind(ie,this),he)}recycleAsyncId(ie,ue,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ue;N.clearInterval(ue)}execute(ie,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ie,ue);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ue){let H,he=!1;try{this.work(ie)}catch(W){he=!0,H=W||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ue}=this,{actions:he}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(he,this),null!=ie&&(this.id=this.recycleAsyncId(ue,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:($e,me,P)=>{P.d(me,{v:()=>N});var c=P(6063);class ee{constructor(le,_e=ee.now){this.schedulerActionCtor=le,this.now=_e}schedule(le,_e=0,ie){return new this.schedulerActionCtor(this,le).schedule(ie,_e)}}ee.now=c.l.now;class N extends ee{constructor(le,_e=ee.now){super(le,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:_e}=this;if(this._active)return void _e.push(le);let ie;this._active=!0;do{if(ie=le.execute(le.state,le.delay))break}while(le=_e.shift());if(this._active=!1,ie){for(;le=_e.shift();)le.unsubscribe();throw ie}}}},4986:($e,me,P)=>{P.d(me,{z:()=>N,P:()=>ce});var c=P(4408);const N=new(P(7565).v)(c.o),ce=N},6063:($e,me,P)=>{P.d(me,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:($e,me,P)=>{P.d(me,{z:()=>c});const c={setTimeout(...ee){const{delegate:N}=c;return((null==N?void 0:N.setTimeout)||setTimeout)(...ee)},clearTimeout(ee){const{delegate:N}=c;return((null==N?void 0:N.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:($e,me,P)=>{P.d(me,{h:()=>ee});const ee=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($e,me,P)=>{P.d(me,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:($e,me,P)=>{P.d(me,{jO:()=>ce,yG:()=>le,_6:()=>_e});var c=P(576),ee=P(3532);function N(ie){return ie[ie.length-1]}function ce(ie){return(0,c.m)(N(ie))?ie.pop():void 0}function le(ie){return(0,ee.K)(N(ie))?ie.pop():void 0}function _e(ie,ue){return"number"==typeof N(ie)?ie.pop():ue}},8737:($e,me,P)=>{function c(ee,N){if(ee){const ce=ee.indexOf(N);0<=ce&&ee.splice(ce,1)}}P.d(me,{P:()=>c})},3888:($e,me,P)=>{function c(ee){const ce=ee(le=>{Error.call(le),le.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(me,{d:()=>c})},2806:($e,me,P)=>{P.d(me,{x:()=>N,O:()=>ce});var c=P(2416);let ee=null;function N(le){if(c.v.useDeprecatedSynchronousErrorHandling){const _e=!ee;if(_e&&(ee={errorThrown:!1,error:null}),le(),_e){const{errorThrown:ie,error:ue}=ee;if(ee=null,ie)throw ue}}else le()}function ce(le){c.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=le)}},9672:($e,me,P)=>{function c(ee,N,ce,le=0,_e=!1){const ie=N.schedule(function(){ce(),_e?ee.add(this.schedule(null,le)):this.unsubscribe()},le);if(ee.add(ie),!_e)return ie}P.d(me,{f:()=>c})},4671:($e,me,P)=>{function c(ee){return ee}P.d(me,{y:()=>c})},1144:($e,me,P)=>{P.d(me,{z:()=>c});const c=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:($e,me,P)=>{P.d(me,{D:()=>ee});var c=P(576);function ee(N){return Symbol.asyncIterator&&(0,c.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:($e,me,P)=>{function c(ee){return"function"==typeof ee}P.d(me,{m:()=>c})},3670:($e,me,P)=>{P.d(me,{c:()=>N});var c=P(8822),ee=P(576);function N(ce){return(0,ee.m)(ce[c.L])}},6495:($e,me,P)=>{P.d(me,{T:()=>N});var c=P(2202),ee=P(576);function N(ce){return(0,ee.m)(null==ce?void 0:ce[c.h])}},8239:($e,me,P)=>{P.d(me,{t:()=>ee});var c=P(576);function ee(N){return(0,c.m)(null==N?void 0:N.then)}},3260:($e,me,P)=>{P.d(me,{Q:()=>N,L:()=>ce});var c=P(5987),ee=P(576);function N(le){return(0,c.FC)(this,arguments,function*(){const ie=le.getReader();try{for(;;){const{value:ue,done:he}=yield(0,c.qq)(ie.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ue)}}finally{ie.releaseLock()}})}function ce(le){return(0,ee.m)(null==le?void 0:le.getReader)}},3532:($e,me,P)=>{P.d(me,{K:()=>ee});var c=P(576);function ee(N){return N&&(0,c.m)(N.schedule)}},4482:($e,me,P)=>{P.d(me,{A:()=>ee,e:()=>N});var c=P(576);function ee(ce){return(0,c.m)(null==ce?void 0:ce.lift)}function N(ce){return le=>{if(ee(le))return le.lift(function(_e){try{return ce(_e,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:($e,me,P)=>{function c(){}P.d(me,{Z:()=>c})},7849:($e,me,P)=>{P.d(me,{h:()=>N});var c=P(2416),ee=P(3410);function N(ce){ee.z.setTimeout(()=>{const{onUnhandledError:le}=c.v;if(!le)throw ce;le(ce)})}},4532:($e,me,P)=>{function c(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(me,{z:()=>c})},5987:($e,me,P)=>{function ue(z,re,de,ge){return new(de||(de=Promise))(function(ae,at){function Tt(ft){try{Qe(ge.next(ft))}catch(gn){at(gn)}}function un(ft){try{Qe(ge.throw(ft))}catch(gn){at(gn)}}function Qe(ft){ft.done?ae(ft.value):function Ae(ae){return ae instanceof de?ae:new de(function(at){at(ae)})}(ft.value).then(Tt,un)}Qe((ge=ge.apply(z,re||[])).next())})}function fe(z){return this instanceof fe?(this.v=z,this):new fe(z)}function pe(z,re,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ge=de.apply(z,re||[]),ae=[];return Ae={},at("next"),at("throw"),at("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae;function at($t){ge[$t]&&(Ae[$t]=function(jn){return new Promise(function(Yt,Ni){ae.push([$t,jn,Yt,Ni])>1||Tt($t,jn)})})}function Tt($t,jn){try{!function un($t){$t.value instanceof fe?Promise.resolve($t.value.v).then(Qe,ft):gn(ae[0][2],$t)}(ge[$t](jn))}catch(Yt){gn(ae[0][3],Yt)}}function Qe($t){Tt("next",$t)}function ft($t){Tt("throw",$t)}function gn($t,jn){$t(jn),ae.shift(),ae.length&&Tt(ae[0][0],ae[0][1])}}function Le(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,re=z[Symbol.asyncIterator];return re?re.call(z):(z=function oe(z){var re="function"==typeof Symbol&&Symbol.iterator,de=re&&z[re],ge=0;if(de)return de.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ge>=z.length&&(z=void 0),{value:z&&z[ge++],done:!z}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),de={},ge("next"),ge("throw"),ge("return"),de[Symbol.asyncIterator]=function(){return this},de);function ge(ae){de[ae]=z[ae]&&function(at){return new Promise(function(Tt,un){!function Ae(ae,at,Tt,un){Promise.resolve(un).then(function(Qe){ae({value:Qe,done:Tt})},at)}(Tt,un,(at=z[ae](at)).done,at.value)})}}}P.d(me,{mG:()=>ue,qq:()=>fe,FC:()=>pe,KL:()=>Le})},5e3:($e,me,P)=>{P.d(me,{deG:()=>Ur,tb:()=>_C,AFp:()=>hC,ip1:()=>Zg,CZH:()=>Bd,hGG:()=>$S,z2F:()=>kf,sBO:()=>Vd,Sil:()=>Uy,_Vd:()=>xi,EJc:()=>By,SBq:()=>bf,qLn:()=>wc,vpe:()=>$o,tBr:()=>ii,XFs:()=>et,OlP:()=>Vt,zs3:()=>ar,ZZ4:()=>Nf,aQg:()=>Xy,soG:()=>Kg,YKP:()=>yD,h0i:()=>Cf,PXZ:()=>oI,R0b:()=>Zt,FiY:()=>Gt,Lbi:()=>mC,g9A:()=>gC,Qsj:()=>hD,FYo:()=>Ef,JOm:()=>Tr,q3G:()=>Nn,tp0:()=>nr,Rgc:()=>Yc,dDg:()=>CC,q4F:()=>yy,GfV:()=>Ag,s_b:()=>Vg,ifc:()=>Lt,eFA:()=>xf,G48:()=>OC,Gpc:()=>W,f3M:()=>Me,X6Q:()=>dI,_c5:()=>ev,VLi:()=>DC,c2e:()=>yC,zSh:()=>As,wAp:()=>ct,vHH:()=>xe,EiD:()=>gh,mCW:()=>fc,qzn:()=>ko,JVY:()=>Vu,pB0:()=>_p,eBb:()=>hc,L6k:()=>dc,LAX:()=>mp,cg1:()=>ly,kL8:()=>iE,yhl:()=>gp,dqk:()=>At,sIi:()=>Uc,CqO:()=>Rb,QGY:()=>og,F4k:()=>H_,RDi:()=>gu,AaK:()=>ue,z3N:()=>Cs,qOj:()=>m_,TTD:()=>ta,_Bn:()=>_y,xp6:()=>Tl,uIk:()=>qh,ekj:()=>af,Suo:()=>QE,Xpm:()=>ut,lG2:()=>Ga,Yz7:()=>Yt,cJS:()=>Ci,oAB:()=>Ii,Yjl:()=>go,Y36:()=>$c,_UZ:()=>Sb,BQk:()=>j_,ynx:()=>U_,qZA:()=>V_,TgZ:()=>B_,EpF:()=>Mb,n5z:()=>Ws,Ikx:()=>wd,LFG:()=>K,$8M:()=>ll,$Z:()=>N_,NdJ:()=>ag,CRH:()=>XE,oxw:()=>lg,ALo:()=>VE,lcZ:()=>UE,Hsn:()=>Fb,F$t:()=>Nb,Q6J:()=>F_,WLB:()=>Ey,iGM:()=>YE,CHM:()=>_u,LSH:()=>_h,Udp:()=>sf,WFA:()=>vd,d8E:()=>ay,YNc:()=>Rs,_uU:()=>J_,Oqu:()=>ey,hij:()=>kl,Gf:()=>KE});var c=P(7579),ee=P(727),N=P(8306),ce=P(6451),le=P(3099);function _e(r){for(let s in r)if(r[s]===_e)return s;throw Error("Could not find renamed property on target object.")}function ie(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function ue(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ue).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function he(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const H=_e({__forward_ref__:_e});function W(r){return r.__forward_ref__=W,r.toString=function(){return ue(this())},r}function oe(r){return Ue(r)?r():r}function Ue(r){return"function"==typeof r&&r.hasOwnProperty(H)&&r.__forward_ref__===W}class xe extends Error{constructor(s,a){super(function Fe(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function fe(r){return"string"==typeof r?r:null==r?"":String(r)}function pe(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():fe(r)}function ze(r,s){const a=s?` in ${s}`:"";throw new xe(-201,`No provider for ${pe(r)} found${a}`)}function Qe(r,s){null==r&&function ft(r,s,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function Yt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ci(r){return{providers:r.providers||[],imports:r.imports||[]}}function Ln(r){return xr(r,kr)||xr(r,si)}function xr(r,s){return r.hasOwnProperty(s)?r[s]:null}function mn(r){return r&&(r.hasOwnProperty(Fi)||r.hasOwnProperty(Oe))?r[Fi]:null}const kr=_e({\u0275prov:_e}),Fi=_e({\u0275inj:_e}),si=_e({ngInjectableDef:_e}),Oe=_e({ngInjectorDef:_e});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let In;function jt(r){const s=In;return In=r,s}function ts(r,s,a){const u=Ln(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&et.Optional?null:void 0!==s?s:void ze(ue(r),"Injector")}function Hn(r){return{toString:r}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),Lt=(()=>{return(r=Lt||(Lt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Lt;var r})();const Xe="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,ns="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At=Xe||"undefined"!=typeof global&&global||st||ns,Di={},j=[],q=_e({\u0275cmp:_e}),Y=_e({\u0275dir:_e}),be=_e({\u0275pipe:_e}),G=_e({\u0275mod:_e}),te=_e({\u0275fac:_e}),Te=_e({__NG_ELEMENT_ID__:_e});let Ze=0;function ut(r){return Hn(()=>{const a={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||j,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Lt.Emulated,id:"c",styles:r.styles||j,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.directives,g=r.features,y=r.pipes;return u.id+=Ze++,u.inputs=za(r.inputs,a),u.outputs=za(r.outputs),g&&g.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(Kt):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(yt):null,u})}function Kt(r){return Tn(r)||function gr(r){return r[Y]||null}(r)}function yt(r){return function Yn(r){return r[be]||null}(r)}const fi={};function Ii(r){return Hn(()=>{const s={type:r.type,bootstrap:r.bootstrap||j,declarations:r.declarations||j,imports:r.imports||j,exports:r.exports||j,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(fi[r.id]=r.type),s})}function za(r,s){if(null==r)return Di;const a={};for(const u in r)if(r.hasOwnProperty(u)){let h=r[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=u,s&&(s[h]=g)}return a}const Ga=ut;function go(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Tn(r){return r[q]||null}function Mn(r,s){const a=r[G]||null;if(!a&&!0===s)throw new Error(`Type ${ue(r)} does not have '\u0275mod' property.`);return a}function Si(r){return Array.isArray(r)&&"object"==typeof r[1]}function Zi(r){return Array.isArray(r)&&!0===r[1]}function $l(r){return 0!=(8&r.flags)}function ou(r){return 2==(2&r.flags)}function os(r){return 1==(1&r.flags)}function Qt(r){return null!==r.template}function au(r){return 0!=(512&r[2])}function Bs(r,s){return r.hasOwnProperty(te)?r[te]:null}class Wa{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ta(){return Vs}function Vs(r){return r.type.prototype.ngOnChanges&&(r.setInput=fu),th}function th(){const r=_r(this),s=null==r?void 0:r.current;if(s){const a=r.previous;if(a===Di)r.previous=s;else for(let u in s)a[u]=s[u];r.current=null,this.ngOnChanges(s)}}function fu(r,s,a,u){const h=_r(r)||function as(r,s){return r[Ki]=s}(r,{previous:Di,current:null}),g=h.current||(h.current={}),y=h.previous,E=this.declaredInputs[a],C=y[E];g[E]=new Wa(C&&C.currentValue,s,y===Di),r[u]=s}ta.ngInherit=!0;const Ki="__ngSimpleChanges__";function _r(r){return r[Ki]||null}let Za;function gu(r){Za=r}function fn(r){return!!r.listen}const vr={createRenderer:(r,s)=>function na(){return void 0!==Za?Za:"undefined"!=typeof document?document:void 0}()};function vn(r){for(;Array.isArray(r);)r=r[0];return r}function Fr(r,s){return vn(s[r])}function Xn(r,s){return vn(s[r.index])}function br(r,s){return r.data[s]}function mi(r,s){const a=s[r];return Si(a)?a:a[0]}function Rn(r){return 4==(4&r[2])}function vo(r){return 128==(128&r[2])}function Jn(r,s){return null==s?null:r[s]}function Us(r){r[18]=0}function us(r,s){r[5]+=s;let a=r,u=r[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const ot={lFrame:oa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Yl(){return ot.bindingsEnabled}function De(){return ot.lFrame.lView}function St(){return ot.lFrame.tView}function _u(r){return ot.lFrame.contextLView=r,r[8]}function tn(){let r=Co();for(;null!==r&&64===r.type;)r=r.parent;return r}function Co(){return ot.lFrame.currentTNode}function ti(r,s){const a=ot.lFrame;a.currentTNode=r,a.isParent=s}function Lr(){return ot.lFrame.isParent}function Ka(){ot.lFrame.isParent=!1}function wo(){return ot.isInCheckNoChangesMode}function Hs(r){ot.isInCheckNoChangesMode=r}function Bn(){const r=ot.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Er(){return ot.lFrame.bindingIndex++}function nh(r,s){const a=ot.lFrame;a.bindingIndex=a.bindingRootIndex=r,Io(s)}function Io(r){ot.lFrame.currentDirectiveIndex=r}function $s(r){const s=ot.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function To(){return ot.lFrame.currentQueryIndex}function sa(r){ot.lFrame.currentQueryIndex=r}function Ja(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Kl(r,s,a){if(a&et.SkipSelf){let h=s,g=r;for(;!(h=h.parent,null!==h||a&et.Host||(h=Ja(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;s=h,r=g}const u=ot.lFrame=ih();return u.currentTNode=s,u.lView=r,!0}function So(r){const s=ih(),a=r[1];ot.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ih(){const r=ot.lFrame,s=null===r?null:r.child;return null===s?oa(r):s}function oa(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function el(){const r=ot.lFrame;return ot.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const aa=el;function tl(){const r=el();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function On(){return ot.lFrame.selectedIndex}function zn(r){ot.lFrame.selectedIndex=r}function bn(){const r=ot.lFrame;return br(r.tView,r.selectedIndex)}function Xl(r,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const g=r.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:O}=g;y&&(r.contentHooks||(r.contentHooks=[])).push(-a,y),E&&((r.contentHooks||(r.contentHooks=[])).push(a,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,E)),C&&(r.viewHooks||(r.viewHooks=[])).push(-a,C),S&&((r.viewHooks||(r.viewHooks=[])).push(a,S),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,S)),null!=O&&(r.destroyHooks||(r.destroyHooks=[])).push(a,O)}}function hs(r,s,a){ah(r,s,3,a)}function nl(r,s,a,u){(3&r[2])===a&&ah(r,s,a,u)}function il(r,s){let a=r[2];(3&a)===s&&(a&=2047,a+=1,r[2]=a)}function ah(r,s,a,u){const g=null!=u?u:-1,y=s.length-1;let E=0;for(let C=void 0!==u?65535&r[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(E=s[C],null!=u&&E>=u)break}else s[C]<0&&(r[18]+=65536),(E<g||-1==g)&&(Cu(r,a,s,C),r[18]=(4294901760&r[18])+C+2),C++}function Cu(r,s,a,u){const h=a[u]<0,g=a[u+1],E=r[h?-a[u]:a[u]];if(h){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class En{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function sl(r,s,a){const u=fn(r);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],E=a[h++],C=a[h++];u?r.setAttribute(s,E,C,y):s.setAttributeNS(y,E,C)}else{const y=g,E=a[++h];lt(y)?u&&r.setProperty(s,y,E):u?r.setAttribute(s,y,E):s.setAttribute(y,E),h++}}return h}function oi(r){return 3===r||4===r||6===r}function lt(r){return 64===r.charCodeAt(0)}function Ft(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||xn(r,a,h,null,-1===a||2===a?s[++u]:null)}}return r}function xn(r,s,a,u,h){let g=0,y=r.length;if(-1===s)y=-1;else for(;g<r.length;){const E=r[g++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=g-1;break}}}for(;g<r.length;){const E=r[g];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(r[g+1]=h));if(u===r[g+1])return void(r[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==y&&(r.splice(y,0,s),g=y+1),r.splice(g++,0,a),null!==u&&r.splice(g++,0,u),null!==h&&r.splice(g++,0,h)}function fs(r){return-1!==r}function Je(r){return 32767&r}function ni(r,s){let a=function It(r){return r>>16}(r),u=s;for(;a>0;)u=u[15],a--;return u}let kn=!0;function ua(r){const s=kn;return kn=r,s}let Mo=0;function Vi(r,s){const a=nc(r,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(r.injectorIndex=s.length,tc(u.data,r),tc(s,null),tc(u.blueprint,null));const h=ps(r,s),g=r.injectorIndex;if(fs(h)){const y=Je(h),E=ni(h,s),C=E[1].data;for(let S=0;S<8;S++)s[g+S]=E[y+S]|C[y+S]}return s[g+8]=h,g}function tc(r,s){r.push(0,0,0,0,0,0,0,0,s)}function nc(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function ps(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){const g=h[1],y=g.type;if(u=2===y?g.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function da(r,s,a){!function zs(r,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Te)&&(u=a[Te]),null==u&&(u=a[Te]=Mo++);const h=255&u;s.data[r+(h>>5)]|=1<<h}(r,s,a)}function ol(r,s,a){if(a&et.Optional)return r;ze(s,"NodeInjector")}function er(r,s,a,u){if(a&et.Optional&&void 0===u&&(u=null),0==(a&(et.Self|et.Host))){const h=r[9],g=jt(void 0);try{return h?h.get(s,u,a&et.Optional):ts(s,u,a&et.Optional)}finally{jt(g)}}return ol(u,s,a)}function Ro(r,s,a,u=et.Default,h){if(null!==r){const g=function Vr(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Te)?r[Te]:void 0;return"number"==typeof s?s>=0?255&s:al:s}(a);if("function"==typeof g){if(!Kl(s,r,u))return u&et.Host?ol(h,a,u):er(s,a,u,h);try{const y=g(u);if(null!=y||u&et.Optional)return y;ze(a)}finally{aa()}}else if("number"==typeof g){let y=null,E=nc(r,s),C=-1,S=u&et.Host?s[16][6]:null;for((-1===E||u&et.SkipSelf)&&(C=-1===E?ps(r,s):s[E+8],-1!==C&&tr(u,!1)?(y=s[1],E=Je(C),s=ni(C,s)):E=-1);-1!==E;){const O=s[1];if(Gs(g,E,O.data)){const F=fa(E,s,a,y,u,S);if(F!==ha)return F}C=s[E+8],-1!==C&&tr(u,s[1].data[E+8]===S)&&Gs(g,E,s)?(y=O,E=Je(C),s=ni(C,s)):E=-1}}}return er(s,a,u,h)}const ha={};function al(){return new Ui(tn(),De())}function fa(r,s,a,u,h,g){const y=s[1],E=y.data[r+8],O=gs(E,y,a,null==u?ou(E)&&kn:u!=y&&0!=(3&E.type),h&et.Host&&g===E);return null!==O?ms(s,y,O,E):ha}function gs(r,s,a,u,h){const g=r.providerIndexes,y=s.data,E=1048575&g,C=r.directiveStart,O=g>>20,$=h?E+O:r.directiveEnd;for(let J=u?E:E+O;J<$;J++){const ye=y[J];if(J<C&&a===ye||J>=C&&ye.type===a)return J}if(h){const J=y[C];if(J&&Qt(J)&&J.type===a)return C}return null}function ms(r,s,a,u){let h=r[a];const g=s.data;if(function lh(r){return r instanceof En}(h)){const y=h;y.resolving&&function Re(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new xe(-200,`Circular dependency in DI detected for ${r}${a}`)}(pe(g[a]));const E=ua(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?jt(y.injectImpl):null;Kl(r,u,et.Default);try{h=r[a]=y.factory(void 0,g,r,u),s.firstCreatePass&&a>=u.directiveStart&&function oh(r,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(u){const y=Vs(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,g))}(a,g[a],s)}finally{null!==C&&jt(C),ua(E),y.resolving=!1,aa()}}return h}function Gs(r,s,a){return!!(a[s+(r>>5)]&1<<r)}function tr(r,s){return!(r&et.Self||r&et.Host&&s)}class Ui{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Ro(this._tNode,this._lView,s,u,a)}}function Ws(r){return Hn(()=>{const s=r.prototype.constructor,a=s[te]||on(s),u=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==u;){const g=h[te]||on(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function on(r){return Ue(r)?()=>{const s=on(oe(r));return s&&s()}:Bs(r)}function ll(r){return function ln(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const g=a[h];if(oi(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(g===s)return a[h+1];h+=2}}}return null}(tn(),r)}const Dn="__parameters__";function Pn(r,s,a){return Hn(()=>{const u=function Cr(r){return function(...a){if(r){const u=r(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...g){if(this instanceof h)return u.apply(this,g),this;const y=new h(...g);return E.annotation=y,E;function E(C,S,O){const F=C.hasOwnProperty(Dn)?C[Dn]:Object.defineProperty(C,Dn,{value:[]})[Dn];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(y),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}class Vt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ur=new Vt("AnalyzeForEntryComponents");function Wn(r,s){void 0===s&&(s=r);for(let a=0;a<r.length;a++){let u=r[a];Array.isArray(u)?(s===r&&(s=r.slice(0,a)),Wn(u,s)):s!==r&&s.push(u)}return s}function $r(r,s){r.forEach(a=>Array.isArray(a)?$r(a,s):s(a))}function Mu(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function ul(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function ys(r,s){const a=[];for(let u=0;u<r;u++)a.push(s);return a}function it(r,s,a){let u=Ai(r,s);return u>=0?r[1|u]=a:(u=~u,function dl(r,s,a,u){let h=r.length;if(h==s)r.push(a,u);else if(1===h)r.push(u,r[0]),r[0]=a;else{for(h--,r.push(r[h-1],r[h]);h>s;)r[h]=r[h-2],h--;r[s]=a,r[s+1]=u}}(r,u,s,a)),u}function ga(r,s){const a=Ai(r,s);if(a>=0)return r[1|a]}function Ai(r,s){return function rc(r,s,a){let u=0,h=r.length>>a;for(;h!==u;){const g=u+(h-u>>1),y=r[g<<a];if(s===y)return g<<a;y>s?h=g:u=g+1}return~(h<<a)}(r,s,1)}const Sn={},pl="__NG_DI_FLAG__",oc="ngTempTokenPath",Pu=/\n/gm,_a="__source",w=_e({provide:String,useValue:_e});let T;function x(r){const s=T;return T=r,s}function B(r,s=et.Default){if(void 0===T)throw new xe(203,"");return null===T?ts(r,void 0,s):T.get(r,s&et.Optional?null:void 0,s)}function K(r,s=et.Default){return(function _n(){return In}()||B)(oe(r),s)}const Me=K;function Ge(r){const s=[];for(let a=0;a<r.length;a++){const u=oe(r[a]);if(Array.isArray(u)){if(0===u.length)throw new xe(900,"");let h,g=et.Default;for(let y=0;y<u.length;y++){const E=u[y],C=dt(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}s.push(K(h,g))}else s.push(K(u))}return s}function nt(r,s){return r[pl]=s,r.prototype[pl]=s,r}function dt(r){return r[pl]}const ii=nt(Pn("Inject",r=>({token:r})),-1),Gt=nt(Pn("Optional"),8),nr=nt(Pn("SkipSelf"),4);let ml;function ir(r){var s;return(null===(s=function Wr(){if(void 0===ml&&(ml=null,At.trustedTypes))try{ml=At.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return ml}())||void 0===s?void 0:s.createHTML(r))||r}class qr{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fp extends qr{getTypeName(){return"HTML"}}class Lu extends qr{getTypeName(){return"Style"}}class Bu extends qr{getTypeName(){return"Script"}}class pp extends qr{getTypeName(){return"URL"}}class uc extends qr{getTypeName(){return"ResourceURL"}}function Cs(r){return r instanceof qr?r.changingThisBreaksApplicationSecurity:r}function ko(r,s){const a=gp(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function gp(r){return r instanceof qr&&r.getTypeName()||null}function Vu(r){return new fp(r)}function dc(r){return new Lu(r)}function hc(r){return new Bu(r)}function mp(r){return new pp(r)}function _p(r){return new uc(r)}class fh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ir(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Uu{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ir(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ir(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const mm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ju=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fc(r){return(r=String(r)).match(mm)||r.match(ju)?r:"unsafe:"+r}function ws(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function yl(...r){const s={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const pc=ws("area,br,col,hr,img,wbr"),yp=ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vp=ws("rp,rt"),$u=yl(pc,yl(yp,ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yl(vp,ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yl(vp,yp)),Ys=ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ph=ws("srcset"),zu=yl(Ys,ph,ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gc=ws("script,style,template");class Ca{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!$u.hasOwnProperty(a))return this.sanitizedSomething=!0,!gc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),y=g.name,E=y.toLowerCase();if(!zu.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=g.value;Ys[E]&&(C=fc(C)),ph[E]&&(r=C,C=(r=String(r)).split(",").map(s=>fc(s.trim())).join(", ")),this.buf.push(" ",y,'="',mc(C),'"')}var r;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();$u.hasOwnProperty(a)&&!pc.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(mc(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const ym=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vl=/([^\#-~ |!])/g;function mc(r){return r.replace(/&/g,"&amp;").replace(ym,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(vl,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bl;function gh(r,s){let a=null;try{bl=bl||function hh(r){const s=new Uu(r);return function gm(){try{return!!(new window.DOMParser).parseFromString(ir(""),"text/html")}catch(r){return!1}}()?new fh(s):s}(r);let u=s?String(s):"";a=bl.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=a.innerHTML,a=bl.getInertBodyElement(u)}while(u!==g);return ir((new Ca).sanitizeChildren(_c(a)||a))}finally{if(a){const u=_c(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function _c(r){return"content"in r&&function Ep(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function _h(r){const s=function Po(){const r=De();return r&&r[12]}();return s?s.sanitize(Nn.URL,r)||"":ko(r,"URL")?Cs(r):fc(fe(r))}const vc="__ngContext__";function ci(r,s){r[vc]=s}function Eh(r){const s=function bc(r){return r[vc]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function wh(r){return r.ngOriginalError}function Cc(r,...s){r.error(...s)}class wc{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function Dp(r){return r&&r.ngErrorLogger||Cc}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&wh(s);for(;a&&wh(a);)a=wh(a);return a||null}}const Yu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Js(r){return r instanceof Function?r():r}var Tr=(()=>((Tr=Tr||{})[Tr.Important=1]="Important",Tr[Tr.DashCase=2]="DashCase",Tr))();function Ih(r,s){return undefined(r,s)}function Hi(r){const s=r[3];return Zi(s)?s[3]:s}function Sh(r){return Qu(r[13])}function Sc(r){return Qu(r[4])}function Qu(r){for(;null!==r&&!Zi(r);)r=r[4];return r}function No(r,s,a,u,h){if(null!=u){let g,y=!1;Zi(u)?g=u:Si(u)&&(y=!0,u=u[0]);const E=vn(u);0===r&&null!==a?null==h?ne(s,a,E):U(s,a,E,h||null,!0):1===r&&null!==a?U(s,a,E,h||null,!0):2===r?function Oh(r,s,a){const u=We(r,s);u&&function Se(r,s,a,u){fn(r)?r.removeChild(s,a,u):s.removeChild(a)}(r,u,s,a)}(s,E,y):3===r&&s.destroyNode(E),null!=g&&function Oc(r,s,a,u,h){const g=a[7];g!==vn(a)&&No(s,r,u,g,h);for(let E=10;E<a.length;E++){const C=a[E];Dl(C[1],C,r,s,u,g)}}(s,r,g,a,h)}}function Ia(r,s,a){return fn(r)?r.createElement(s,a):null===a?r.createElement(s):r.createElementNS(a,s)}function Ta(r,s){const a=r[9],u=a.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,us(h,-1)),a.splice(u,1)}function Rh(r,s){if(r.length<=10)return;const a=10+s,u=r[a];if(u){const h=u[17];null!==h&&h!==r&&Ta(h,u),s>0&&(r[a-1][4]=u[4]);const g=ul(r,10+s);!function Pp(r,s){Dl(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=g[19];null!==y&&y.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function _(r,s){if(!(256&s[2])){const a=s[11];fn(a)&&a.destroyNode&&Dl(r,s,a,3,null,null),function El(r){let s=r[13];if(!s)return f(r[1],r);for(;s;){let a=null;if(Si(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==r;)Si(s)&&f(s[1],s),s=s[3];null===s&&(s=r),Si(s)&&f(s[1],s),a=s&&s[4]}s=a}}(s)}}function f(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function v(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof En)){const g=a[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=h[g[y]],C=g[y+1];try{C.call(E)}finally{}}else try{g.call(h)}finally{}}}}(r,s),function p(r,s){const a=r.cleanup,u=s[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const y=a[g+1],E="function"==typeof y?y(s):vn(s[y]),C=u[h=a[g+2]],S=a[g+3];"boolean"==typeof S?E.removeEventListener(a[g],C,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),g+=2}else{const y=u[h=a[g+1]];a[g].call(y)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();s[7]=null}}(r,s),1===s[1].type&&fn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Zi(s[3])){a!==s[3]&&Ta(a,s);const u=s[19];null!==u&&u.detachView(r)}}}function I(r,s,a){return function M(r,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const h=r.data[u.directiveStart].encapsulation;if(h===Lt.None||h===Lt.Emulated)return null}return Xn(u,a)}(r,s.parent,a)}function U(r,s,a,u,h){fn(r)?r.insertBefore(s,a,u,h):s.insertBefore(a,u,h)}function ne(r,s,a){fn(r)?r.appendChild(s,a):s.appendChild(a)}function ke(r,s,a,u,h){null!==u?U(r,s,a,u,h):ne(r,s,a)}function We(r,s){return fn(r)?r.parentNode(s):s.parentNode}function Mt(r,s,a){return eo(r,s,a)}let eo=function qn(r,s,a){return 40&r.type?Xn(r,a):null};function Mc(r,s,a,u){const h=I(r,u,s),g=s[11],E=Mt(u.parent||s[6],u,s);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)ke(g,h,a[C],E,!1);else ke(g,h,a,E,!1)}function Rc(r,s){if(null!==s){const a=s.type;if(3&a)return Xn(s,r);if(4&a)return Ju(-1,r[s.index]);if(8&a){const u=s.child;if(null!==u)return Rc(r,u);{const h=r[s.index];return Zi(h)?Ju(-1,h):vn(h)}}if(32&a)return Ih(s,r)()||vn(r[s.index]);{const u=Cl(r,s);return null!==u?Array.isArray(u)?u[0]:Rc(Hi(r[16]),u):Rc(r,s.next)}}return null}function Cl(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Ju(r,s){const a=10+r+1;if(a<s.length){const u=s[a],h=u[1].firstChild;if(null!==h)return Rc(u,h)}return s[7]}function wl(r,s,a,u,h,g,y){for(;null!=a;){const E=u[a.index],C=a.type;if(y&&0===s&&(E&&ci(vn(E),u),a.flags|=4),64!=(64&a.flags))if(8&C)wl(r,s,a.child,u,h,g,!1),No(s,r,h,E,g);else if(32&C){const S=Ih(a,u);let O;for(;O=S();)No(s,r,h,O,g);No(s,r,h,E,g)}else 16&C?Aa(r,s,u,a,h,g):No(s,r,h,E,g);a=y?a.projectionNext:a.next}}function Dl(r,s,a,u,h,g){wl(a,u,r.firstChild,s,h,g,!1)}function Aa(r,s,a,u,h,g){const y=a[16],C=y[6].projection[u.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)No(s,r,h,C[S],g);else wl(r,s,C,y[3],h,g,!0)}function km(r,s,a){fn(r)?r.setAttribute(s,"style",a):s.style.cssText=a}function Pm(r,s,a){fn(r)?""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a):s.className=a}function Nm(r,s,a){let u=r.length;for(;;){const h=r.indexOf(s,a);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const g=s.length;if(h+g===u||r.charCodeAt(h+g)<=32)return h}a=h+1}}const Tv="ng-template";function Zr(r,s,a){let u=0;for(;u<r.length;){let h=r[u++];if(a&&"class"===h){if(h=r[u],-1!==Nm(h.toLowerCase(),s,0))return!0}else if(1===h){for(;u<r.length&&"string"==typeof(h=r[u++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Is(r){return 4===r.type&&r.value!==Tv}function GT(r,s,a){return s===(4!==r.type||a?r.value:Tv)}function k0(r,s,a){let u=4;const h=r.attrs||[],g=function Np(r){for(let s=0;s<r.length;s++)if(oi(r[s]))return s;return r.length}(h);let y=!1;for(let E=0;E<s.length;E++){const C=s[E];if("number"!=typeof C){if(!y)if(4&u){if(u=2|1&u,""!==C&&!GT(r,C,a)||""===C&&1===s.length){if(Mi(u))return!1;y=!0}}else{const S=8&u?C:s[++E];if(8&u&&null!==r.attrs){if(!Zr(r.attrs,S,a)){if(Mi(u))return!1;y=!0}continue}const F=xc(8&u?"class":C,h,Is(r),a);if(-1===F){if(Mi(u))return!1;y=!0;continue}if(""!==S){let $;$=F>g?"":h[F+1].toLowerCase();const J=8&u?$:null;if(J&&-1!==Nm(J,S,0)||2&u&&S!==$){if(Mi(u))return!1;y=!0}}}}else{if(!y&&!Mi(u)&&!Mi(C))return!1;if(y&&Mi(C))continue;y=!1,u=C|1&u}}return Mi(u)||y}function Mi(r){return 0==(1&r)}function xc(r,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let g=!1;for(;h<s.length;){const y=s[h];if(y===r)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function Sv(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,r)}function Il(r,s,a=!1){for(let u=0;u<s.length;u++)if(k0(r,s[u],a))return!0;return!1}function Av(r,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(r.length===u.length){for(let h=0;h<r.length;h++)if(r[h]!==u[h])continue e;return!0}}return!1}function Fp(r,s){return r?":not("+s.trim()+")":s}function Mv(r){let s=r[0],a=1,u=2,h="",g=!1;for(;a<r.length;){let y=r[a];if("string"==typeof y)if(2&u){const E=r[++a];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!Mi(y)&&(s+=Fp(g,h),h=""),u=y,g=g||!Mi(u);a++}return""!==h&&(s+=Fp(g,h)),s}const Et={};function Tl(r){Lp(St(),De(),On()+r,wo())}function Lp(r,s,a,u){if(!u)if(3==(3&s[2])){const g=r.preOrderCheckHooks;null!==g&&hs(s,g,a)}else{const g=r.preOrderHooks;null!==g&&nl(s,g,0,a)}zn(a)}function xh(r,s){return r<<17|s<<2}function Ts(r){return r>>17&32767}function Bp(r){return 2|r}function Fo(r){return(131068&r)>>2}function ri(r,s){return-131069&r|s<<2}function kh(r){return 1|r}function zp(r,s){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],g=a[u+1];if(-1!==g){const y=r.data[g];sa(h),y.contentQueries(2,s[g],g)}}}function id(r,s,a,u,h,g,y,E,C,S){const O=s.blueprint.slice();return O[0]=h,O[2]=140|u,Us(O),O[3]=O[15]=r,O[8]=a,O[10]=y||r&&r[10],O[11]=E||r&&r[11],O[12]=C||r&&r[12]||null,O[9]=S||r&&r[9]||null,O[6]=g,O[16]=2==s.type?r[16]:O,O}function rd(r,s,a,u,h){let g=r.data[s];if(null===g)g=function Wm(r,s,a,u,h){const g=Co(),y=Lr(),C=r.data[s]=function Ym(r,s,a,u,h,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,a,s,u,h);return null===r.firstChild&&(r.firstChild=C),null!==g&&(y?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(r,s,a,u,h),function vu(){return ot.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=h;const y=function ds(){const r=ot.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return ti(g,!0),g}function sd(r,s,a,u){if(0===a)return-1;const h=s.length;for(let g=0;g<a;g++)s.push(u),r.blueprint.push(u),r.data.push(null);return h}function od(r,s,a){So(s);try{const u=r.viewQuery;null!==u&&ka(1,u,a);const h=r.template;null!==h&&Pv(r,s,h,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&zp(r,s),r.staticViewQueries&&ka(2,r.viewQuery,a);const g=r.components;null!==g&&function H0(r,s){for(let a=0;a<s.length;a++)An(r,s[a])}(s,g)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[2]&=-5,tl()}}function Fc(r,s,a,u){const h=s[2];if(256==(256&h))return;So(s);const g=wo();try{Us(s),function Xa(r){return ot.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Pv(r,s,a,2,u);const y=3==(3&h);if(!g)if(y){const S=r.preOrderCheckHooks;null!==S&&hs(s,S,null)}else{const S=r.preOrderHooks;null!==S&&nl(s,S,0,null),il(s,0)}if(function W0(r){for(let s=Sh(r);null!==s;s=Sc(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const h=a[u],g=h[3];0==(1024&h[2])&&us(g,1),h[2]|=1024}}}(s),function e_(r){for(let s=Sh(r);null!==s;s=Sc(s))for(let a=10;a<s.length;a++){const u=s[a],h=u[1];vo(u)&&Fc(h,u,h.template,u[8])}}(s),null!==r.contentQueries&&zp(r,s),!g)if(y){const S=r.contentCheckHooks;null!==S&&hs(s,S)}else{const S=r.contentHooks;null!==S&&nl(s,S,1),il(s,1)}!function Gm(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)zn(~h);else{const g=h,y=a[++u],E=a[++u];nh(y,g),E(2,s[g])}}}finally{zn(-1)}}(r,s);const E=r.components;null!==E&&function j0(r,s){for(let a=0;a<s.length;a++)Uh(r,s[a])}(s,E);const C=r.viewQuery;if(null!==C&&ka(2,C,u),!g)if(y){const S=r.viewCheckHooks;null!==S&&hs(s,S)}else{const S=r.viewHooks;null!==S&&nl(s,S,2),il(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,us(s[3],-1))}finally{tl()}}function kv(r,s,a,u){const h=s[10],g=!wo(),y=Rn(s);try{g&&!y&&h.begin&&h.begin(),y&&od(r,s,u),Fc(r,s,a,u)}finally{g&&!y&&h.end&&h.end()}}function Pv(r,s,a,u,h){const g=On(),y=2&u;try{zn(-1),y&&s.length>20&&Lp(r,s,20,wo()),a(u,h)}finally{zn(g)}}function Nv(r,s,a){if($l(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const y=r.data[g];y.contentQueries&&y.contentQueries(1,a[g],g)}}}function qm(r,s,a){!Yl()||(function Gv(r,s,a,u){const h=a.directiveStart,g=a.directiveEnd;r.firstCreatePass||Vi(a,s),ci(u,s);const y=a.initialInputs;for(let E=h;E<g;E++){const C=r.data[E],S=Qt(C);S&&Qv(s,a,C);const O=ms(s,r,E,a);ci(O,s),null!==y&&qt(0,E-h,O,C,0,y),S&&(mi(a.index,s)[8]=O)}}(r,s,a,Xn(a,s)),128==(128&a.flags)&&function Wv(r,s,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,E=function ra(){return ot.lFrame.currentDirectiveIndex}();try{zn(y);for(let C=u;C<h;C++){const S=r.data[C],O=s[C];Io(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Xm(S,O)}}finally{zn(-1),Io(E)}}(r,s,a))}function Zm(r,s,a=Xn){const u=s.localNames;if(null!==u){let h=s.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],E=-1===y?a(s,r):r[y];r[h++]=E}}}function Fv(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Bh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Bh(r,s,a,u,h,g,y,E,C,S){const O=20+u,F=O+h,$=function Lv(r,s){const a=[];for(let u=0;u<s;u++)a.push(u<r?null:Et);return a}(O,F),J="function"==typeof S?S():S;return $[1]={type:r,blueprint:$,template:a,queries:null,viewQuery:E,declTNode:s,data:$.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function xa(r,s,a,u){const h=tb(s);null===a?h.push(u):(h.push(a),r.firstCreatePass&&nb(r).push(u,h.length-1))}function Uv(r,s,a){for(let u in r)if(r.hasOwnProperty(u)){const h=r[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,h):a[u]=[s,h]}return a}function bi(r,s,a,u,h,g,y,E){const C=Xn(s,a);let O,S=s.inputs;!E&&null!=S&&(O=S[u])?(rb(r,a,O,u,h),ou(s)&&function jv(r,s){const a=mi(s,r);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function Gp(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),h=null!=y?y(h,s.value||"",u):h,fn(g)?g.setProperty(C,u,h):lt(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function Km(r,s,a,u){let h=!1;if(Yl()){const g=function qv(r,s,a){const u=r.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];Il(a,y.selectors,!1)&&(h||(h=[]),da(Vi(a,s),r,y.type),Qt(y)?(Zv(r,a),h.unshift(y)):h.push(y))}return h}(r,s,a),y=null===u?null:{"":-1};if(null!==g){h=!0,Jm(a,r.data.length,g.length);for(let O=0;O<g.length;O++){const F=g[O];F.providersResolver&&F.providersResolver(F)}let E=!1,C=!1,S=sd(r,s,g.length,null);for(let O=0;O<g.length;O++){const F=g[O];a.mergedAttrs=Ft(a.mergedAttrs,F.hostAttrs),Vh(r,a,s,S,F),Kv(S,F,y),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const $=F.type.prototype;!E&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),E=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),C=!0),S++}!function $0(r,s){const u=s.directiveEnd,h=r.data,g=s.attrs,y=[];let E=null,C=null;for(let S=s.directiveStart;S<u;S++){const O=h[S],F=O.inputs,$=null===g||Is(s)?null:Rt(F,g);y.push($),E=Uv(F,S,E),C=Uv(O.outputs,S,C)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=E,s.outputs=C}(r,a)}y&&function Yv(r,s,a){if(s){const u=r.localNames=[];for(let h=0;h<s.length;h+=2){const g=a[s[h+1]];if(null==g)throw new xe(-301,`Export of name '${s[h+1]}' not found!`);u.push(s[h],g)}}}(a,u,y)}return a.mergedAttrs=Ft(a.mergedAttrs,a.attrs),h}function Qm(r,s,a,u,h,g){const y=g.hostBindings;if(y){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const C=~s.index;(function G0(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(u,h,y)}}function Xm(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Zv(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function Kv(r,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=r;Qt(s)&&(a[""]=r)}}function Jm(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}function Vh(r,s,a,u,h){r.data[u]=h;const g=h.factory||(h.factory=Bs(h.type)),y=new En(g,Qt(h),null);r.blueprint[u]=y,a[u]=y,Qm(r,s,0,u,sd(r,a,h.hostVars,Et),h)}function Qv(r,s,a){const u=Xn(s,r),h=Fv(a),g=r[10],y=Ei(r,id(r,h,null,a.onPush?64:16,u,s,g,g.createRenderer(u,a),null,null));r[s.index]=y}function no(r,s,a,u,h,g){const y=Xn(r,s);!function Wt(r,s,a,u,h,g,y){if(null==g)fn(r)?r.removeAttribute(s,h,a):s.removeAttribute(h);else{const E=null==y?fe(g):y(g,u||"",h);fn(r)?r.setAttribute(s,h,E,a):a?s.setAttributeNS(a,h,E):s.setAttribute(h,E)}}(s[11],y,g,r.value,a,u,h)}function qt(r,s,a,u,h,g){const y=g[s];if(null!==y){const E=u.setInput;for(let C=0;C<y.length;){const S=y[C++],O=y[C++],F=y[C++];null!==E?u.setInput(a,F,S,O):a[O]=F}}}function Rt(r,s){let a=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;r.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,r[h],s[u+1])),u+=2}else u+=2;else u+=4}return a}function cn(r,s,a,u){return new Array(r,!0,!1,s,null,0,u,a,null,null)}function Uh(r,s){const a=mi(s,r);if(vo(a)){const u=a[1];80&a[2]?Fc(u,a,u.template,a[8]):a[5]>0&&Wp(a)}}function Wp(r){for(let u=Sh(r);null!==u;u=Sc(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const y=g[1];Fc(y,g,y.template,g[8])}else g[5]>0&&Wp(g)}const a=r[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=mi(a[u],r);vo(h)&&h[5]>0&&Wp(h)}}function An(r,s){const a=mi(s,r),u=a[1];(function Ot(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])})(u,a),od(u,a,a[8])}function Ei(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function t_(r){for(;r;){r[2]|=64;const s=Hi(r);if(au(r)&&!s)return r;r=s}return null}function i_(r,s,a){const u=s[10];u.begin&&u.begin();try{Fc(r,s,r.template,a)}catch(h){throw ib(s,h),h}finally{u.end&&u.end()}}function Xv(r){!function Sr(r){for(let s=0;s<r.components.length;s++){const a=r.components[s],u=Eh(a),h=u[1];kv(h,u,h.template,a)}}(r[8])}function ka(r,s,a){sa(0),s(r,a)}const jh=(()=>Promise.resolve(null))();function tb(r){return r[7]||(r[7]=[])}function nb(r){return r.cleanup||(r.cleanup=[])}function r_(r,s,a){return(null===r||Qt(r))&&(a=function mu(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(a[s.index])),a[11]}function ib(r,s){const a=r[9],u=a?a.get(wc,null):null;u&&u.handleError(s)}function rb(r,s,a,u,h){for(let g=0;g<a.length;){const y=a[g++],E=a[g++],C=s[y],S=r.data[y];null!==S.setInput?S.setInput(C,h,u,E):C[E]=h}}function Pa(r,s,a){const u=Fr(s,r);!function kp(r,s,a){fn(r)?r.setValue(s,a):s.textContent=a}(r[11],u,a)}function Hh(r,s,a){let u=a?r.styles:null,h=a?r.classes:null,g=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(u=he(u,E+": "+s[++y]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=h:r.classesWithoutHost=h}const ad=new Vt("INJECTOR",-1);class o_{get(s,a=Sn){if(a===Sn){const u=new Error(`NullInjectorError: No provider for ${ue(s)}!`);throw u.name="NullInjectorError",u}return a}}const As=new Vt("Set Injector scope."),Al={},io={};let a_;function or(){return void 0===a_&&(a_=new o_),a_}function sb(r,s=null,a=null,u){const h=qp(r,s,a,u);return h._resolveInjectorDefTypes(),h}function qp(r,s=null,a=null,u){return new l_(r,a,s||or(),u)}class l_{constructor(s,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&$r(a,E=>this.processProvider(E,s,a)),$r([s],E=>this.processInjectorType(E,[],g)),this.records.set(ad,ro(void 0,this));const y=this.records.get(As);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof s?null:ue(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Sn,u=et.Default){this.assertNotDestroyed();const h=x(this),g=jt(void 0);try{if(!(u&et.SkipSelf)){let E=this.records.get(s);if(void 0===E){const C=function Q0(r){return"function"==typeof r||"object"==typeof r&&r instanceof Vt}(s)&&Ln(s);E=C&&this.injectableDefInScope(C)?ro(c_(s),Al):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&et.Self?or():this.parent).get(s,a=u&et.Optional&&a===Sn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[oc]=y[oc]||[]).unshift(ue(s)),h)throw y;return function xt(r,s,a,u){const h=r[oc];throw s[_a]&&h.unshift(s[_a]),r.message=function _t(r,s,a,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let h=ue(s);if(Array.isArray(s))h=s.map(ue).join(" -> ");else if("object"==typeof s){let g=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${r.replace(Pu,"\n  ")}`}("\n"+r.message,h,a,u),r.ngTokenPath=h,r[oc]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{jt(g),x(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,h)=>s.push(ue(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,"")}processInjectorType(s,a,u){if(!(s=oe(s)))return!1;let h=mn(s);const g=null==h&&s.ngModule||void 0,y=void 0===g?s:g,E=-1!==u.indexOf(y);if(void 0!==g&&(h=mn(g)),null==h)return!1;if(null!=h.imports&&!E){let O;u.push(y);try{$r(h.imports,F=>{this.processInjectorType(F,a,u)&&(void 0===O&&(O=[]),O.push(F))})}finally{}if(void 0!==O)for(let F=0;F<O.length;F++){const{ngModule:$,providers:J}=O[F];$r(J,ye=>this.processProvider(ye,$,J||j))}}this.injectorDefTypes.add(y);const C=Bs(y)||(()=>new y);this.records.set(y,ro(C,Al));const S=h.providers;if(null!=S&&!E){const O=s;$r(S,F=>this.processProvider(F,O,S))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,u){let h=ld(s=oe(s))?s:oe(s&&s.provide);const g=function ab(r,s,a){return d_(r)?ro(void 0,r.useValue):ro(u_(r),Al)}(s);if(ld(s)||!0!==s.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=ro(void 0,Al,!0),y.factory=()=>Ge(y.multi),this.records.set(h,y)),h=s,y.multi.push(s)}this.records.set(h,g)}hydrate(s,a){return a.value===Al&&(a.value=io,a.value=a.factory()),"object"==typeof a.value&&a.value&&function K0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=oe(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function c_(r){const s=Ln(r),a=null!==s?s.factory:Bs(r);if(null!==a)return a;if(r instanceof Vt)throw new xe(204,"");if(r instanceof Function)return function ob(r){const s=r.length;if(s>0)throw ys(s,"?"),new xe(204,"");const a=function hi(r){const s=r&&(r[kr]||r[si]);if(s){const a=function Ut(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new xe(204,"")}function u_(r,s,a){let u;if(ld(r)){const h=oe(r);return Bs(h)||c_(h)}if(d_(r))u=()=>oe(r.useValue);else if(function Z0(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Ge(r.deps||[]));else if(function lb(r){return!(!r||!r.useExisting)}(r))u=()=>K(oe(r.useExisting));else{const h=oe(r&&(r.useClass||r.provide));if(!function Cn(r){return!!r.deps}(r))return Bs(h)||c_(h);u=()=>new h(...Ge(r.deps))}return u}function ro(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function d_(r){return null!==r&&"object"==typeof r&&w in r}function ld(r){return"function"==typeof r}let ar=(()=>{class r{static create(a,u){var h;if(Array.isArray(a))return sb({name:""},u,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return sb({name:g},a.parent,a.providers,g)}}}return r.THROW_IF_NOT_FOUND=Sn,r.NULL=new o_,r.\u0275prov=Yt({token:r,providedIn:"any",factory:()=>K(ad)}),r.__NG_ELEMENT_ID__=-1,r})();function Xp(r,s){Xl(Eh(r)[1],tn())}function m_(r){let s=function db(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;s;){let h;if(Qt(r))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,"");h=s.\u0275dir}if(h){if(a){u.push(h);const y=r;y.inputs=y_(r.inputs),y.declaredInputs=y_(r.declaredInputs),y.outputs=y_(r.outputs);const E=h.hostBindings;E&&Jp(r,E);const C=h.viewQuery,S=h.contentQueries;if(C&&v_(r,C),S&&nw(r,S),ie(r.inputs,h.inputs),ie(r.declaredInputs,h.declaredInputs),ie(r.outputs,h.outputs),Qt(h)&&h.data.animation){const O=r.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(r),E===m_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function __(r){let s=0,a=null;for(let u=r.length-1;u>=0;u--){const h=r[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Ft(h.hostAttrs,a=Ft(a,h.hostAttrs))}}(u)}function y_(r){return r===Di?{}:r===j?[]:r}function v_(r,s){const a=r.viewQuery;r.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function nw(r,s){const a=r.contentQueries;r.contentQueries=a?(u,h,g)=>{s(u,h,g),a(u,h,g)}:s}function Jp(r,s){const a=r.hostBindings;r.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}let tg=null;function Na(){if(!tg){const r=At.Symbol;if(r&&r.iterator)tg=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(tg=u)}}}return tg}function Uc(r){return!!E_(r)&&(Array.isArray(r)||!(r instanceof Map)&&Na()in r)}function E_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function so(r,s,a){return r[s]=a}function $i(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function qh(r,s,a,u){const h=De();return $i(h,Er(),s)&&(St(),no(bn(),h,r,s,a,u)),qh}function Rs(r,s,a,u,h,g,y,E){const C=De(),S=St(),O=r+20,F=S.firstCreatePass?function wn(r,s,a,u,h,g,y,E,C){const S=s.consts,O=rd(s,r,4,y||null,Jn(S,E));Km(s,a,O,Jn(S,C)),Xl(s,O);const F=O.tViews=Bh(2,O,u,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,O),F.queries=s.queries.embeddedTView(O)),O}(O,S,C,s,a,u,h,g,y):S.data[O];ti(F,!1);const $=C[11].createComment("");Mc(S,C,$,F),ci($,C),Ei(C,C[O]=cn($,C,$,F)),os(F)&&qm(S,C,F),null!=y&&Zm(C,F,E)}function $c(r,s=et.Default){const a=De();return null===a?K(r,s):Ro(tn(),a,oe(r),s)}function N_(){throw new Error("invalid")}function F_(r,s,a){const u=De();return $i(u,Er(),s)&&bi(St(),bn(),u,r,s,u[11],a,!1),F_}function sg(r,s,a,u,h){const y=h?"class":"style";rb(r,a,s.inputs[y],y,u)}function B_(r,s,a,u){const h=De(),g=St(),y=20+r,E=h[11],C=h[y]=Ia(E,s,function Eu(){return ot.lFrame.currentNamespace}()),S=g.firstCreatePass?function L_(r,s,a,u,h,g,y){const E=s.consts,S=rd(s,r,2,h,Jn(E,g));return Km(s,a,S,Jn(E,y)),null!==S.attrs&&Hh(S,S.attrs,!1),null!==S.mergedAttrs&&Hh(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,h,0,s,a,u):g.data[y];ti(S,!0);const O=S.mergedAttrs;null!==O&&sl(E,C,O);const F=S.classes;null!==F&&Pm(E,C,F);const $=S.styles;null!==$&&km(E,C,$),64!=(64&S.flags)&&Mc(g,h,C,S),0===function bo(){return ot.lFrame.elementDepthCount}()&&ci(C,h),function ei(){ot.lFrame.elementDepthCount++}(),os(S)&&(qm(g,h,S),Nv(g,S,h)),null!==u&&Zm(h,S)}function V_(){let r=tn();Lr()?Ka():(r=r.parent,ti(r,!1));const s=r;!function ia(){ot.lFrame.elementDepthCount--}();const a=St();a.firstCreatePass&&(Xl(a,r),$l(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Jl(r){return 0!=(16&r.flags)}(s)&&sg(a,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ca(r){return 0!=(32&r.flags)}(s)&&sg(a,s,De(),s.stylesWithoutHost,!1)}function Sb(r,s,a,u){B_(r,s,a,u),V_()}function U_(r,s,a){const u=De(),h=St(),g=r+20,y=h.firstCreatePass?function dw(r,s,a,u,h){const g=s.consts,y=Jn(g,u),E=rd(s,r,8,"ng-container",y);return null!==y&&Hh(E,y,!0),Km(s,a,E,Jn(g,h)),null!==s.queries&&s.queries.elementStart(s,E),E}(g,h,u,s,a):h.data[g];ti(y,!0);const E=u[g]=u[11].createComment("");Mc(h,u,E,y),ci(E,u),os(y)&&(qm(h,u,y),Nv(h,y,u)),null!=a&&Zm(u,y)}function j_(){let r=tn();const s=St();Lr()?Ka():(r=r.parent,ti(r,!1)),s.firstCreatePass&&(Xl(s,r),$l(r)&&s.queries.elementEnd(r))}function Mb(){return De()}function og(r){return!!r&&"function"==typeof r.then}function H_(r){return!!r&&"function"==typeof r.subscribe}const Rb=H_;function ag(r,s,a,u){const h=De(),g=St(),y=tn();return xb(g,h,h[11],y,r,s,!!a,u),ag}function vd(r,s){const a=tn(),u=De(),h=St();return xb(h,u,r_($s(h.data),a,u),a,r,s,!1),vd}function xb(r,s,a,u,h,g,y,E){const C=os(u),O=r.firstCreatePass&&nb(r),F=s[8],$=tb(s);let J=!0;if(3&u.type||E){const Be=Xn(u,s),Ke=E?E(Be):Be,Ce=$.length,rt=E?Nt=>E(vn(Nt[u.index])):u.index;if(fn(a)){let Nt=null;if(!E&&C&&(Nt=function Ob(r,s,a,u){const h=r.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===a&&h[g+1]===u){const E=s[7],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof y&&(g+=2)}return null}(r,s,h,u.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=g,Nt.__ngLastListenerFn__=g,J=!1;else{g=$_(u,s,F,g,!1);const Xt=a.listen(Ke,h,g);$.push(g,Xt),O&&O.push(h,rt,Ce,Ce+1)}}else g=$_(u,s,F,g,!0),Ke.addEventListener(h,g,y),$.push(g),O&&O.push(h,rt,Ce,y)}else g=$_(u,s,F,g,!1);const ye=u.outputs;let Pe;if(J&&null!==ye&&(Pe=ye[h])){const Be=Pe.length;if(Be)for(let Ke=0;Ke<Be;Ke+=2){const Qr=s[Pe[Ke]][Pe[Ke+1]].subscribe(g),Qc=$.length;$.push(g,Qr),O&&O.push(h,u.index,Qc,-(Qc+1))}}}function kb(r,s,a,u){try{return!1!==a(u)}catch(h){return ib(r,h),!1}}function $_(r,s,a,u,h){return function g(y){if(y===Function)return u;const E=2&r.flags?mi(r.index,s):s;0==(32&s[2])&&t_(E);let C=kb(s,0,u,y),S=g.__ngNextListenerFn__;for(;S;)C=kb(s,0,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function lg(r=1){return function bu(r){return(ot.lFrame.contextLView=function np(r,s){for(;r>0;)s=s[15],r--;return s}(r,ot.lFrame.contextLView))[8]}(r)}function Pb(r,s){let a=null;const u=function L(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(r);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===u?Il(r,g,!0):Av(u,g))return h}else a=h}return a}function Nb(r){const s=De()[16][6];if(!s.projection){const u=s.projection=ys(r?r.length:1,null),h=u.slice();let g=s.child;for(;null!==g;){const y=r?Pb(g,r):0;null!==y&&(h[y]?h[y].projectionNext=g:u[y]=g,h[y]=g),g=g.next}}}function Fb(r,s=0,a){const u=De(),h=St(),g=rd(h,20+r,16,null,a||null);null===g.projection&&(g.projection=s),Ka(),64!=(64&g.flags)&&function Iv(r,s,a){Aa(s[11],0,s,a,I(r,a,s),Mt(a.parent||s[6],a,s))}(h,u,g)}function Ba(r,s,a,u,h){const g=r[a+1],y=null===s;let E=u?Ts(g):Fo(g),C=!1;for(;0!==E&&(!1===C||y);){const O=r[E+1];tf(r[E],s)&&(C=!0,r[E+1]=u?kh(O):Bp(O)),E=u?Ts(O):Fo(O)}C&&(r[a+1]=u?Bp(g):kh(g))}function tf(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Ai(r,s)>=0}function sf(r,s,a){return ao(r,s,a,!1),sf}function af(r,s){return ao(r,s,null,!0),af}function ao(r,s,a,u){const h=De(),g=St(),y=function Ji(r){const s=ot.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}(2);g.firstUpdatePass&&function ug(r,s,a,u){const h=r.data;if(null===h[a+1]){const g=h[On()],y=function cg(r,s){return s>=r.expandoStartIndex}(r,a);(function uf(r,s){return 0!=(r.flags&(s?16:32))})(g,u)&&null===s&&!y&&(s=!1),s=function _w(r,s,a,u){const h=$s(r);let g=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=zc(a=dg(null,r,s,a,u),s.attrs,u),g=null);else{const y=s.directiveStylingLast;if(-1===y||r[y]!==h)if(a=dg(h,r,s,a,u),null===g){let C=function zb(r,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Fo(u))return r[Ts(u)]}(r,s,u);void 0!==C&&Array.isArray(C)&&(C=dg(null,r,s,C[1],u),C=zc(C,s.attrs,u),function yw(r,s,a,u){r[Ts(a?s.classBindings:s.styleBindings)]=u}(r,s,u,C))}else g=function vw(r,s,a){let u;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)u=zc(u,r[g].hostAttrs,a);return zc(u,s.attrs,a)}(r,s,u)}return void 0!==g&&(u?s.residualClasses=g:s.residualStyles=g),a}(h,g,s,u),function q_(r,s,a,u,h,g){let y=g?s.classBindings:s.styleBindings,E=Ts(y),C=Fo(y);r[u]=a;let O,S=!1;if(Array.isArray(a)){const F=a;O=F[1],(null===O||Ai(F,O)>0)&&(S=!0)}else O=a;if(h)if(0!==C){const $=Ts(r[E+1]);r[u+1]=xh($,E),0!==$&&(r[$+1]=ri(r[$+1],u)),r[E+1]=function Pc(r,s){return 131071&r|s<<17}(r[E+1],u)}else r[u+1]=xh(E,0),0!==E&&(r[E+1]=ri(r[E+1],u)),E=u;else r[u+1]=xh(C,0),0===E?E=u:r[C+1]=ri(r[C+1],u),C=u;S&&(r[u+1]=Bp(r[u+1])),Ba(r,O,u,!0),Ba(r,O,u,!1),function fw(r,s,a,u,h){const g=h?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof s&&Ai(g,s)>=0&&(a[u+1]=kh(a[u+1]))}(s,O,r,u,g),y=xh(E,C),g?s.classBindings=y:s.styleBindings=y}(h,g,s,a,y,u)}}(g,r,y,u),s!==Et&&$i(h,y,s)&&function xl(r,s,a,u,h,g,y,E){if(!(3&s.type))return;const C=r.data,S=C[E+1];cf(function td(r){return 1==(1&r)}(S)?pg(C,s,a,h,Fo(S),y):void 0)||(cf(g)||function ed(r){return 2==(2&r)}(S)&&(g=pg(C,null,a,h,E,y)),function xm(r,s,a,u,h){const g=fn(r);if(s)h?g?r.addClass(a,u):a.classList.add(u):g?r.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Tr.DashCase;if(null==h)g?r.removeStyle(a,u,y):a.style.removeProperty(u);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),y|=Tr.Important),g?r.setStyle(a,u,h,y):a.style.setProperty(u,h,E?"important":"")}}}(u,y,Fr(On(),a),h,g))}(g,g.data[On()],h,h[11],r,h[y+1]=function bw(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ue(Cs(r)))),r}(s,a),u,y)}function dg(r,s,a,u,h){let g=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(g=s[E],u=zc(u,g.hostAttrs,h),g!==r);)E++;return null!==r&&(a.directiveStylingLast=E),u}function zc(r,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?h=y:h===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),it(r,y,!!a||s[++g]))}return void 0===r?null:r}function pg(r,s,a,u,h,g){const y=null===s;let E;for(;h>0;){const C=r[h],S=Array.isArray(C),O=S?C[1]:C,F=null===O;let $=a[h+1];$===Et&&($=F?j:void 0);let J=F?ga($,u):O===u?$:void 0;if(S&&!cf(J)&&(J=ga(C,u)),cf(J)&&(E=J,y))return E;const ye=r[h+1];h=y?Ts(ye):Fo(ye)}if(null!==s){let C=g?s.residualClasses:s.residualStyles;null!=C&&(E=ga(C,u))}return E}function cf(r){return void 0!==r}function J_(r,s=""){const a=De(),u=St(),h=r+20,g=u.firstCreatePass?rd(u,h,1,s,null):u.data[h],y=a[h]=function Ac(r,s){return fn(r)?r.createText(s):r.createTextNode(s)}(a[11],s);Mc(u,a,y,g),ti(g,!1)}function ey(r){return kl("",r,""),ey}function kl(r,s,a){const u=De(),h=function Fa(r,s,a,u){return $i(r,Er(),a)?s+fe(a)+u:Et}(u,r,s,a);return h!==Et&&Pa(u,On(),h),kl}function wd(r,s,a){const u=De();return $i(u,Er(),s)&&bi(St(),bn(),u,r,s,u[11],a,!0),wd}function ay(r,s,a){const u=De();if($i(u,Er(),s)){const g=St(),y=bn();bi(g,y,u,r,s,r_($s(g.data),y,u),a,!0)}return ay}const Va=void 0;var Tw=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iw(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Dd={};function ly(r){const s=function Id(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=vg(s);if(a)return a;const u=s.split("-")[0];if(a=vg(u),a)return a;if("en"===u)return Tw;throw new Error(`Missing locale data for the locale "${r}".`)}function iE(r){return ly(r)[ct.PluralCase]}function vg(r){return r in Dd||(Dd[r]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[r]),Dd[r]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const Td="en-US";let cy=Td;function py(r,s,a,u,h){if(r=oe(r),Array.isArray(r))for(let g=0;g<r.length;g++)py(r[g],s,a,u,h);else{const g=St(),y=De();let E=ld(r)?r:oe(r.provide),C=u_(r);const S=tn(),O=1048575&S.providerIndexes,F=S.directiveStart,$=S.providerIndexes>>20;if(ld(r)||!r.multi){const J=new En(C,h,$c),ye=RE(E,s,h?O:O+$,F);-1===ye?(da(Vi(S,y),g,E),gy(g,r,s.length),s.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(J),y.push(J)):(a[ye]=J,y[ye]=J)}else{const J=RE(E,s,O+$,F),ye=RE(E,s,O,O+$),Pe=J>=0&&a[J],Be=ye>=0&&a[ye];if(h&&!Be||!h&&!Pe){da(Vi(S,y),g,E);const Ke=function lD(r,s,a,u,h){const g=new En(r,a,$c);return g.multi=[],g.index=s,g.componentProviders=0,ME(g,h,u&&!a),g}(h?aD:fS,a.length,h,u,C);!h&&Be&&(a[ye].providerFactory=Ke),gy(g,r,s.length,0),s.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(Ke),y.push(Ke)}else gy(g,r,J>-1?J:ye,ME(a[h?ye:J],C,!h&&u));!h&&u&&Be&&a[ye].componentProviders++}}}function gy(r,s,a,u){const h=ld(s),g=function Y0(r){return!!r.useClass}(s);if(h||g){const C=(g?oe(s.useClass):s).prototype.ngOnDestroy;if(C){const S=r.destroyHooks||(r.destroyHooks=[]);if(!h&&s.multi){const O=S.indexOf(a);-1===O?S.push(a,[u,C]):S[O+1].push(u,C)}else S.push(a,C)}}}function ME(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function RE(r,s,a,u){for(let h=a;h<u;h++)if(s[h]===r)return h;return-1}function fS(r,s,a,u){return my(this.multi,[])}function aD(r,s,a,u){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=ms(a,a[1],this.providerFactory.index,u);g=E.slice(0,y),my(h,g);for(let C=y;C<E.length;C++)g.push(E[C])}else g=[],my(h,g);return g}function my(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function _y(r,s=[]){return a=>{a.providersResolver=(u,h)=>function oD(r,s,a){const u=St();if(u.firstCreatePass){const h=Qt(r);py(a,u.data,u.blueprint,h,!0),py(s,u.data,u.blueprint,h,!1)}}(u,h?h(r):r,s)}}class OE{}class Oi{resolveComponentFactory(s){throw function uD(r){const s=Error(`No component factory found for ${ue(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let xi=(()=>{class r{}return r.NULL=new Oi,r})();function vf(){return xd(tn(),De())}function xd(r,s){return new bf(Xn(r,s))}let bf=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=vf,r})();function dD(r){return r instanceof bf?r.nativeElement:r}class Ef{}let hD=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function kE(){const r=De(),a=mi(tn().index,r);return function fD(r){return r[11]}(Si(a)?a:r)}(),r})(),PE=(()=>{class r{}return r.\u0275prov=Yt({token:r,providedIn:"root",factory:()=>null}),r})();class Ag{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const yy=new Ag("13.1.3"),kd={};function Mg(r,s,a,u,h=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&u.push(vn(g)),Zi(g))for(let E=10;E<g.length;E++){const C=g[E],S=C[1].firstChild;null!==S&&Mg(C[1],C,S,u)}const y=a.type;if(8&y)Mg(r,s,a.child,u);else if(32&y){const E=Ih(a,s);let C;for(;C=E();)u.push(C)}else if(16&y){const E=Cl(s,a);if(Array.isArray(E))u.push(...E);else{const C=Hi(s[16]);Mg(C[1],C,E,u,!0)}}a=h?a.projectionNext:a.next}return u}class Rg{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Mg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Zi(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Rh(s,u),ul(a,u))}this._attachedToViewContainer=!1}_(this._lView[1],this._lView)}onDestroy(s){xa(this._lView[1],this._lView,null,s)}markForCheck(){t_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){i_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function q0(r,s,a){Hs(!0);try{i_(r,s,a)}finally{Hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Om(r,s){Dl(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=s}}class pD extends Rg{constructor(s){super(s),this._view=s}detectChanges(){Xv(this._view)}checkNoChanges(){!function Jv(r){Hs(!0);try{Xv(r)}finally{Hs(!1)}}(this._view)}get context(){return null}}class Og extends xi{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Tn(s);return new NE(a,this.ngModule)}}function gD(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}const mD=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Yu});class NE extends OE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function P0(r){return r.map(Mv).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return gD(this.componentDef.inputs)}get outputs(){return gD(this.componentDef.outputs)}create(s,a,u,h){const g=(h=h||this.ngModule)?function _D(r,s){return{get:(a,u,h)=>{const g=r.get(a,kd,h);return g!==kd||u===kd?g:s.get(a,u,h)}}}(s,h.injector):s,y=g.get(Ef,vr),E=g.get(PE,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",O=u?function Vv(r,s,a){if(fn(r))return r.selectRootElement(s,a===Lt.ShadowDom);let u="string"==typeof s?r.querySelector(s):s;return u.textContent="",u}(C,u,this.componentDef.encapsulation):Ia(y.createRenderer(null,this.componentDef),S,function gS(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),F=this.componentDef.onPush?576:528,$=function ub(r,s){return{components:[],scheduler:r||Yu,clean:jh,playerHandler:s||null,flags:0}}(),J=Bh(0,null,null,1,0,null,null,null,null,null),ye=id(null,J,$,F,null,null,y,C,E,g);let Pe,Be;So(ye);try{const Ke=function Qp(r,s,a,u,h,g){const y=a[1];a[20]=r;const C=rd(y,20,2,"#host",null),S=C.mergedAttrs=s.hostAttrs;null!==S&&(Hh(C,S,!0),null!==r&&(sl(h,r,S),null!==C.classes&&Pm(h,r,C.classes),null!==C.styles&&km(h,r,C.styles)));const O=u.createRenderer(r,s),F=id(a,Fv(s),null,s.onPush?64:16,a[20],C,u,O,g||null,null);return y.firstCreatePass&&(da(Vi(C,a),y,s.type),Zv(y,C),Jm(C,a.length,1)),Ei(a,F),a[20]=F}(O,this.componentDef,ye,y,C);if(O)if(u)sl(C,O,["ng-version",yy.full]);else{const{attrs:Ce,classes:rt}=function N0(r){const s=[],a=[];let u=1,h=2;for(;u<r.length;){let g=r[u];if("string"==typeof g)2===h?""!==g&&s.push(g,r[++u]):8===h&&a.push(g);else{if(!Mi(h))break;h=g}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ce&&sl(C,O,Ce),rt&&rt.length>0&&Pm(C,O,rt.join(" "))}if(Be=br(J,20),void 0!==a){const Ce=Be.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const Nt=a[rt];Ce.push(null!=Nt?Array.from(Nt):null)}}Pe=function dd(r,s,a,u,h){const g=a[1],y=function zv(r,s,a){const u=tn();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Vh(r,u,s,sd(r,s,1,null),a));const h=ms(s,r,u.directiveStart,u);ci(h,s);const g=Xn(u,s);return g&&ci(g,s),h}(g,a,s);if(u.components.push(y),r[8]=y,h&&h.forEach(C=>C(y,s)),s.contentQueries){const C=tn();s.contentQueries(1,y,C.directiveStart)}const E=tn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(zn(E.index),Qm(a[1],E,0,E.directiveStart,E.directiveEnd,s),Xm(s,y)),y}(Ke,this.componentDef,ye,$,[Xp]),od(J,ye,null)}finally{tl()}return new _S(this.componentType,Pe,xd(Be,ye),ye,Be)}}class _S extends class cD{}{constructor(s,a,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new pD(h),this.componentType=s}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Cf{}class yD{}const wf=new Map;class xg extends Cf{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Og(this);const u=Mn(s);this._bootstrapComponents=Js(u.bootstrap),this._r3Injector=qp(s,a,[{provide:Cf,useValue:this},{provide:xi,useValue:this.componentFactoryResolver}],ue(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=ar.THROW_IF_NOT_FOUND,u=et.Default){return s===ar||s===Cf||s===ad?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class by extends yD{constructor(s){super(),this.moduleType=s,null!==Mn(s)&&function bD(r){const s=new Set;!function a(u){const h=Mn(u,!0),g=h.id;null!==g&&(function FE(r,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${r} - ${ue(s)} vs ${ue(s.name)}`)}(g,wf.get(g),u),wf.set(g,u));const y=Js(h.imports);for(const E of y)s.has(E)||(s.add(E),a(E))}(r)}(s)}create(s){return new xg(this.moduleType,s)}}function Ey(r,s,a,u,h){return function If(r,s,a,u,h,g,y){const E=s+a;return function jc(r,s,a,u){const h=$i(r,s,a);return $i(r,s+1,u)||h}(r,E,h,g)?so(r,E+2,y?u.call(y,h,g):u(h,g)):Df(r,E+2)}(De(),Bn(),r,s,a,u,h)}function Df(r,s){const a=r[s];return a===Et?void 0:a}function VE(r,s){const a=St();let u;const h=r+20;a.firstCreatePass?(u=function SD(r,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(r===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const g=u.factory||(u.factory=Bs(u.type)),y=jt($c);try{const E=ua(!1),C=g();return ua(E),function Kh(r,s,a,u){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=u}(a,De(),h,C),C}finally{jt(y)}}function UE(r,s,a){const u=r+20,h=De(),g=function gi(r,s){return r[s]}(h,u);return function Pd(r,s){return r[1].data[s].pure}(h,u)?function Pg(r,s,a,u,h,g){const y=s+a;return $i(r,y,h)?so(r,y+1,g?u.call(g,h):u(h)):Df(r,y+1)}(h,Bn(),s,g.transform,a,g):g.transform(a)}function Cy(r){return s=>{setTimeout(r,void 0,s)}}const $o=class MD extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var h,g,y;let E=s,C=a||(()=>null),S=u;if(s&&"object"==typeof s){const F=s;E=null===(h=F.next)||void 0===h?void 0:h.bind(F),C=null===(g=F.error)||void 0===g?void 0:g.bind(F),S=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(C=Cy(C),E&&(E=Cy(E)),S&&(S=Cy(S)));const O=super.subscribe({next:E,error:C,complete:S});return s instanceof ee.w0&&s.add(O),O}};function RD(){return this._results[Na()]()}class Bg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Na(),u=Bg.prototype;u[a]||(u[a]=RD)}get changes(){return this._changes||(this._changes=new $o)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const h=Wn(s);(this._changesDetected=!function sp(r,s,a){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let h=r[u],g=s[u];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Yc=(()=>{class r{}return r.__NG_ELEMENT_ID__=$E,r})();const HE=Yc,wy=class extends HE{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=id(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(a)),od(a,u,s),new Rg(u)}};function $E(){return Nl(tn(),De())}function Nl(r,s){return 4&r.type?new wy(s,r,xd(r,s)):null}let Vg=(()=>{class r{}return r.__NG_ELEMENT_ID__=Dy,r})();function Dy(){return Iy(tn(),De())}const zE=Vg,GE=class extends zE{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return xd(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const s=ps(this._hostTNode,this._hostLView);if(fs(s)){const a=ni(s,this._hostLView),u=Je(s);return new Ui(a[1].data[u+8],a)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ug(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const h=s.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(s,a,u,h,g){const y=s&&!function Oo(r){return"function"==typeof r}(s);let E;if(y)E=a;else{const F=a||{};E=F.index,u=F.injector,h=F.projectableNodes,g=F.ngModuleRef}const C=y?s:new NE(Tn(s)),S=u||this.parentInjector;if(!g&&null==C.ngModule&&S){const F=S.get(Cf,null);F&&(g=F)}const O=C.create(S,h,void 0,g);return this.insert(O.hostView,E),O}insert(s,a){const u=s._lView,h=u[1];if(function Zl(r){return Zi(r[3])}(u)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const F=u[3],$=new GE(F,F[6],F[3]);$.detach($.indexOf(s))}}const g=this._adjustIndex(a),y=this._lContainer;!function Ah(r,s,a,u){const h=10+u,g=a.length;u>0&&(a[h-1][4]=s),u<g-10?(s[4]=a[h],Mu(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Mh(r,s){const a=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===a?r[9]=[s]:a.push(s)}(y,s);const E=s[19];null!==E&&E.insertView(r),s[2]|=128}(h,u,y,g);const E=Ju(g,y),C=u[11],S=We(C,y[7]);return null!==S&&function yi(r,s,a,u,h,g){u[0]=h,u[6]=s,Dl(r,u,a,1,h,g)}(h,y[6],C,u,S,E),s.attachToViewContainerRef(),Mu(jg(y),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ug(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Rh(this._lContainer,a);u&&(ul(jg(this._lContainer),a),_(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Rh(this._lContainer,a);return u&&null!=ul(jg(this._lContainer),a)?new Rg(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Ug(r){return r[8]}function jg(r){return r[8]||(r[8]=[])}function Iy(r,s){let a;const u=s[r.index];if(Zi(u))a=u;else{let h;if(8&r.type)h=vn(u);else{const g=s[11];h=g.createComment("");const y=Xn(r,s);U(g,We(g,y),h,function Ye(r,s){return fn(r)?r.nextSibling(s):s.nextSibling}(g,y),!1)}s[r.index]=a=cn(u,s,h,r),Ei(s,a)}return new GE(a,r,s)}class Sy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nd{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let g=0;g<u;g++){const y=a.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Nd(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Mf(s,a).matches&&this.queries[a].setDirty()}}class Hg{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Sf{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(s,h);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new Sf(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Af{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Af(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(s,a,WE(a,g)),this.matchTNodeWithReadOption(s,a,gs(a,s,g,!1,!1))}else u===Yc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,gs(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===bf||h===Vg||h===Yc&&4&a.type)this.addMatch(a.index,-2);else{const g=gs(a,s,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function WE(r,s){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function qE(r,s,a,u){return-1===a?function xD(r,s){return 11&r.type?xd(r,s):4&r.type?Nl(r,s):null}(s,r):-2===a?function $g(r,s,a){return a===bf?xd(s,r):a===Yc?Nl(s,r):a===Vg?Iy(s,r):void 0}(r,s,u):ms(r,r[1],a,s)}function ZE(r,s,a,u){const h=s[19].queries[u];if(null===h.matches){const g=r.data,y=a.matches,E=[];for(let C=0;C<y.length;C+=2){const S=y[C];E.push(S<0?null:qE(s,g[S],y[C+1],a.metadata.read))}h.matches=E}return h.matches}function Ay(r,s,a,u){const h=r.queries.getByIndex(a),g=h.matches;if(null!==g){const y=ZE(r,s,h,a);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)u.push(y[E/2]);else{const S=g[E+1],O=s[-C];for(let F=10;F<O.length;F++){const $=O[F];$[17]===$[3]&&Ay($[1],$,S,u)}if(null!==O[9]){const F=O[9];for(let $=0;$<F.length;$++){const J=F[$];Ay(J[1],J,S,u)}}}}}return u}function YE(r){const s=De(),a=St(),u=To();sa(u+1);const h=Mf(a,u);if(r.dirty&&Rn(s)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const g=h.crossesNgTemplate?Ay(a,s,u,[]):ZE(a,s,h,u);r.reset(g,dD),r.notifyOnChanges()}return!0}return!1}function KE(r,s,a){const u=St();u.firstCreatePass&&(eC(u,new Hg(r,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),JE(u,De(),s)}function QE(r,s,a,u){const h=St();if(h.firstCreatePass){const g=tn();eC(h,new Hg(s,a,u),g.index),function PD(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(h,r),2==(2&a)&&(h.staticContentQueries=!0)}JE(h,De(),a)}function XE(){return function kD(r,s){return r[19].queries[s].queryList}(De(),To())}function JE(r,s,a){const u=new Bg(4==(4&a));xa(r,s,u,u.destroy),null===s[19]&&(s[19]=new Nd),s[19].queries.push(new Sy(u))}function eC(r,s,a){null===r.queries&&(r.queries=new Sf),r.queries.track(new Af(s,a))}function Mf(r,s){return r.queries.getByIndex(s)}function Ll(...r){}const Zg=new Vt("Application Initializer");let Bd=(()=>{class r{constructor(a){this.appInits=a,this.resolve=Ll,this.reject=Ll,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(og(g))a.push(g);else if(Rb(g)){const y=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(K(Zg,8))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();const hC=new Vt("AppId"),pC={provide:hC,useFactory:function fC(){return`${Yg()}${Yg()}${Yg()}`},deps:[]};function Yg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gC=new Vt("Platform Initializer"),mC=new Vt("Platform ID"),_C=new Vt("appBootstrapListener");let yC=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();const Kg=new Vt("LocaleId"),By=new Vt("DefaultCurrencyCode");class Vy{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Uy=(()=>{class r{compileModuleSync(a){return new by(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=Js(Mn(a).declarations).reduce((y,E)=>{const C=Tn(E);return C&&y.push(new NE(C)),y},[]);return new Vy(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();const jy=(()=>Promise.resolve(0))();function Hy(r){"undefined"==typeof Zone?jy.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Zt{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $o(!1),this.onMicrotaskEmpty=new $o(!1),this.onStable=new $o(!1),this.onError=new $o(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Qg(){let r=At.requestAnimationFrame,s=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function nI(r){const s=()=>{!function tI(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(At,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,$y(r),r.isCheckStableRunning=!0,vC(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),$y(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,g,y,E)=>{try{return bC(r),a.invokeTask(h,g,y,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&s(),Of(r)}},onInvoke:(a,u,h,g,y,E,C)=>{try{return bC(r),a.invoke(h,g,y,E,C)}finally{r.shouldCoalesceRunChangeDetection&&s(),Of(r)}},onHasTask:(a,u,h,g)=>{a.hasTask(h,g),u===h&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,$y(r),vC(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,h,g)=>(a.handleError(h,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,s,Ha,Ll,Ll);try{return g.runTask(y,a,u)}finally{g.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const Ha={};function vC(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function $y(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function bC(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Of(r){r._nesting--,vC(r)}class EC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $o,this.onMicrotaskEmpty=new $o,this.onStable=new $o,this.onError=new $o}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}let CC=(()=>{class r{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zt.assertNotInAngularZone(),Hy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hy(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return r.\u0275fac=function(a){return new(a||r)(K(Zt))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})(),wC=(()=>{class r{constructor(){this._applications=new Map,Kc.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Kc.findTestabilityInTree(this,a,u)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();class iI{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function DC(r){Kc=r}let uo,Kc=new iI;const sI=new Vt("AllowMultipleToken");class oI{constructor(s,a){this.name=s,this.token=a}}function xf(r,s,a=[]){const u=`Platform: ${s}`,h=new Vt(u);return(g=[])=>{let y=aI();if(!y||y.injector.get(sI,!1))if(r)r(a.concat(g).concat({provide:h,useValue:!0}));else{const E=a.concat(g).concat({provide:h,useValue:!0},{provide:As,useValue:"platform"});!function zy(r){if(uo&&!uo.destroyed&&!uo.injector.get(sI,!1))throw new xe(400,"");uo=r.get(SC);const s=r.get(gC,null);s&&s.forEach(a=>a())}(ar.create({providers:E,name:u}))}return function TC(r){const s=aI();if(!s)throw new xe(401,"");return s}()}}function aI(){return uo&&!uo.destroyed?uo:null}let SC=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const E=function lI(r,s){let a;return a="noop"===r?new EC:("zone.js"===r?void 0:r)||new Zt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:Zt,useValue:E}];return E.run(()=>{const S=ar.create({providers:C,parent:this.injector,name:a.moduleType.name}),O=a.create(S),F=O.injector.get(wc,null);if(!F)throw new xe(402,"");return E.runOutsideAngular(()=>{const $=E.onError.subscribe({next:J=>{F.handleError(J)}});O.onDestroy(()=>{Gy(this._modules,O),$.unsubscribe()})}),function Xg(r,s,a){try{const u=a();return og(u)?u.catch(h=>{throw s.runOutsideAngular(()=>r.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(F,E,()=>{const $=O.injector.get(Bd);return $.runInitializers(),$.donePromise.then(()=>(function rE(r){Qe(r,"Expected localeId to be defined"),"string"==typeof r&&(cy=r.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Kg,Td)||Td),this._moduleDoBootstrap(O),O))})})}bootstrapModule(a,u=[]){const h=AC({},u);return function IC(r,s,a){const u=new by(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(kf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(K(ar))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();function AC(r,s){return Array.isArray(s)?s.reduce(AC,r):Object.assign(Object.assign({},r),s)}let kf=(()=>{class r{constructor(a,u,h,g,y){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new N.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new N.y(S=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Zt.assertNotInAngularZone(),Hy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Zt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{O.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ce.T)(E,C.pipe((0,le.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new xe(405,"");let h;h=a instanceof OE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function rI(r){return r.isBoundToModule}(h)?void 0:this._injector.get(Cf),E=h.create(ar.NULL,[],u||h.selector,g),C=E.location.nativeElement,S=E.injector.get(CC,null),O=S&&E.injector.get(wC);return S&&O&&O.registerApplication(C,S),E.onDestroy(()=>{this.detachView(E.hostView),Gy(this.components,E),O&&O.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Gy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(_C,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(a){return new(a||r)(K(Zt),K(ar),K(wc),K(xi),K(Bd))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();function Gy(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}let MC=!0,RC=!1;function dI(){return RC=!0,MC}function OC(){if(RC)throw new Error("Cannot enable prod mode after platform setup.");MC=!1}let Vd=(()=>{class r{}return r.__NG_ELEMENT_ID__=kC,r})();function kC(r){return function PC(r,s,a){if(ou(r)&&!a){const u=mi(r.index,s);return new Rg(u,u)}return 47&r.type?new Rg(s[16],s):null}(tn(),De(),16==(16&r))}class FC{constructor(){}supports(s){return Uc(s)}create(s){return new PS(s)}}const LC=(r,s)=>s;class PS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||LC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,g=null;for(;a||u;){const y=!u||a&&a.currentIndex<vI(u,h,g)?a:u,E=vI(y,h,g),C=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{g||(g=[]);const S=E-h,O=C-h;if(S!=O){for(let $=0;$<S;$++){const J=$<g.length?g[$]:g[$]=0,ye=J+$;O<=ye&&ye<S&&(g[$]=J+1)}g[y.previousIndex]=O-S}}E!==C&&s(y,E,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Uc(s))throw new xe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)g=s[E],y=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,g,y,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,y,E),u=!0),a=a._next}else h=0,function iw(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Na()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{y=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,E,y,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,h)):s=this._addAfter(new _I(a,u),g,h),s}_verifyReinsertion(s,a,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new yI),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class _I{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class yI{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new BC,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vI(r,s,a){const u=r.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class bI{constructor(){}supports(s){return s instanceof Map||E_(s)}create(){return new NS}}class NS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||E_(s)))throw new xe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const u=new FS(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class FS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nm(){return new Nf([new FC])}let Nf=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||nm()),deps:[[r,new nr,new Gt]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new xe(901,"")}}return r.\u0275prov=Yt({token:r,providedIn:"root",factory:nm}),r})();function EI(){return new Xy([new bI])}let Xy=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||EI()),deps:[[r,new nr,new Gt]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(u)return u;throw new xe(901,"")}}return r.\u0275prov=Yt({token:r,providedIn:"root",factory:EI}),r})();const LS=[new bI],VS=new Nf([new FC]),Jy=new Xy(LS),ev=xf(null,"core",[{provide:mC,useValue:"unknown"},{provide:SC,deps:[ar]},{provide:wC,deps:[]},{provide:yC,deps:[]}]),jS=[{provide:kf,useClass:kf,deps:[Zt,ar,wc,xi,Bd]},{provide:mD,deps:[Zt],useFactory:function HS(r){let s=[];return r.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Bd,useClass:Bd,deps:[[new Gt,Zg]]},{provide:Uy,useClass:Uy,deps:[]},pC,{provide:Nf,useFactory:function CI(){return VS},deps:[]},{provide:Xy,useFactory:function im(){return Jy},deps:[]},{provide:Kg,useFactory:function US(r){return r||function wI(){return"undefined"!=typeof $localize&&$localize.locale||Td}()},deps:[[new ii(Kg),new Gt,new nr]]},{provide:By,useValue:"USD"}];let $S=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(K(kf))},r.\u0275mod=Ii({type:r}),r.\u0275inj=Ci({providers:jS}),r})()},3942:($e,me,P)=>{P.d(me,{Z:()=>xe});var c=P(2090),ee=P(4859),N=P(9681),ce=P(1877);class le{constructor(fe,pe){this._delegate=fe,this.firebase=pe,(0,N._addComponent)(fe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,pe=N._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(fe);return!Le.isInitialized()&&"EXPLICIT"===(null===(Re=Le.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:pe})}_removeServiceInstance(fe,pe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(pe)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function he(){const Fe=function ue(Fe){const fe={},pe={__esModule:!0,initializeApp:function Ne(He,ve={}){const z=N.initializeApp(He,ve);if((0,c.r3)(fe,z.name))return fe[z.name];const re=new Fe(z,pe);return fe[z.name]=re,re},app:Le,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie(He){const ve=He.name,z=ve.replace("-compat","");if(N._registerComponent(He)&&"PUBLIC"===He.type){const re=(de=Le())=>{if("function"!=typeof de[z])throw ie.create("invalid-app-argument",{appName:ve});return de[z]()};void 0!==He.serviceProps&&(0,c.ZB)(re,He.serviceProps),pe[z]=re,Fe.prototype[z]=function(...de){return this._getService.bind(this,ve).apply(this,He.multipleInstances?de:[])}}return"PUBLIC"===He.type?pe[z]:null},removeApp:function Re(He){delete fe[He]},useAsService:function qe(He,ve){return"serverAuth"===ve?null:ve},modularAPIs:N}};function Le(He){if(!(0,c.r3)(fe,He=He||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:He});return fe[He]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function ze(){return Object.keys(fe).map(He=>fe[He])}}),Le.App=Fe,pe}(le);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function fe(pe){(0,c.ZB)(Fe,pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Fe}(),W=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=H;!function we(Fe){(0,N.registerVersion)("@firebase/app-compat","0.1.26",Fe)}()},9681:($e,me,P)=>{P.r(me),P.d(me,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>kr,_DEFAULT_ENTRY_NAME:()=>Qe,_addComponent:()=>jn,_addOrOverwriteComponent:()=>Yt,_apps:()=>gn,_clearComponents:()=>xr,_components:()=>$t,_getProvider:()=>Ci,_registerComponent:()=>Ni,_removeServiceInstance:()=>Ln,deleteApp:()=>et,getApp:()=>si,getApps:()=>Oe,initializeApp:()=>Fi,onLog:()=>jt,registerVersion:()=>_n,setLogLevel:()=>ts});var c=P(5861),ee=P(4859),N=P(1877),ce=P(2090),le=P(8766);class _e{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Te=>{if(function ie(G){const te=G.getComponent();return"VERSION"===(null==te?void 0:te.type)}(Te)){const Ze=Te.getImmediate();return`${Ze.library}/${Ze.version}`}return null}).filter(Te=>Te).join(" ")}}const ue="@firebase/app",H=new N.Yd("@firebase/app"),Qe="[DEFAULT]",ft={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,$t=new Map;function jn(G,te){try{G.container.addComponent(te)}catch(Te){H.debug(`Component ${te.name} failed to register with FirebaseApp ${G.name}`,Te)}}function Yt(G,te){G.container.addOrOverwriteComponent(te)}function Ni(G){const te=G.name;if($t.has(te))return H.debug(`There were multiple attempts to register component ${te}.`),!1;$t.set(te,G);for(const Te of gn.values())jn(Te,G);return!0}function Ci(G,te){const Te=G.container.getProvider("heartbeat").getImmediate({optional:!0});return Te&&Te.triggerHeartbeat(),G.container.getProvider(te)}function Ln(G,te,Te=Qe){Ci(G,te).clearInstance(Te)}function xr(){$t.clear()}const Ut=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class mn{constructor(te,Te,Ze){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Te),this._name=Te.name,this._automaticDataCollectionEnabled=Te.automaticDataCollectionEnabled,this._container=Ze,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}const kr="9.8.2";function Fi(G,te={}){"object"!=typeof te&&(te={name:te});const Te=Object.assign({name:Qe,automaticDataCollectionEnabled:!1},te),Ze=Te.name;if("string"!=typeof Ze||!Ze)throw Ut.create("bad-app-name",{appName:String(Ze)});const ut=gn.get(Ze);if(ut){if((0,ce.vZ)(G,ut.options)&&(0,ce.vZ)(Te,ut.config))return ut;throw Ut.create("duplicate-app",{appName:Ze})}const Ct=new ee.H0(Ze);for(const yt of $t.values())Ct.addComponent(yt);const Kt=new mn(G,Te,Ct);return gn.set(Ze,Kt),Kt}function si(G=Qe){const te=gn.get(G);if(!te)throw Ut.create("no-app",{appName:G});return te}function Oe(){return Array.from(gn.values())}function et(G){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(G){const te=G.name;gn.has(te)&&(gn.delete(te),yield Promise.all(G.container.getProviders().map(Te=>Te.delete())),G.isDeleted=!0)})).apply(this,arguments)}function _n(G,te,Te){var Ze;let ut=null!==(Ze=ft[G])&&void 0!==Ze?Ze:G;Te&&(ut+=`-${Te}`);const Ct=ut.match(/\s|\//),Kt=te.match(/\s|\//);if(Ct||Kt){const yt=[`Unable to register library "${ut}" with version "${te}":`];return Ct&&yt.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),Ct&&Kt&&yt.push("and"),Kt&&yt.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void H.warn(yt.join(" "))}Ni(new ee.wA(`${ut}-version`,()=>({library:ut,version:te}),"VERSION"))}function jt(G,te){if(null!==G&&"function"!=typeof G)throw Ut.create("invalid-log-argument");(0,N.Am)(G,te)}function ts(G){(0,N.Ub)(G)}const dn="firebase-heartbeat-store";let wi=null;function Zo(){return wi||(wi=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(G,te)=>{0===te&&G.createObjectStore(dn)}}).catch(G=>{throw Ut.create("storage-open",{originalErrorMessage:G.message})})),wi}function Xe(){return(Xe=(0,c.Z)(function*(G){try{return(yield Zo()).transaction(dn).objectStore(dn).get(pr(G))}catch(te){throw Ut.create("storage-get",{originalErrorMessage:te.message})}})).apply(this,arguments)}function st(G,te){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(G,te){try{const Ze=(yield Zo()).transaction(dn,"readwrite");return yield Ze.objectStore(dn).put(te,pr(G)),Ze.done}catch(Te){throw Ut.create("storage-set",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function pr(G){return`${G.name}!${G.options.appId}`}class Bt{constructor(te){this.container=te,this._heartbeatsCache=null;const Te=this.container.getProvider("app").getImmediate();this._storage=new q(Te),this._heartbeatsCachePromise=this._storage.read().then(Ze=>(this._heartbeatsCache=Ze,Ze))}triggerHeartbeat(){var te=this;return(0,c.Z)(function*(){const Ze=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=Di();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==ut&&!te._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ut))return te._heartbeatsCache.heartbeats.push({date:ut,agent:Ze}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Ct=>{const Kt=new Date(Ct.date).valueOf();return Date.now()-Kt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,c.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Te=Di(),{heartbeatsToSend:Ze,unsentEntries:ut}=function j(G,te=1024){const Te=[];let Ze=G.slice();for(const ut of G){const Ct=Te.find(Kt=>Kt.agent===ut.agent);if(Ct){if(Ct.dates.push(ut.date),Y(Te)>te){Ct.dates.pop();break}}else if(Te.push({agent:ut.agent,dates:[ut.date]}),Y(Te)>te){Te.pop();break}Ze=Ze.slice(1)}return{heartbeatsToSend:Te,unsentEntries:Ze}}(te._heartbeatsCache.heartbeats),Ct=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ze}));return te._heartbeatsCache.lastSentHeartbeatDate=Te,ut.length>0?(te._heartbeatsCache.heartbeats=ut,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Ct})()}}function Di(){return(new Date).toISOString().substring(0,10)}class q{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,c.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Lt(G){return Xe.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Te=this;return(0,c.Z)(function*(){var Ze;if(yield Te._canUseIndexedDBPromise){const Ct=yield Te.read();return st(Te.app,{lastSentHeartbeatDate:null!==(Ze=te.lastSentHeartbeatDate)&&void 0!==Ze?Ze:Ct.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Te=this;return(0,c.Z)(function*(){var Ze;if(yield Te._canUseIndexedDBPromise){const Ct=yield Te.read();return st(Te.app,{lastSentHeartbeatDate:null!==(Ze=te.lastSentHeartbeatDate)&&void 0!==Ze?Ze:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...te.heartbeats]})}})()}}function Y(G){return(0,ce.L)(JSON.stringify({version:2,heartbeats:G})).length}!function be(G){Ni(new ee.wA("platform-logger",te=>new _e(te),"PRIVATE")),Ni(new ee.wA("heartbeat",te=>new Bt(te),"PRIVATE")),_n(ue,"0.7.25",G),_n(ue,"0.7.25","esm2017"),_n("fire-js","")}("")},4859:($e,me,P)=>{P.d(me,{wA:()=>N,H0:()=>ue,zt:()=>le});var c=P(5861),ee=P(2090);class N{constructor(H,W,oe){this.name=H,this.instanceFactory=W,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ce="[DEFAULT]";class le{constructor(H,W){this.name=H,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const W=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(W)){const oe=new ee.BH;if(this.instancesDeferred.set(W,oe),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:W});Ue&&oe.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(W).promise}getImmediate(H){var W;const oe=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ue=null!==(W=null==H?void 0:H.optional)&&void 0!==W&&W;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(we){if(Ue)return null;throw we}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ie(he){return"EAGER"===he.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(W){}for(const[W,oe]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(W);try{const we=this.getOrInitializeService({instanceIdentifier:Ue});oe.resolve(we)}catch(we){}}}}clearInstance(H=ce){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const W=Array.from(H.instances.values());yield Promise.all([...W.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...W.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ce){return this.instances.has(H)}getOptions(H=ce){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:W={}}=H,oe=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:oe,options:W});for(const[we,xe]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(we)&&xe.resolve(Ue);return Ue}onInit(H,W){var oe;const Ue=this.normalizeInstanceIdentifier(W),we=null!==(oe=this.onInitCallbacks.get(Ue))&&void 0!==oe?oe:new Set;we.add(H),this.onInitCallbacks.set(Ue,we);const xe=this.instances.get(Ue);return xe&&H(xe,Ue),()=>{we.delete(H)}}invokeOnInitCallbacks(H,W){const oe=this.onInitCallbacks.get(W);if(oe)for(const Ue of oe)try{Ue(H,W)}catch(we){}}getOrInitializeService({instanceIdentifier:H,options:W={}}){let oe=this.instances.get(H);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(he=H,he===ce?void 0:he),options:W}),this.instances.set(H,oe),this.instancesOptions.set(H,W),this.invokeOnInitCallbacks(oe,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,oe)}catch(Ue){}var he;return oe||null}normalizeInstanceIdentifier(H=ce){return this.component?this.component.multipleInstances?H:ce:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const W=this.getProvider(H.name);if(W.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);W.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const W=new le(H,this);return this.providers.set(H,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:($e,me,P)=>{P.d(me,{in:()=>ee,Yd:()=>ie,Ub:()=>ue,Am:()=>he});const c=[];var ee=(()=>{return(H=ee||(ee={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ee;var H})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ce=ee.INFO,le={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},_e=(H,W,...oe)=>{if(W<H.logLevel)return;const Ue=(new Date).toISOString(),we=le[W];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[we](`[${Ue}]  ${H.name}:`,...oe)};class ie{constructor(W){this.name=W,this._logLevel=ce,this._logHandler=_e,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in ee))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?N[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...W),this._logHandler(this,ee.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...W),this._logHandler(this,ee.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...W),this._logHandler(this,ee.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...W),this._logHandler(this,ee.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...W),this._logHandler(this,ee.ERROR,...W)}}function ue(H){c.forEach(W=>{W.setLogLevel(H)})}function he(H,W){for(const oe of c){let Ue=null;W&&W.level&&(Ue=N[W.level]),oe.userLogHandler=null===H?null:(we,xe,...Fe)=>{const fe=Fe.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch(Re){return null}}).filter(pe=>pe).join(" ");xe>=(null!=Ue?Ue:we.logLevel)&&H({level:ee[xe].toLowerCase(),message:fe,args:Fe,type:we.name})}}}},8766:($e,me,P)=>{P.d(me,{Lj:()=>Ne,X3:()=>Le});var c=P(5861);let N,ce;const ie=new WeakMap,ue=new WeakMap,he=new WeakMap,H=new WeakMap,W=new WeakMap;let we={get(ve,z,re){if(ve instanceof IDBTransaction){if("done"===z)return ue.get(ve);if("objectStoreNames"===z)return ve.objectStoreNames||he.get(ve);if("store"===z)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return pe(ve[z])},set:(ve,z,re)=>(ve[z]=re,!0),has:(ve,z)=>ve instanceof IDBTransaction&&("done"===z||"store"===z)||z in ve};function fe(ve){return"function"==typeof ve?function Fe(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...z){return ve.apply(Re(this),z),pe(ie.get(this))}:function(...z){return pe(ve.apply(Re(this),z))}:function(z,...re){const de=ve.call(Re(this),z,...re);return he.set(de,z.sort?z.sort():[z]),pe(de)}}(ve):(ve instanceof IDBTransaction&&function Ue(ve){if(ue.has(ve))return;const z=new Promise((re,de)=>{const ge=()=>{ve.removeEventListener("complete",Ae),ve.removeEventListener("error",ae),ve.removeEventListener("abort",ae)},Ae=()=>{re(),ge()},ae=()=>{de(ve.error||new DOMException("AbortError","AbortError")),ge()};ve.addEventListener("complete",Ae),ve.addEventListener("error",ae),ve.addEventListener("abort",ae)});ue.set(ve,z)}(ve),((ve,z)=>z.some(re=>ve instanceof re))(ve,function le(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,we):ve)}function pe(ve){if(ve instanceof IDBRequest)return function oe(ve){const z=new Promise((re,de)=>{const ge=()=>{ve.removeEventListener("success",Ae),ve.removeEventListener("error",ae)},Ae=()=>{re(pe(ve.result)),ge()},ae=()=>{de(ve.error),ge()};ve.addEventListener("success",Ae),ve.addEventListener("error",ae)});return z.then(re=>{re instanceof IDBCursor&&ie.set(re,ve)}).catch(()=>{}),W.set(z,ve),z}(ve);if(H.has(ve))return H.get(ve);const z=fe(ve);return z!==ve&&(H.set(ve,z),W.set(z,ve)),z}const Re=ve=>W.get(ve);function Le(ve,z,{blocked:re,upgrade:de,blocking:ge,terminated:Ae}={}){const ae=indexedDB.open(ve,z),at=pe(ae);return de&&ae.addEventListener("upgradeneeded",Tt=>{de(pe(ae.result),Tt.oldVersion,Tt.newVersion,pe(ae.transaction))}),re&&ae.addEventListener("blocked",()=>re()),at.then(Tt=>{Ae&&Tt.addEventListener("close",()=>Ae()),ge&&Tt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),at}function Ne(ve,{blocked:z}={}){const re=indexedDB.deleteDatabase(ve);return z&&re.addEventListener("blocked",()=>z()),pe(re).then(()=>{})}const ze=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],qe=new Map;function He(ve,z){if(!(ve instanceof IDBDatabase)||z in ve||"string"!=typeof z)return;if(qe.get(z))return qe.get(z);const re=z.replace(/FromIndex$/,""),de=z!==re,ge=Ie.includes(re);if(!(re in(de?IDBIndex:IDBObjectStore).prototype)||!ge&&!ze.includes(re))return;const Ae=function(){var ae=(0,c.Z)(function*(at,...Tt){const un=this.transaction(at,ge?"readwrite":"readonly");let Qe=un.store;return de&&(Qe=Qe.index(Tt.shift())),(yield Promise.all([Qe[re](...Tt),ge&&un.done]))[0]});return function(Tt){return ae.apply(this,arguments)}}();return qe.set(z,Ae),Ae}!function xe(ve){we=ve(we)}(ve=>_O(mO({},ve),{get:(z,re,de)=>He(z,re)||ve.get(z,re,de),has:(z,re)=>!!He(z,re)||ve.has(z,re)}))},5861:($e,me,P)=>{function c(N,ce,le,_e,ie,ue,he){try{var H=N[ue](he),W=H.value}catch(oe){return void le(oe)}H.done?ce(W):Promise.resolve(W).then(_e,ie)}function ee(N){return function(){var ce=this,le=arguments;return new Promise(function(_e,ie){var ue=N.apply(ce,le);function he(W){c(ue,_e,ie,he,H,"next",W)}function H(W){c(ue,_e,ie,he,H,"throw",W)}he(void 0)})}}P.d(me,{Z:()=>ee})}},$e=>{$e($e.s=525)}]);